import m from"./TextInput.UIM4_-T9.js";import{_,ao as f,n as s,a as o,p as g,k as r,f as S,y as n,s as i,d as u,v as q,g as c,h,w as l,Q as v,a4 as b,ap as k}from"./entry.0q7qStI1.js";import{u as w}from"./storiesStore.DnfAre5K.js";const C={props:{query:{type:String,default:""},standalone:{type:Boolean,default:!1},category:{default:"",validator:function(e){return f.indexOf(e)!==-1}},isHeader:{type:Boolean,default:!0},placeholder:{type:String,default:""},icon:{type:String,default:""},addStoryId:{type:Boolean,default:!1}},emits:["submit"],data(){return{input:this.query||this.$route.query.query}},computed:{...s(o,["language"]),...g(o,["search","searchCategory","showSearchForm"]),...s(w,["colorVariant","currentStory"]),value(){return this.standalone?this.input:this.search}},methods:{setValue(e){this.input=e.target.value},doSearch(){if(this.$emit("submit"),this.search=this.input,this.searchCategory=this.category,this.addStoryId){const e=this.$route.query&&this.$route.query.story?this.$route.query.story:this.currentStory.id;this.$router.push({path:`/${this.language}/search/`,query:{query:this.search,category:this.category,story:e,type:"sw"}}),(!this.isHeader||this.$route.query&&this.$route.query.type&&this.$route.query.type==="sw")&&(this.showSearchForm=!0)}else this.$router.push({path:`/${this.language}/search/`,query:{query:this.search,category:this.category}}),this.showSearchForm=!1}}},$={class:"search-container d-flex align-items-center"},B={key:0,class:"pe-2"},V={key:1,class:"im-chevron-right pe-3 pe-md-4"};function x(e,I,t,H,F,a){const d=m,y=b,p=k;return r(),S(p,{method:"GET",action:`${e.language}/search/`,class:l({dark:e.colorVariant==="dark"}),onSubmit:v(a.doSearch,["prevent"])},{default:n(()=>[i("div",$,[t.isHeader?(r(),u("span",B,q(e.$t("search.placeholder")),1)):c("",!0),t.isHeader?(r(),u("span",V)):c("",!0),h(d,{name:"query",value:a.value,placeholder:t.placeholder,onInput:a.setValue},null,8,["value","placeholder","onInput"])]),h(y,{variant:"outline-black",onClick:a.doSearch},{default:n(()=>[i("span",{class:l(t.icon?"im-"+t.icon:"im-search")},null,2)]),_:1},8,["onClick"])]),_:1},8,["action","class","onSubmit"])}const z=_(C,[["render",x],["__scopeId","data-v-92826343"]]);export{z as default};
