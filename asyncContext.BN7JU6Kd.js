import{E as r,G as c,H as y,P as f,o as p,$ as l,I as x,J as v}from"./entry.0q7qStI1.js";const d="$s";function $(...t){const o=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(o);const[n,s]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(s!==void 0&&typeof s!="function")throw new Error("[nuxt] [useState] init must be a function: "+s);const e=d+n,a=y(),u=r(a.payload.state,e);if(u.value===void 0&&s){const i=s();if(c(i))return a.payload.state[e]=i,i;u.value=i}return u}const h=async(t,o={},n={})=>{const s=`${JSON.stringify(o)}${t}`,e=$(`${s}-state`),a=f();if(p(()=>{e.value&&e.value.id&&l(e.value.id,u=>e.value=u,n)}),!e.value){const{data:u}=await a.get(`cdn/stories/${t}`,o);e.value=u.story}return e};function A(t){return x(()=>{var n;const o=(n=v())==null?void 0:n.appContext.app.$nuxt;return o?o.runWithContext(t):t()})}export{h as u,A as w};
