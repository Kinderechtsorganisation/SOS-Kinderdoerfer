import h from"./PrefetchLink.0fGeQA_I.js";import{u as p}from"./extLinks.BMYQmQ8K.js";import{_ as m,n as u,q as f,k,d as M,h as v,y as b,s as a,v as y,w as r,Q as _,U as x,V as g}from"./entry.0q7qStI1.js";import{u as c}from"./modalStore.BbZhz-_g.js";import{u as w}from"./viewportStore.CIdjoTgi.js";const O={props:{styles:{type:Object,default(){return{}}},item:{type:Object,required:!0},mobilecollapsed:{type:Boolean},transition:{type:String,default:""},setMenuPos:{type:Boolean,required:!1}},setup(){const{linkRel:t,isDisabledLink:i,linkTo:s,linkTarget:n,linkType:o,linkHref:e}=p();return{linkRel:t,isDisabledLink:i,linkTo:s,linkTarget:n,linkType:o,linkHref:e}},data(){return{isDesktopOpen:!1,xPos:null}},computed:{...u(c,["openedModals"]),...u(w,["vp"]),stylePos(){const t={};if(typeof this.xPos=="number"&&!this.isMobile&&this.vp.bpWidth<1440&&this.vp.bpWidth-640<this.xPos){const s=(this.xPos-(this.vp.bpWidth-640)+100)*-1;t.left=`${s}px`}return t},isOpen(){var t;return this.isMobile?((t=this.openedModals)==null?void 0:t.mobileMainNav)===this.item._uid:this.isDesktopOpen},isMobile(){return this.vp.bpMinWidth<992},hasActiveChildLink(){const t=this.$route.path.startsWith("/")?this.$route.path.slice(1):this.$route.path;return!!this.item.children.find(s=>!!s.children.find(o=>{const e=o.link.cached_url;return(e.slice(-1)==="/"?e.slice(0,-1):e)===t}))}},mounted(){this.$nextTick(()=>{this.calcFlyoutPos()})},methods:{...f(c,["openModal","closeModal"]),calcFlyoutPos(){if(this.setMenuPos&&this.$refs.link){const t=this.$refs.link.getBoundingClientRect();this.xPos=Math.round(t.x-t.width/2);return}this.xPos=null},mouseOver(){this.mobilecollapsed||(this.isDesktopOpen=!0,this.openModal("flyoutMainNav"))},mouseLeave(){this.isDesktopOpen=!1,this.closeModal("flyoutMainNav")},toggleMenu(){this.isMobile&&(this.isOpen?this.closeModal("mobileMainNav"):this.openModal("mobileMainNav",this.item._uid))},closeMenu(){this.closeModal("mobileMainNav"),this.isDesktopOpen=!1}}},P=["aria-expanded"];function L(t,i,s,n,o,e){const d=h;return k(),M("li",{ref:"link",class:r(["nav-item b-nav-dropdown dropdown",{show:o.isDesktopOpen}]),onMouseleave:i[2]||(i[2]=(...l)=>e.mouseLeave&&e.mouseLeave(...l)),onMouseover:i[3]||(i[3]=l=>(e.mouseOver(),e.calcFlyoutPos()))},[v(d,{class:r(["nav-link d-flex justify-content-between hover-item-link",{"active-parent":e.hasActiveChildLink}]),type:"b-link",rel:n.linkRel(s.item.link),target:n.linkTarget(s.item.link),"disable-link":n.isDisabledLink(s.item.link),to:n.linkTo(s.item.link),href:n.linkHref(s.item.link),onClick:e.closeMenu},{default:b(()=>[a("span",null,y(s.item.name),1)]),_:1},8,["class","rel","target","disable-link","to","href","onClick"]),a("button",{"aria-expanded":e.isOpen,class:"btn dropdown-toggle shadow-none",onClick:i[0]||(i[0]=_((...l)=>e.toggleMenu&&e.toggleMenu(...l),["stop"]))},null,8,P),a("ul",{ref:"dropdown",class:r(["dropdown-menu",{show:e.isOpen}]),style:g(e.stylePos),onClick:i[1]||(i[1]=(...l)=>e.closeMenu&&e.closeMenu(...l))},[x(t.$slots,"dropdown",{},void 0,!0)],6)],34)}const S=m(O,[["render",L],["__scopeId","data-v-b3204b3d"]]);export{S as default};
