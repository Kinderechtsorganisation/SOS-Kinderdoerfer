(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9378],{33335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79493),i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},97316:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14700),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.makeGetRequest=function(e,t){return a.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(o(n(5311)).default);t.default=s},14700:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79493),i=n(57406).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest;return{responsePromise:new Promise(function(o,a){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach(function(n){var r=e[n];t.setRequestHeader(n,r)})}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status){a(Error("Request error"));return}var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach(function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),i=e.slice(t+2);i.length>0&&(r[n]=i)}}),r}(n);o({statusCode:n.status,body:n.responseText,headers:e})}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){i.error("Request timed out")},n.send()}),abort:function(){n.abort()}}}},79493:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},56890:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach(function(e){(0,n[e])(t)})},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=n},5311:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(57406),a=n(39027),s=i(n(56890)),u=n(79493),c=i(n(33335)),l=o.getLogger("DatafileManager");function f(e){return e>=200&&e<400}var d={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},p=function(){function e(e){var t=this,n=r({},this.getConfigDefaults(),e),i=n.datafile,o=n.autoUpdate,f=n.sdkKey,p=n.updateInterval,h=void 0===p?u.DEFAULT_UPDATE_INTERVAL:p,v=n.urlTemplate,g=void 0===v?u.DEFAULT_URL_TEMPLATE:v,y=n.cache;(this.cache=void 0===y?d:y,this.cacheKey="opt-datafile-"+f,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n}),i?(this.currentDatafile=i,f||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(g,f),this.emitter=new s.default,this.autoUpdate=void 0!==o&&o,h>=u.MIN_UPDATE_INTERVAL)?this.updateInterval=h:(l.warn("Invalid updateInterval %s, defaulting to %s",h,u.DEFAULT_UPDATE_INTERVAL),this.updateInterval=u.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new c.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(l.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return l.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?l.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?l.error("Error fetching datafile: %s",e):l.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){void 0!==e.statusCode&&f(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);""!==t&&(l.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled?this.emitter.emit("update",{datafile:t}):this.resolveReadyPromise())}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),l.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,function(){return JSON.stringify(t)}),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then(function(t){e.onRequestResolved(t)},function(t){e.onRequestRejected(t)}).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=Math.max(this.backoffController.getDelay(),this.updateInterval);l.debug("Scheduling sync in %s ms",t),this.currentTimeout=setTimeout(function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()},t)},e.prototype.getNextDatafileFromResponse=function(e){return(l.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode)?"":f(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,l.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then(function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(l.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())})},e}();t.default=p},95840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(97316);t.HttpPollingDatafileManager=r.default},11448:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},38451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var r=n(3919),i=n(57406),o=n(39027);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),e=Math.max(1,e)},t.getQueue=function(e,t,n,i){return e>1?new r.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:n,batchComparator:i}):new r.SingleEventQueue({sink:n})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},3919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var r=n(57406).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(!this.started){r.warn("Queue is stopped, not accepting event");return}var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},87786:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},75708:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(87786),t),i(n(38451),t),i(n(11448),t),i(n(15947),t),i(n(38589),t),i(n(97709),t),i(n(62442),t)},15947:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},38589:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var o=n(57406),a=n(39825),s=n(39027),u=o.getLogger("EventProcessor"),c=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:s.generateUUID(),timestamp:s.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();u.debug("Sending %s pending events from previous page",t.length),t.forEach(function(t){try{e.send(t,function(){})}catch(e){}})},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,function(r){n.store.remove(e.uuid),t(r)})},e}();t.PendingEventsDispatcher=c;var l=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new a.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return i(t,e),t}(c);t.LocalStoragePendingEventsDispatcher=l},39825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var r=n(39027),i=n(57406).getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,n=e.maxValues;this.LS_KEY=t,this.maxValues=void 0===n?1e3:n}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){i.error(e)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map(function(t){return{key:t,value:e[t]}});r.sort(function(e,t){return e.value.timestamp-t.value.timestamp});for(var i=0;i<n;i++)delete e[r[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){i.error(e)}return{}},e}();t.LocalStorageStore=o},63070:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach(function(e){return e()}),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise(function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)})},e}();t.default=n},97709:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var r="$opt_bot_filtering";function i(e){var t=[],n=e[0];return e.forEach(function(e){if("conversion"===e.type||"impression"===e.type){var n=s(e);"impression"===e.type?n.snapshots.push(a(e)):"conversion"===e.type&&n.snapshots.push(o(e)),t.push(n)}}),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=n({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}function a(e){var t=e.layer,n=e.experiment,r=e.variation,i=e.ruleKey,o=e.flagKey,a=e.ruleType,s=e.enabled,u=t?t.id:null;return{decisions:[{campaign_id:u,experiment_id:n?n.id:null,variation_id:r?r.id:null,metadata:{flag_key:o,rule_key:i,rule_type:a,variation_key:r?r.key:"",enabled:s}}],events:[{entity_id:u,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach(function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})}),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:r,key:r,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},62442:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=n(57406),s=n(38451),u=o(n(63070)),c=n(87786),l=n(97709),f=a.getLogger("LogTierV1EventProcessor"),d=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,r=void 0===n?s.DEFAULT_FLUSH_INTERVAL:n,i=e.batchSize,o=void 0===i?s.DEFAULT_BATCH_SIZE:i,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new u.default,r=s.validateAndGetFlushInterval(r),o=s.validateAndGetBatchSize(o),this.queue=s.getQueue(o,r,this.drainQueue.bind(this),c.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,n=new Promise(function(n){if(f.debug("draining queue with %s events",e.length),0===e.length){n();return}var r=l.formatEvents(e);t.dispatcher.dispatchEvent(r,function(){n()}),s.sendEventNotification(t.notificationCenter,r)});return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){f.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return this.queue.start(),[2]})})},e}();t.LogTierV1EventProcessor=d},75722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=n;var r=new n;t.setErrorHandler=function(e){r=e},t.getErrorHandler=function(){return r},t.resetErrorHandler=function(){r=new n}},57406:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(75722)),r(n(62715)),r(n(34082))},34082:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(75722),i=n(89978),o=n(62715),a={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function s(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),a[e])?a[e]:e}var u=function(){function e(){this.defaultLoggerFacade=new d,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new d({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),c=function(){function e(e){void 0===e&&(e={}),this.logLevel=o.LogLevel.NOTSET,void 0!==e.logLevel&&i.isValidEnum(o.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=s(e),i.isValidEnum(o.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=o.LogLevel.ERROR},e.prototype.getTime=function(){return new Date().toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case o.LogLevel.DEBUG:return"DEBUG";case o.LogLevel.INFO:return"INFO ";case o.LogLevel.WARNING:return"WARN ";case o.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case o.LogLevel.DEBUG:console.log.apply(console,t);break;case o.LogLevel.INFO:console.info.apply(console,t);break;case o.LogLevel.WARNING:console.warn.apply(console,t);break;case o.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=c;var l=o.LogLevel.NOTSET,f=null,d=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){this.internalLog(s(e),{message:t,splat:[]})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(o.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+i.sprintf.apply(void 0,[e.message].concat(e.splat))},e.prototype.internalLog=function(e,t){f&&!(e<l)&&(f.log(e,this.format(t)),t.error&&t.error instanceof Error&&r.getErrorHandler().handleError(t.error))},e.prototype.namedLog=function(e,t,n){if(t instanceof Error){t=(r=t).message,this.internalLog(e,{error:r,message:t,splat:n});return}if(0===n.length){this.internalLog(e,{message:t,splat:n});return}var r,i=n[n.length-1];i instanceof Error&&(r=i,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})},e}(),p=new u;t.getLogger=function(e){return p.getLogger(e)},t.setLogHandler=function(e){f=e},t.setLogLevel=function(e){e=s(e),l=i.isValidEnum(o.LogLevel,e)&&void 0!==e?e:o.LogLevel.ERROR},t.getLogLevel=function(){return l},t.resetLogger=function(){p=new u,l=o.LogLevel.NOTSET}},62715:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.LogLevel||(t.LogLevel={}))[n.NOTSET=0]="NOTSET",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR"},89978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11719);function i(e){return Object.keys(e).map(function(t){return e[t]})}t.getTimestamp=function(){return new Date().getTime()},t.generateUUID=function(){return r.v4()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach(function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)}),i(n)},t.objectValues=i,t.find=function(e,t){for(var n,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=i;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach(function(e){n[t(e)]=e}),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})}},39027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11719);function o(e){return Object.keys(e).map(function(t){return e[t]})}t.generateUUID=function(){return i.v4()},t.getTimestamp=function(){return new Date().getTime()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach(function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)}),o(n)},t.objectValues=o,t.objectEntries=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.find=function(e,t){for(var n,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=i;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach(function(e){n[t(e)]=e}),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})},(r=t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",r.DECISION="DECISION:type, userId, attributes, decisionInfo",r.LOG_EVENT="LOG_EVENT:logEvent",r.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",r.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"},76829:function(e,t,n){"use strict";var r,i,o=n(57406),a=n(75708),s=n(39027),u=n(95840),c=(i=n(18170))&&"object"==typeof i&&"default"in i?i.default:i,l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var d={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},p={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},h={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s bucketed into everyone targeting rule.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},v={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent"},g=["node-sdk","react-sdk","javascript-sdk","react-native-sdk","react-native-js-sdk"],y=s.NOTIFICATION_TYPES,m={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},E={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},b={RULE:"rule",EXPERIMENT:"experiment"},O={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},_={V2:"2",V3:"3",V4:"4"},I={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'},T=Object.freeze({__proto__:null,LOG_LEVEL:d,ERROR_MESSAGES:p,LOG_MESSAGES:h,CONTROL_ATTRIBUTES:v,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.7.0",VALID_CLIENT_ENGINES:g,NOTIFICATION_TYPES:y,DECISION_NOTIFICATION_TYPES:m,DECISION_SOURCES:E,AUDIENCE_EVALUATION_TYPES:b,FEATURE_VARIABLE_TYPES:O,DATAFILE_VERSIONS:_,DECISION_MESSAGES:I}),R="CONFIG_VALIDATOR",N=[_.V2,_.V3,_.V4],S=function(e){if("object"==typeof e&&null!==e){var t=e.errorHandler,n=e.eventDispatcher,r=e.logger;if(t&&"function"!=typeof t.handleError)throw Error(s.sprintf(p.INVALID_ERROR_HANDLER,R));if(n&&"function"!=typeof n.dispatchEvent)throw Error(s.sprintf(p.INVALID_EVENT_DISPATCHER,R));if(r&&"function"!=typeof r.log)throw Error(s.sprintf(p.INVALID_LOGGER,R));return!0}throw Error(s.sprintf(p.INVALID_CONFIG,R))},A=function(e){if(!e)throw Error(s.sprintf(p.NO_DATAFILE_SPECIFIED,R));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw Error(s.sprintf(p.INVALID_DATAFILE_MALFORMED,R))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===N.indexOf(e.version))throw Error(s.sprintf(p.INVALID_DATAFILE_VERSION,R,e.version));return e},x={dispatchEvent:function(e,t){var n,r=e.params,i=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",i,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(i+="?wxhr=true",r&&(i+="&"+Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&")),(n=new XMLHttpRequest).open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},w=function(){function e(){}return e.prototype.log=function(){},e}();function L(e){return new o.ConsoleLogHandler(e)}var C,P,D=Object.freeze({__proto__:null,NoOpLogger:w,createLogger:L,createNoOpLogger:function(){return new w}});function k(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}(r=C||(C={})).BOOLEAN="boolean",r.DOUBLE="double",r.INTEGER="integer",r.STRING="string",r.JSON="json",(P=t.N1||(t.N1={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",P.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",P.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",P.INCLUDE_REASONS="INCLUDE_REASONS",P.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var U=function(){function e(e){var t,n=e.optimizely,r=e.userId,i=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!==(t=l({},i))&&void 0!==t?t:{}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return l({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.cloneUserContext=function(){return new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()})},e}(),V={assign:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,f([e],t));for(var r=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r},currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&9007199254740992>=Math.abs(e)},keyBy:function(e,t){return e?s.keyBy(e,function(e){return e[t]}):{}},uuid:s.generateUUID,isNumber:function(e){return"number"==typeof e}},M=["and","or","not"];function F(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===M.indexOf(n)&&(n="or",r=e),n){case"and":return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=F(e[r],t);if(!1===i)return!1;null===i&&(n=!0)}return!n||null}return null}(r,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var n=F(e[0],t);return null===n?null:!n}return null}(r,t);default:return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=F(e[r],t);if(!0===i)return!0;null===i&&(n=!0)}return!!n&&null}return null}(r,t)}}return t(e)}var j=function(){function e(t,n){this.sdkKey=null!==(r=t.sdkKey)&&void 0!==r?r:"",this.environmentKey=null!==(i=t.environmentKey)&&void 0!==i?i:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var r,i,o=(t.featureFlags||[]).reduce(function(e,t){return e[t.id]=t.variables,e},{}),a=e.getExperimentsMapById(t,o);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,o,a),this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],n=[];return(e.typedAudiences||[]).forEach(function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),n.push(e.id)}),(e.audiences||[]).forEach(function(e){-1===n.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})}),t},e.getSerializedAudiences=function(t,n){var r="";if(t){var i="";t.forEach(function(t){var o="";if(t instanceof Array)o="("+(o=e.getSerializedAudiences(t,n))+")";else if(M.indexOf(t)>-1)i=t.toUpperCase();else{var a=n[t]?n[t].name:t;r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+' "'+n[t].name+'"':r.concat(" "+i+' "'+a+'"')):r='"'+a+'"'}""!==o&&(""!==r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+" "+o:r.concat(" "+i+" "+o)):r=r.concat(o))})}return r},e.getExperimentAudiences=function(t,n){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,n.audiencesById):""},e.mergeFeatureVariables=function(e,t,n,r,i){var o=(e[n]||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{});return(r||[]).forEach(function(e){var n=t[e.id],r={id:e.id,key:n.key,type:n.type,value:i?e.value:n.defaultValue};o[n.key]=r}),o},e.getVariationsMap=function(t,n,r,i){return t.reduce(function(t,o){var a=e.mergeFeatureVariables(n,r,i,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t},{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce(function(e,t){return t.variables.forEach(function(t){e[t.id]=t}),e},{})},e.getDeliveryRules=function(t,n,r,i){var o=e.getVariableIdMap(t);return i.map(function(i){return{id:i.id,key:i.key,audiences:e.getExperimentAudiences(i,t),variationsMap:e.getVariationsMap(i.variations,n,o,r)}})},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach(function(e){e.experiments.forEach(function(e){t.push(e.id)})}),t},e.getExperimentsMapById=function(t,n){var r=e.getVariableIdMap(t),i=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce(function(o,a){if(-1===i.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],u="";s&&s.length>0&&(u=s[0]);var c=e.getVariationsMap(a.variations,n,r,u.toString());o[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:c}}return o},{})},e.getExperimentsKeyMap=function(e){var t={};for(var n in e){var r=e[n];t[r.key]=r}return t},e.getFeaturesMap=function(t,n,r){var i={};return t.featureFlags.forEach(function(o){var a={},s=[];o.experimentIds.forEach(function(e){var t=r[e];t&&(a[t.key]=t),s.push(r[e])});var u=(o.variables||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{}),c=[],l=t.rolloutIdMap[o.rolloutId];l&&(c=e.getDeliveryRules(t,n,o.id,l.experiments)),i[o.key]={id:o.id,key:o.key,experimentRules:s,deliveryRules:c,experimentsMap:a,variablesMap:u}}),i},e}(),B="PROJECT_CONFIG",K=function(e,t){void 0===t&&(t=null);var n,r,i,o=((i=V.assign({},e)).audiences=(e.audiences||[]).map(function(e){return V.assign({},e)}),i.experiments=(e.experiments||[]).map(function(e){return V.assign({},e)}),i.featureFlags=(e.featureFlags||[]).map(function(e){return V.assign({},e)}),i.groups=(e.groups||[]).map(function(e){var t=V.assign({},e);return t.experiments=(e.experiments||[]).map(function(e){return V.assign({},e)}),t}),i.rollouts=(e.rollouts||[]).map(function(e){var t=V.assign({},e);return t.experiments=(e.experiments||[]).map(function(e){return V.assign({},e)}),t}),i.environmentKey=null!==(n=e.environmentKey)&&void 0!==n?n:"",i.sdkKey=null!==(r=e.sdkKey)&&void 0!==r?r:"",i);return o.__datafileStr=null===t?JSON.stringify(e):t,(o.audiences||[]).forEach(function(e){e.conditions=JSON.parse(e.conditions)}),o.audiencesById=V.keyBy(o.audiences,"id"),V.assign(o.audiencesById,V.keyBy(o.typedAudiences,"id")),o.attributeKeyMap=V.keyBy(o.attributes,"key"),o.eventKeyMap=V.keyBy(o.events,"key"),o.groupIdMap=V.keyBy(o.groups,"id"),Object.keys(o.groupIdMap||{}).forEach(function(e){(o.groupIdMap[e].experiments||[]).forEach(function(t){o.experiments.push(V.assign(t,{groupId:e}))})}),o.rolloutIdMap=V.keyBy(o.rollouts||[],"id"),s.objectValues(o.rolloutIdMap||{}).forEach(function(e){(e.experiments||[]).forEach(function(e){o.experiments.push(e),e.variationKeyMap=V.keyBy(e.variations,"key")})}),o.experimentKeyMap=V.keyBy(o.experiments,"key"),o.experimentIdMap=V.keyBy(o.experiments,"id"),o.variationIdMap={},o.variationVariableUsageMap={},(o.experiments||[]).forEach(function(e){e.variationKeyMap=V.keyBy(e.variations,"key"),V.assign(o.variationIdMap,V.keyBy(e.variations,"id")),s.objectValues(e.variationKeyMap||{}).forEach(function(e){e.variables&&(o.variationVariableUsageMap[e.id]=V.keyBy(e.variables,"id"))})}),o.experimentFeatureMap={},o.featureKeyMap=V.keyBy(o.featureFlags||[],"key"),s.objectValues(o.featureKeyMap||{}).forEach(function(e){e.variables.forEach(function(e){e.type===O.STRING&&e.subType===O.JSON&&(e.type=O.JSON,delete e.subType)}),e.variableKeyMap=V.keyBy(e.variables,"key"),(e.experimentIds||[]).forEach(function(t){o.experimentFeatureMap[t]?o.experimentFeatureMap[t].push(e.id):o.experimentFeatureMap[t]=[e.id]})}),o},G=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(s.sprintf(p.INVALID_EXPERIMENT_ID,B,t));return n.layerId},z=function(e,t,n){var r=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return r?(i&&n.log(d.WARNING,s.sprintf("Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_")),r.id):i?t:(n.log(d.DEBUG,s.sprintf(p.UNRECOGNIZED_ATTRIBUTE,B,t)),null)},H=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},q=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw Error(s.sprintf(p.INVALID_EXPERIMENT_KEY,B,t));return n.status},Y=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},W=function(e,t,n){var r=e.experimentIdMap[t];return r.variationKeyMap.hasOwnProperty(n)?r.variationKeyMap[n].id:null},Z=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw Error(s.sprintf(p.EXPERIMENT_KEY_NOT_IN_DATAFILE,B,t))},J=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(s.sprintf(p.INVALID_EXPERIMENT_ID,B,t));return n.trafficAllocation},X=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(d.ERROR,s.sprintf(p.INVALID_EXPERIMENT_ID,B,t)),null},$=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(d.ERROR,s.sprintf(p.FEATURE_NOT_IN_DATAFILE,B,t)),null},Q=function(e){return e.__datafileStr},ee=function(e){return!!e.sendFlagDecisions},et=o.getLogger();function en(e,t){return e instanceof Error?e.message:t||"Unknown error"}var er=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=Error(s.sprintf(p.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:en(t)}),void et.error(t)}var n=null;if(e.datafile&&(n=this.handleNewDatafile(e.datafile)),e.sdkKey){var r={sdkKey:e.sdkKey};this.validateDatafileOptions(e.datafileOptions)&&V.assign(r,e.datafileOptions),this.configObj&&(r.datafile=Q(this.configObj)),this.datafileManager=new u.HttpPollingDatafileManager(r),this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))}else this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:en(n,"Invalid datafile")})}catch(e){et.error(e),this.readyPromise=Promise.resolve({success:!1,reason:en(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:en(e)}:{success:!0}}return{success:!1,reason:en(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:en(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.validateDatafileOptions=function(e){return void 0===e||"object"==typeof e&&null!==e},e.prototype.handleNewDatafile=function(e){var t=function(e){try{t=A(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(d.INFO,s.sprintf(h.VALID_DATAFILE,B))}catch(e){return{configObj:null,error:e}}else e.logger.log(d.INFO,s.sprintf(h.SKIPPING_JSON_VALIDATION,B));var t,n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:K.apply(void 0,n),error:null}}({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:et}),n=t.configObj,r=t.error;if(r)et.error(r);else{var i,o,a=this.configObj?this.configObj.revision:"null";n&&a!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=(i=this.configObj,o=Q(this.configObj),new j(i,o)),this.updateListeners.forEach(function(e){return e(n)}))}return r},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){return this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var n=t.updateListeners.indexOf(e);n>-1&&t.updateListeners.splice(n,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),ei=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},s.objectValues(y).forEach(function(e){t.notificationListeners[e]=[]}),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(s.objectValues(y).indexOf(e)>-1))return -1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach(function(e){e.callback!==t||(n=!0)}),n)return -1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t,n,r=this;try{if(Object.keys(this.notificationListeners).some(function(i){return(r.notificationListeners[i]||[]).every(function(r,o){return r.id!==e||(t=o,n=i,!1)}),void 0!==t&&void 0!==n}),void 0!==t&&void 0!==n)return this.notificationListeners[n].splice(t,1),!0}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{s.objectValues(y).forEach(function(t){e.notificationListeners[t]=[]})}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach(function(r){var i=r.callback;try{i(t)}catch(t){n.logger.log(d.ERROR,s.sprintf(h.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message))}})}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),eo=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw Error(s.sprintf(p.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var i=ea(r,e.bucketingId,e.userId,e.logger);if(null===i){var o=s.sprintf(h.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n);return e.logger.log(d.INFO,o),t.push(o),{result:null,reasons:t}}if(i!==e.experimentId){var a=s.sprintf(h.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n);return e.logger.log(d.INFO,a),t.push(a),{result:null,reasons:t}}var u=s.sprintf(h.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n);e.logger.log(d.INFO,u),t.push(u)}}var c=eu(s.sprintf("%s%s",e.bucketingId,e.experimentId)),l=s.sprintf(h.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",c,e.userId);e.logger.log(d.DEBUG,l),t.push(l);var f=es(c,e.trafficAllocationConfig);if(null!==f&&!e.variationIdMap[f]){if(f){var v=s.sprintf(h.INVALID_VARIATION_ID,"BUCKETER");e.logger.log(d.WARNING,v),t.push(v)}return{result:null,reasons:t}}return{result:f,reasons:t}},ea=function(e,t,n,r){var i=eu(s.sprintf("%s%s",t,e.id));return r.log(d.DEBUG,s.sprintf(h.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",i,n)),es(i,e.trafficAllocation)},es=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},eu=function(e){try{var t=c.v3(e,1)/4294967296;return Math.floor(1e4*t)}catch(t){throw Error(s.sprintf(p.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ec=o.getLogger();function el(e){return/^\d+$/.test(e)}function ef(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function ed(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function ep(e){var t=e,n="";if(/\s/.test(e))return ec.warn(h.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(ef(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):ed(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return ec.warn(h.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=r+1)return ec.warn(h.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0;o<i.length;o++)if(!el(i[o]))return ec.warn(h.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&i.push(n),i}var eh="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",ev=o.getLogger(),eg=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],ey={};function em(e){return"string"==typeof e||"boolean"==typeof e||V.isNumber(e)}function eE(e,t){var n=e.value,r=e.name,i=t[r],o=typeof i;return!em(n)||V.isNumber(n)&&!V.isSafeInteger(n)?(ev.warn(h.UNEXPECTED_CONDITION_VALUE,eh,JSON.stringify(e)),null):null===i?(ev.debug(h.UNEXPECTED_TYPE_NULL,eh,JSON.stringify(e),r),null):em(i)&&typeof n===o?V.isNumber(i)&&!V.isSafeInteger(i)?(ev.warn(h.OUT_OF_BOUNDS,eh,JSON.stringify(e),r),null):n===i:(ev.warn(h.UNEXPECTED_TYPE,eh,JSON.stringify(e),o,r),null)}function eb(e,t){var n=e.name,r=t[n],i=e.value;return null!==i&&V.isSafeInteger(i)?null===r?(ev.debug(h.UNEXPECTED_TYPE_NULL,eh,JSON.stringify(e),n),!1):V.isNumber(r)?!!V.isSafeInteger(r)||(ev.warn(h.OUT_OF_BOUNDS,eh,JSON.stringify(e),n),!1):(ev.warn(h.UNEXPECTED_TYPE,eh,JSON.stringify(e),typeof r,n),!1):(ev.warn(h.UNEXPECTED_CONDITION_VALUE,eh,JSON.stringify(e)),!1)}function eO(e,t){var n=e.name,r=t[n],i=e.value;return"string"!=typeof i?(ev.warn(h.UNEXPECTED_CONDITION_VALUE,eh,JSON.stringify(e)),null):null===r?(ev.debug(h.UNEXPECTED_TYPE_NULL,eh,JSON.stringify(e),n),null):"string"!=typeof r?(ev.warn(h.UNEXPECTED_TYPE,eh,JSON.stringify(e),typeof r,n),null):function(e,t){var n=ep(t),r=ep(e);if(!n||!r)return null;for(var i=n.length,o=0;o<r.length;o++){if(i<=o)return ef(e)||ed(e)?1:-1;if(el(n[o])){var a=parseInt(n[o]),s=parseInt(r[o]);if(a>s)return 1;if(a<s)return -1}else{if(n[o]<r[o])return ef(e)&&!ef(t)?1:-1;if(n[o]>r[o])return!ef(e)&&ef(t)?-1:1}}return ef(t)&&!ef(e)?-1:0}(i,r)}ey.exact=eE,ey.exists=function(e,t){return null!=t[e.name]},ey.gt=function(e,t){var n=t[e.name],r=e.value;return eb(e,t)&&null!==r?n>r:null},ey.ge=function(e,t){var n=t[e.name],r=e.value;return eb(e,t)&&null!==r?n>=r:null},ey.lt=function(e,t){var n=t[e.name],r=e.value;return eb(e,t)&&null!==r?n<r:null},ey.le=function(e,t){var n=t[e.name],r=e.value;return eb(e,t)&&null!==r?n<=r:null},ey.substring=function(e,t){var n=e.name,r=t[e.name],i=e.value;return"string"!=typeof i?(ev.warn(h.UNEXPECTED_CONDITION_VALUE,eh,JSON.stringify(e)),null):null===r?(ev.debug(h.UNEXPECTED_TYPE_NULL,eh,JSON.stringify(e),n),null):"string"!=typeof r?(ev.warn(h.UNEXPECTED_TYPE,eh,JSON.stringify(e),typeof r,n),null):-1!==r.indexOf(i)},ey.semver_eq=function(e,t){var n=eO(e,t);return null===n?null:0===n},ey.semver_gt=function(e,t){var n=eO(e,t);return null===n?null:n>0},ey.semver_ge=function(e,t){var n=eO(e,t);return null===n?null:n>=0},ey.semver_lt=function(e,t){var n=eO(e,t);return null===n?null:n<0},ey.semver_le=function(e,t){var n=eO(e,t);return null===n?null:n<=0};var e_=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===eg.indexOf(n))return ev.warn(h.UNKNOWN_MATCH_TYPE,eh,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&ey[n]||eE)(e,t):(ev.debug(h.MISSING_ATTRIBUTE_VALUE,eh,JSON.stringify(e),r),null)}}),eI=o.getLogger(),eT=function(){function e(e){this.typeToEvaluatorMap=V.assign({},e,{custom_attribute:e_})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!F(e,function(e){var i=t[e];if(i){eI.log(d.DEBUG,s.sprintf(h.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions)));var o=F(i.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return eI.log(d.DEBUG,s.sprintf(h.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a)),o}return null})},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return eI.log(d.WARNING,s.sprintf(h.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t))),null;try{return n.evaluate(t,e)}catch(e){eI.log(d.ERROR,s.sprintf(p.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message))}return null},e}();function eR(e){return"string"==typeof e&&""!==e}var eN="DECISION_SERVICE",eS=function(){function e(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new eT(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,n,r,i,o){void 0===o&&(o={});var a=this.getBucketingId(r,i),u=[],c=n.key;if(!this.checkIfExperimentIsActive(e,c)){var l=s.sprintf(h.EXPERIMENT_NOT_RUNNING,eN,c);return this.logger.log(d.INFO,l),u.push(l),{result:null,reasons:u}}var f=this.getForcedVariation(e,c,r);u.push.apply(u,f.reasons);var p=f.result;if(p)return{result:p,reasons:u};var v=this.getWhitelistedVariation(n,r);u.push.apply(u,v.reasons);var g=v.result;if(g)return{result:g.key,reasons:u};var y=o[t.N1.IGNORE_USER_PROFILE_SERVICE],m=this.resolveExperimentBucketMap(r,i);if(!y&&(g=this.getStoredVariation(e,n,r,m))){var E=s.sprintf(h.RETURNING_STORED_VARIATION,eN,g.key,c,r);return this.logger.log(d.INFO,E),u.push(E),{result:g.key,reasons:u}}var O=this.checkIfUserIsInAudience(e,n,b.EXPERIMENT,i,"");if(u.push.apply(u,O.reasons),!O.result){var _=s.sprintf(h.USER_NOT_IN_EXPERIMENT,eN,r,c);return this.logger.log(d.INFO,_),u.push(_),{result:null,reasons:u}}var I=eo(this.buildBucketerParams(e,n,a,r));u.push.apply(u,I.reasons);var T=I.result;if(T&&(g=e.variationIdMap[T]),!g){var R=s.sprintf(h.USER_HAS_NO_VARIATION,eN,r,c);return this.logger.log(d.DEBUG,R),u.push(R),{result:null,reasons:u}}var N=s.sprintf(h.USER_HAS_VARIATION,eN,r,g.key,c);return this.logger.log(d.INFO,N),u.push(N),y||this.saveUserProfile(n,g,r,m),{result:g.key,reasons:u}},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[v.STICKY_BUCKETING_KEY];return V.assign({},n.experiment_bucket_map,r)},e.prototype.checkIfExperimentIsActive=function(e,t){return"Running"===q(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];if(e.variationKeyMap.hasOwnProperty(r)){var i=s.sprintf(h.USER_FORCED_IN_VARIATION,eN,t,r);return this.logger.log(d.INFO,i),n.push(i),{result:e.variationKeyMap[r],reasons:n}}var o=s.sprintf(h.FORCED_BUCKETING_FAILED,eN,r,t);return this.logger.log(d.ERROR,o),n.push(o),{result:null,reasons:n}}return{result:null,reasons:n}},e.prototype.checkIfUserIsInAudience=function(e,t,n,r,i){var o=[],a=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(s.sprintf(p.INVALID_EXPERIMENT_ID,B,t));return n.audienceConditions||n.audienceIds}(e,t.id),u=e.audiencesById,c=s.sprintf(h.EVALUATING_AUDIENCES_COMBINED,eN,n,i||t.key,JSON.stringify(a));this.logger.log(d.DEBUG,c),o.push(c);var l=this.audienceEvaluator.evaluate(a,u,r),f=s.sprintf(h.AUDIENCE_EVALUATION_RESULT_COMBINED,eN,n,i||t.key,l.toString().toUpperCase());return this.logger.log(d.INFO,f),o.push(f),{result:l,reasons:o}},e.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:J(e,t.id),userId:r,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var i=r[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(d.INFO,s.sprintf(h.SAVED_VARIATION_NOT_FOUND,eN,n,o,t.key))}return null},e.prototype.getUserProfile=function(e){if(!this.userProfileService)return{user_id:e,experiment_bucket_map:{}};try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(d.ERROR,s.sprintf(p.USER_PROFILE_LOOKUP_ERROR,eN,e,t.message))}return null},e.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(d.INFO,s.sprintf(h.SAVED_VARIATION,eN,t.key,e.key,n))}catch(e){this.logger.log(d.ERROR,s.sprintf(p.USER_PROFILE_SAVE_ERROR,eN,n,e.message))}},e.prototype.getVariationForFeature=function(e,t,n,r,i){void 0===i&&(i={});var o=[],a=this.getVariationForFeatureExperiment(e,t,n,r,i);o.push.apply(o,a.reasons);var u=a.result;if(null!==u.variation)return{result:u,reasons:o};var c=this.getVariationForRollout(e,t,n,r);o.push.apply(o,c.reasons);var l=c.result;if(l.variation){var f=s.sprintf(h.USER_IN_ROLLOUT,eN,n,t.key);return this.logger.log(d.DEBUG,f),o.push(f),{result:l,reasons:o}}var p=s.sprintf(h.USER_NOT_IN_ROLLOUT,eN,n,t.key);return this.logger.log(d.DEBUG,p),o.push(p),{result:l,reasons:o}},e.prototype.getVariationForFeatureExperiment=function(e,t,n,r,i){void 0===i&&(i={});var o,a,u=[],c=null;if(t.experimentIds.length>0)for(a=0;a<t.experimentIds.length;a++){var l=X(e,t.experimentIds[a],this.logger);if(l&&(o=this.getVariation(e,l,n,r,i),u.push.apply(u,o.reasons),c=o.result))return{result:{experiment:l,variation:l.variationKeyMap[c],decisionSource:E.FEATURE_TEST},reasons:u}}else{var f=s.sprintf(h.FEATURE_HAS_NO_EXPERIMENTS,eN,t.key);this.logger.log(d.DEBUG,f),u.push(f)}return{result:{experiment:null,variation:null,decisionSource:E.FEATURE_TEST},reasons:u}},e.prototype.getVariationForRollout=function(e,t,n,r){var i=[];if(!t.rolloutId){var o=s.sprintf(h.NO_ROLLOUT_EXISTS,eN,t.key);return this.logger.log(d.DEBUG,o),i.push(o),{result:{experiment:null,variation:null,decisionSource:E.ROLLOUT},reasons:i}}var a=e.rolloutIdMap[t.rolloutId];if(!a){var u=s.sprintf(p.INVALID_ROLLOUT_ID,eN,t.rolloutId,t.key);return this.logger.log(d.ERROR,u),i.push(u),{result:{experiment:null,variation:null,decisionSource:E.ROLLOUT},reasons:i}}if(0===a.experiments.length){var c=s.sprintf(h.ROLLOUT_HAS_NO_EXPERIMENTS,eN,t.rolloutId);return this.logger.log(d.ERROR,c),i.push(c),{result:{experiment:null,variation:null,decisionSource:E.ROLLOUT},reasons:i}}for(var l,f,v,g,y,m,O=this.getBucketingId(n,r),_=a.experiments.length-1,I=0;I<_;I++){if(l=e.experimentIdMap[a.experiments[I].id],g=I+1,m=this.checkIfUserIsInAudience(e,l,b.RULE,r,g),i.push.apply(i,m.reasons),m.result){var T=s.sprintf(h.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eN,n,g);if(this.logger.log(d.DEBUG,T),i.push(T),y=eo(this.buildBucketerParams(e,l,O,n)),i.push.apply(i,y.reasons),(f=y.result)&&(v=e.variationIdMap[f]),v){var R=s.sprintf(h.USER_BUCKETED_INTO_TARGETING_RULE,eN,n,g);return this.logger.log(d.DEBUG,R),i.push(R),{result:{experiment:l,variation:v,decisionSource:E.ROLLOUT},reasons:i}}var N=s.sprintf(h.USER_NOT_BUCKETED_INTO_TARGETING_RULE,eN,n,g);this.logger.log(d.DEBUG,N),i.push(N);break}var S=s.sprintf(h.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,eN,n,g);this.logger.log(d.DEBUG,S),i.push(S)}var A=e.experimentKeyMap[a.experiments[_].key],x=this.checkIfUserIsInAudience(e,A,b.RULE,r,"Everyone Else");if(i.push.apply(i,x.reasons),x.result){var w=s.sprintf(h.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eN,n,"Everyone Else");if(this.logger.log(d.DEBUG,w),i.push(w),y=eo(this.buildBucketerParams(e,A,O,n)),i.push.apply(i,y.reasons),(f=y.result)&&(v=e.variationIdMap[f]),v){var L=s.sprintf(h.USER_BUCKETED_INTO_EVERYONE_TARGETING_RULE,eN,n);return this.logger.log(d.DEBUG,L),i.push(L),{result:{experiment:A,variation:v,decisionSource:E.ROLLOUT},reasons:i}}var C=s.sprintf(h.USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE,eN,n);this.logger.log(d.DEBUG,C),i.push(C)}return{result:{experiment:null,variation:null,decisionSource:E.ROLLOUT},reasons:i}},e.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(v.BUCKETING_ID)&&("string"==typeof t[v.BUCKETING_ID]?(n=t[v.BUCKETING_ID],this.logger.log(d.DEBUG,s.sprintf(h.VALID_BUCKETING_ID,eN,n))):this.logger.log(d.WARNING,s.sprintf(h.BUCKETING_ID_NOT_STRING,eN))),n},e.prototype.removeForcedVariation=function(e,t,n){if(!e)throw Error(s.sprintf(p.INVALID_USER_ID,eN));if(!this.forcedVariationMap.hasOwnProperty(e))throw Error(s.sprintf(p.USER_NOT_IN_FORCED_VARIATION,eN,e));delete this.forcedVariationMap[e][t],this.logger.log(d.DEBUG,s.sprintf(h.VARIATION_REMOVED_FOR_USER,eN,n,e))},e.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(d.DEBUG,s.sprintf(h.USER_MAPPED_TO_FORCED_VARIATION,eN,n,t,e))},e.prototype.getForcedVariation=function(e,t,n){var r,i=[],o=this.forcedVariationMap[n];if(!o)return this.logger.log(d.DEBUG,s.sprintf(h.USER_HAS_NO_FORCED_VARIATION,eN,n)),{result:null,reasons:i};try{var a=Z(e,t);if(!a.hasOwnProperty("id")){var u=s.sprintf(p.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t);return this.logger.log(d.ERROR,u),i.push(u),{result:null,reasons:i}}r=a.id}catch(e){return this.logger.log(d.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var c=o[r];if(!c)return this.logger.log(d.DEBUG,s.sprintf(h.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eN,t,n)),{result:null,reasons:i};var l=Y(e,c);if(l){var f=s.sprintf(h.USER_HAS_FORCED_VARIATION,eN,l,t,n);this.logger.log(d.DEBUG,f),i.push(f)}else this.logger.log(d.DEBUG,s.sprintf(h.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eN,t,n));return{result:l,reasons:i}},e.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!eR(r))return this.logger.log(d.ERROR,s.sprintf(p.INVALID_VARIATION_KEY,eN)),!1;try{var i,o,a=Z(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(d.ERROR,s.sprintf(p.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t)),!1;o=a.id}catch(e){return this.logger.log(d.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,o,t),!0}catch(e){return this.logger.log(d.ERROR,e.message),!1}var u=(i=e.experimentKeyMap[t]).variationKeyMap.hasOwnProperty(r)?i.variationKeyMap[r].id:null;if(!u)return this.logger.log(d.ERROR,s.sprintf(p.NO_VARIATION_FOR_EXPERIMENT_KEY,eN,r,t)),!1;try{return this.setInForcedVariationMap(n,o,u),!0}catch(e){return this.logger.log(d.ERROR,e.message),!1}},e}();function eA(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?isNaN(r=parseInt(n))?(t.log(d.INFO,s.sprintf(h.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n)),null):(t.log(d.INFO,s.sprintf(h.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r)),r):"number"==typeof n?(r=n,t.log(d.INFO,s.sprintf(h.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r)),r):null}return null}function ex(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?isNaN(r=parseFloat(n))?(t.log(d.INFO,s.sprintf(h.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n)),null):(t.log(d.INFO,s.sprintf(h.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r)),r):"number"==typeof n?(r=n,t.log(d.INFO,s.sprintf(h.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r)),r):null}return null}function ew(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||V.isNumber(t)&&V.isSafeInteger(t))}var eL="https://logx.optimizely.com/v1/events";function eC(e){var t=e.attributes,n=e.userId,r=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,u=o.botFiltering,c={account_id:o.accountId,project_id:o.projectId,visitors:[{snapshots:[],visitor_id:n,attributes:[]}],revision:o.revision,client_name:r,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach(function(e){if(ew(e,t[e])){var n=z(o,e,a);n&&c.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}}),"boolean"==typeof u&&c.visitors[0].attributes.push({entity_id:v.BOT_FILTERING,key:v.BOT_FILTERING,type:"custom",value:u}),c}function eP(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function eD(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function ek(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==n&&n}function eU(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==n?n:null}var eV=o.getLogger("EVENT_BUILDER");function eM(e,t){var n=[];return t&&Object.keys(t||{}).forEach(function(r){if(ew(r,t[r])){var i=z(e,r,eV);i&&n.push({entityId:i,key:r,value:t[r]})}}),n}var eF={createEventProcessor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(a.LogTierV1EventProcessor.bind.apply(a.LogTierV1EventProcessor,f([void 0],e)))},LocalStoragePendingEventsDispatcher:a.LocalStoragePendingEventsDispatcher},ej="USER_PROFILE_SERVICE_VALIDATOR",eB=function(){function e(e){var n,r,i=this,o=e.clientEngine;-1===g.indexOf(o)&&(e.logger.log(d.INFO,s.sprintf(h.INVALID_CLIENT_ENGINE,"OPTIMIZELY",o)),o="node-sdk"),this.clientEngine=o,this.clientVersion=e.clientVersion||"4.7.0",this.errorHandler=e.errorHandler,this.eventDispatcher=e.eventDispatcher,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var a=null!==(r=e.defaultDecideOptions)&&void 0!==r?r:[];Array.isArray(a)||(this.logger.log(d.DEBUG,s.sprintf(h.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY")),a=[]);var u={};a.forEach(function(e){t.N1[e]?u[e]=!0:i.logger.log(d.WARNING,s.sprintf(h.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e))}),this.defaultDecideOptions=u,this.projectConfigManager=(c={datafile:e.datafile,datafileOptions:e.datafileOptions,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey},new er(c)),this.disposeOnUpdate=this.projectConfigManager.onUpdate(function(e){i.logger.log(d.INFO,s.sprintf(h.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId)),i.notificationCenter.sendNotifications(y.OPTIMIZELY_CONFIG_UPDATE)});var c,l,f=this.projectConfigManager.onReady(),v=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw Error(s.sprintf(p.INVALID_USER_PROFILE_SERVICE,ej,"Missing function 'lookup'"));if("function"!=typeof e.save)throw Error(s.sprintf(p.INVALID_USER_PROFILE_SERVICE,ej,"Missing function 'save'"));return!0}throw Error(s.sprintf(p.INVALID_USER_PROFILE_SERVICE,ej))})(e.userProfileService)&&(v=e.userProfileService,this.logger.log(d.INFO,s.sprintf(h.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY")))}catch(e){this.logger.log(d.WARNING,e.message)}this.decisionService=(l={userProfileService:v,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new eS(l)),this.notificationCenter=(n={logger:this.logger,errorHandler:this.errorHandler},new ei(n));var m={dispatcher:this.eventDispatcher,flushInterval:e.eventFlushInterval,batchSize:e.eventBatchSize,maxQueueSize:e.eventMaxQueueSize,notificationCenter:this.notificationCenter};this.eventProcessor=eF.createEventProcessor(m);var E=this.eventProcessor.start();this.readyPromise=Promise.all([f,E]).then(function(e){return e[0]}),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","activate")),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var i=this.getVariation(e,t,n);if(null===i)return this.notActivatingExperiment(e,t);if("Running"!==q(r,e)){var o=s.sprintf(h.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e);return this.logger.log(d.DEBUG,o),i}var a=Z(r,e),u={experiment:a,variation:a.variationKeyMap[i],decisionSource:E.EXPERIMENT};return this.sendImpressionEvent(u,"",t,!0,n),i}catch(n){this.logger.log(d.ERROR,n.message);var c=s.sprintf(h.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(d.INFO,c),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s,u,c,l,f,d,p,h,v,g,y,m,E,b,O=(s=(a={decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o}).configObj,u=a.decisionObj,c=a.userId,l=a.flagKey,f=a.enabled,d=a.userAttributes,p=a.clientEngine,h=a.clientVersion,v=u.decisionSource,g=eP(u),y=eU(u),m=eD(u),E=null!==y&&""!==m?W(s,y,m):null,b=null!==y?G(s,y):null,{type:"impression",timestamp:V.currentTimestamp(),uuid:V.uuid(),user:{id:c,attributes:eM(s,d)},context:{accountId:s.accountId,projectId:s.projectId,revision:s.revision,clientName:p,clientVersion:h,anonymizeIP:s.anonymizeIP||!1,botFiltering:s.botFiltering},layer:{id:b},experiment:{id:y,key:g},variation:{id:E,key:m},ruleKey:g,flagKey:l,ruleType:v,enabled:f});this.eventProcessor.process(O),this.emitNotificationCenterActivate(e,t,n,r,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,u=eP(e),c=eU(e),l=eD(e),f=null;null!==c&&""!==l&&(f=W(o,c,l),a=o.experimentIdMap[c]);var d,p,h,v,g,m,E,b,O,_,I,T,R,N=(I=eC(d={attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:c,ruleKey:u,flagKey:t,ruleType:s,userId:n,enabled:r,variationId:f,logger:this.logger}),p=d.configObj,h=d.experimentId,v=d.variationId,g=d.ruleKey,m=d.ruleType,E=d.flagKey,b=d.enabled,O=h?G(p,h):null,_=v?Y(p,v):null,T={decisions:[{campaign_id:O,experiment_id:h,variation_id:v,metadata:{flag_key:E,rule_key:g,rule_type:m,variation_key:_=_||"",enabled:b}}],events:[{entity_id:O,timestamp:V.currentTimestamp(),key:"campaign_activated",uuid:V.uuid()}]},I.visitors[0].snapshots.push(T),{httpVerb:"POST",url:eL,params:I});a&&a.variationKeyMap&&""!==l&&(R=a.variationKeyMap[l]),this.notificationCenter.sendNotifications(y.ACTIVATE,{experiment:a,userId:n,attributes:i,variation:R,logEvent:N})}},e.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","track"));if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var i,o,a,u,c,l,f,p,v,g,y,m=this.projectConfigManager.getConfig();if(!m)return;if(!m.eventKeyMap.hasOwnProperty(e))return this.logger.log(d.WARNING,s.sprintf(h.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e)),void this.logger.log(d.WARNING,s.sprintf(h.NOT_TRACKING_USER,"OPTIMIZELY",t));var E=(o=(i={eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:m}).configObj,a=i.userId,u=i.userAttributes,c=i.clientEngine,l=i.clientVersion,f=i.eventKey,p=i.eventTags,v=H(o,f),g=p?eA(p,eV):null,y=p?ex(p,eV):null,{type:"conversion",timestamp:V.currentTimestamp(),uuid:V.uuid(),user:{id:a,attributes:eM(o,u)},context:{accountId:o.accountId,projectId:o.projectId,revision:o.revision,clientName:c,clientVersion:l,anonymizeIP:o.anonymizeIP||!1,botFiltering:o.botFiltering},event:{id:v,key:f},revenue:g,value:y,tags:p});this.logger.log(d.INFO,s.sprintf(h.TRACK_EVENT,"OPTIMIZELY",e,t)),this.eventProcessor.process(E),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e);var b=s.sprintf(h.NOT_TRACKING_USER,"OPTIMIZELY",t);this.logger.log(d.ERROR,b)}},e.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var i,o,a,s=this.projectConfigManager.getConfig();if(!s)return;var u=(i={attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:s,eventKey:e,eventTags:r,logger:this.logger,userId:t},o=eC(i),a=function(e,t,n,r){var i={events:[]},o={entity_id:H(e,t),timestamp:V.currentTimestamp(),uuid:V.uuid(),key:t};if(r){var a=eA(r,n);null!==a&&(o.revenue=a);var s=ex(r,n);null!==s&&(o.value=s),o.tags=r}return i.events.push(o),i}(i.configObj,i.eventKey,i.logger,i.eventTags),o.visitors[0].snapshots=[a],{httpVerb:"POST",url:eL,params:o});this.notificationCenter.sendNotifications(y.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:u})}catch(e){this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getVariation")),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var r,i=this.projectConfigManager.getConfig();if(!i)return null;var o=i.experimentKeyMap[e];if(!o)return this.logger.log(d.DEBUG,s.sprintf(p.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e)),null;var a=this.decisionService.getVariation(i,o,t,n).result,u=(r=o.id,i.experimentFeatureMap.hasOwnProperty(r)?m.FEATURE_TEST:m.AB_TEST);return this.notificationCenter.sendNotifications(y.DECISION,{type:u,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:a}}),a}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw Error(s.sprintf(p.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach(function(t){if(!eR(e[t]))throw Error(s.sprintf(p.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))}),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(s.sprintf(p.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach(function(t){if(void 0===e[t])throw Error(s.sprintf(p.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))})}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(s.sprintf(p.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){var n=s.sprintf(h.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e);return this.logger.log(d.INFO,n),null},e.prototype.filterEmptyValues=function(e){for(var t in e)e.hasOwnProperty(t)&&(null===e[t]||void 0===e[t])&&delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled")),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var i=$(r,e,this.logger);if(!i)return!1;var o={},a=this.decisionService.getVariationForFeature(r,i,t,n).result,u=a.decisionSource,c=eP(a),l=eD(a),f=ek(a);u===E.FEATURE_TEST&&(o={experimentKey:c,variationKey:l}),(u===E.FEATURE_TEST||u===E.ROLLOUT&&ee(r))&&this.sendImpressionEvent(a,i.key,t,f,n),!0===f?this.logger.log(d.INFO,s.sprintf(h.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t)):(this.logger.log(d.INFO,s.sprintf(h.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t)),f=!1);var p={featureKey:e,featureEnabled:f,source:a.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(y.DECISION,{type:m.FEATURE,userId:t,attributes:n||{},decisionInfo:p}),f}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures")),r;if(!this.validateInputs({user_id:e}))return r;var i=this.projectConfigManager.getConfig();return i&&s.objectValues(i.featureKeyMap).forEach(function(i){n.isFeatureEnabled(i.key,e,t)&&r.push(i.key)}),r}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable")),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,n,r,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},i))return null;var o,a,u=this.projectConfigManager.getConfig();if(!u)return null;var c=$(u,e,this.logger);if(!c)return null;var l=(o=this.logger,(a=u.featureKeyMap[e])?a.variableKeyMap[t]||(o.log(d.ERROR,s.sprintf(p.VARIABLE_KEY_NOT_IN_DATAFILE,B,t,e)),null):(o.log(d.ERROR,s.sprintf(p.FEATURE_NOT_IN_DATAFILE,B,e)),null));if(!l)return null;if(n&&l.type!==n)return this.logger.log(d.WARNING,s.sprintf(h.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,l.type)),null;var f=this.decisionService.getVariationForFeature(u,c,r,i).result,v=ek(f),g=this.getFeatureVariableValueFromVariation(e,v,f.variation,l,r),b={};return f.decisionSource===E.FEATURE_TEST&&null!==f.experiment&&null!==f.variation&&(b={experimentKey:f.experiment.key,variationKey:f.variation.key}),this.notificationCenter.sendNotifications(y.DECISION,{type:m.FEATURE_VARIABLE,userId:r,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:v,source:f.decisionSource,variableKey:t,variableValue:g,variableType:l.type,sourceInfo:b}}),g},e.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=r.defaultValue;if(null!==n){var u=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(d.ERROR,s.sprintf(p.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,B,n.id)),null;var i=e.variationVariableUsageMap[n.id][t.id];return i?i.value:null}(o,r,n,this.logger);null!==u?t?(a=u,this.logger.log(d.INFO,s.sprintf(h.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,r.key,e))):this.logger.log(d.INFO,s.sprintf(h.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,a)):this.logger.log(d.INFO,s.sprintf(h.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key))}else this.logger.log(d.INFO,s.sprintf(h.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,r.key,e));return function(e,t,n){var r;switch(t){case O.BOOLEAN:"true"!==e&&"false"!==e?(n.log(d.ERROR,s.sprintf(p.UNABLE_TO_CAST_VALUE,B,e,t)),r=null):r="true"===e;break;case O.INTEGER:isNaN(r=parseInt(e,10))&&(n.log(d.ERROR,s.sprintf(p.UNABLE_TO_CAST_VALUE,B,e,t)),r=null);break;case O.DOUBLE:isNaN(r=parseFloat(e))&&(n.log(d.ERROR,s.sprintf(p.UNABLE_TO_CAST_VALUE,B,e,t)),r=null);break;case O.JSON:try{r=JSON.parse(e)}catch(i){n.log(d.ERROR,s.sprintf(p.UNABLE_TO_CAST_VALUE,B,e,t)),r=null}break;default:r=e}return r}(a,r.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,O.BOOLEAN,n,r):(this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean")),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,O.DOUBLE,n,r):(this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble")),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,O.INTEGER,n,r):(this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger")),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,O.STRING,n,r):(this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString")),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,O.JSON,n,r):(this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON")),null)}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables")),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=$(i,e,this.logger);if(!o)return null;var a=this.decisionService.getVariationForFeature(i,o,t,n).result,u=ek(a),c={};o.variables.forEach(function(n){c[n.key]=r.getFeatureVariableValueFromVariation(e,u,a.variation,n,t)});var l={};return a.decisionSource===E.FEATURE_TEST&&null!==a.experiment&&null!==a.variation&&(l={experimentKey:a.experiment.key,variationKey:a.variation.key}),this.notificationCenter.sendNotifications(y.DECISION,{type:m.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:u,source:a.decisionSource,variableValues:c,sourceInfo:l}}),c}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach(function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()}),this.readyTimeouts={},t.then(function(){return{success:!0}},function(e){return{success:!1,reason:String(e)}})}catch(e){return this.logger.log(d.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),V.isSafeInteger(t)||(t=3e4);var i=new Promise(function(e){n=e}),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var a=setTimeout(function(){delete r.readyTimeouts[o],n({success:!1,reason:s.sprintf("onReady timeout expired after %s ms",t)})},t);return this.readyTimeouts[o]={readyTimeout:a,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then(function(){clearTimeout(a),delete r.readyTimeouts[o],n({success:!0})}),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new U({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,n,r){var i,o,a,u,c=this;void 0===r&&(r=[]);var l=this.projectConfigManager.getConfig(),f=[];if(!this.isValidInstance()||!l)return f.push(I.SDK_NOT_READY),this.logger.log(d.INFO,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","decide")),k(n,e,f);var v=l.featureKeyMap[n];if(!v)return f.push(s.sprintf(I.FLAG_KEY_INVALID,n)),this.logger.log(d.ERROR,s.sprintf(p.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n)),k(n,e,f);var g=e.getUserId(),b=e.getAttributes(),O=this.getAllDecideOptions(r),_=this.decisionService.getVariationForFeature(l,v,g,b,O);f.push.apply(f,_.reasons);var T=_.result,R=T.decisionSource,N=null!==(o=null===(i=T.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,S=null!==(u=null===(a=T.variation)||void 0===a?void 0:a.key)&&void 0!==u?u:null,A=ek(T);!0===A?this.logger.log(d.INFO,s.sprintf(h.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,g)):this.logger.log(d.INFO,s.sprintf(h.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,g));var x={},w=!1;O[t.N1.EXCLUDE_VARIABLES]||v.variables.forEach(function(e){x[e.key]=c.getFeatureVariableValueFromVariation(n,A,T.variation,e,g)}),!O[t.N1.DISABLE_DECISION_EVENT]&&(R===E.FEATURE_TEST||R===E.ROLLOUT&&ee(l))&&(this.sendImpressionEvent(T,n,g,A,b),w=!0);var L=O[t.N1.INCLUDE_REASONS]?f:[],C={flagKey:n,enabled:A,variationKey:S,ruleKey:N,variables:x,reasons:L,decisionEventDispatched:w};return this.notificationCenter.sendNotifications(y.DECISION,{type:m.FLAG,userId:g,attributes:b,decisionInfo:C}),{variationKey:S,enabled:A,variables:x,ruleKey:N,flagKey:n,userContext:e,reasons:L}},e.prototype.getAllDecideOptions=function(e){var n=this,r=l({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach(function(e){t.N1[e]?r[e]=!0:n.logger.log(d.WARNING,s.sprintf(h.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e))}):this.logger.log(d.DEBUG,s.sprintf(h.INVALID_DECIDE_OPTIONS,"OPTIMIZELY")),r},e.prototype.decideForKeys=function(e,n,r){var i=this;void 0===r&&(r=[]);var o={};if(!this.isValidInstance())return this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","decideForKeys")),o;if(0===n.length)return o;var a=this.getAllDecideOptions(r);return n.forEach(function(n){var s=i.decide(e,n,r);a[t.N1.ENABLED_FLAGS_ONLY]&&!s.enabled||(o[n]=s)}),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(d.ERROR,s.sprintf(h.INVALID_OBJECT,"OPTIMIZELY","decideAll")),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},e}(),eK=o.getLogger();o.setLogHandler(L()),o.setLogLevel(o.LogLevel.INFO);var eG=!1,ez={logging:D,errorHandler:{handleError:function(){}},eventDispatcher:x,enums:T,setLogger:o.setLogHandler,setLogLevel:o.setLogLevel,createInstance:function(e){try{e.errorHandler&&o.setErrorHandler(e.errorHandler),e.logger&&(o.setLogHandler(e.logger),o.setLogLevel(o.LogLevel.NOTSET)),void 0!==e.logLevel&&o.setLogLevel(e.logLevel);try{S(e),e.isValidInstance=!0}catch(t){eK.error(t),e.isValidInstance=!1}var t,n,r=void 0;null==e.eventDispatcher?(r=new a.LocalStoragePendingEventsDispatcher({eventDispatcher:x}),eG||(r.sendPendingEvents(),eG=!0)):r=e.eventDispatcher;var i=e.eventBatchSize,s=e.eventFlushInterval;t=e.eventBatchSize,!("number"!=typeof t||!V.isSafeInteger(t))&&t>=1||(eK.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),i=10),n=e.eventFlushInterval,!("number"!=typeof n||!V.isSafeInteger(n))&&n>0||(eK.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),s=1e3);var u=l(l({clientEngine:"javascript-sdk",eventDispatcher:r},e),{eventBatchSize:i,eventFlushInterval:s,logger:eK,errorHandler:o.getErrorHandler()}),c=new eB(u);try{if("function"==typeof window.addEventListener){var f="onpagehide"in window?"pagehide":"unload";window.addEventListener(f,function(){c.close()},!1)}}catch(e){eK.error(h.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return c}catch(e){return eK.error(e),null}},__internalResetRetryState:function(){eG=!1},OptimizelyDecideOption:t.N1};t.ZP=ez},84510:function(e,t,n){"use strict";function r(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){var t=r(e).Element;return e instanceof t||e instanceof Element}function o(e){var t=r(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function a(e){if("undefined"==typeof ShadowRoot)return!1;var t=r(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}n.d(t,{ZP:function(){return e4}});var s,u,c,l,f,d,p=Math.max,h=Math.min,v=Math.round;function g(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function y(){return!/^((?!chrome|android).)*safari/i.test(g())}function m(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),s=1,u=1;t&&o(e)&&(s=e.offsetWidth>0&&v(a.width)/e.offsetWidth||1,u=e.offsetHeight>0&&v(a.height)/e.offsetHeight||1);var c=(i(e)?r(e):window).visualViewport,l=!y()&&n,f=(a.left+(l&&c?c.offsetLeft:0))/s,d=(a.top+(l&&c?c.offsetTop:0))/u,p=a.width/s,h=a.height/u;return{width:p,height:h,top:d,right:f+p,bottom:d+h,left:f,x:f,y:d}}function E(e){var t=r(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function b(e){return e?(e.nodeName||"").toLowerCase():null}function O(e){return((i(e)?e.ownerDocument:e.document)||window.document).documentElement}function _(e){return m(O(e)).left+E(e).scrollLeft}function I(e){return r(e).getComputedStyle(e)}function T(e){var t=I(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function R(e){var t=m(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function N(e){return"html"===b(e)?e:e.assignedSlot||e.parentNode||(a(e)?e.host:null)||O(e)}function S(e,t){void 0===t&&(t=[]);var n,i=function e(t){return["html","body","#document"].indexOf(b(t))>=0?t.ownerDocument.body:o(t)&&T(t)?t:e(N(t))}(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),s=r(i),u=a?[s].concat(s.visualViewport||[],T(i)?i:[]):i,c=t.concat(u);return a?c:c.concat(S(N(u)))}function A(e){return o(e)&&"fixed"!==I(e).position?e.offsetParent:null}function x(e){for(var t=r(e),n=A(e);n&&["table","td","th"].indexOf(b(n))>=0&&"static"===I(n).position;)n=A(n);return n&&("html"===b(n)||"body"===b(n)&&"static"===I(n).position)?t:n||function(e){var t=/firefox/i.test(g());if(/Trident/i.test(g())&&o(e)&&"fixed"===I(e).position)return null;var n=N(e);for(a(n)&&(n=n.host);o(n)&&0>["html","body"].indexOf(b(n));){var r=I(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var w="bottom",L="right",C="left",P="auto",D=["top",w,L,C],k="start",U="viewport",V="popper",M=D.reduce(function(e,t){return e.concat([t+"-"+k,t+"-end"])},[]),F=[].concat(D,[P]).reduce(function(e,t){return e.concat([t,t+"-"+k,t+"-end"])},[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],B={placement:"bottom",modifiers:[],strategy:"absolute"};function K(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var G={passive:!0};function z(e){return e.split("-")[0]}function H(e){return e.split("-")[1]}function q(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?z(i):null,a=i?H(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case"top":t={x:s,y:n.y-r.height};break;case w:t={x:s,y:n.y+n.height};break;case L:t={x:n.x+n.width,y:u};break;case C:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=o?q(o):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case k:t[c]=t[c]-(n[l]/2-r[l]/2);break;case"end":t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}var W={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Z(e){var t,n,i,o,a,s,u,c=e.popper,l=e.popperRect,f=e.placement,d=e.variation,p=e.offsets,h=e.position,g=e.gpuAcceleration,y=e.adaptive,m=e.roundOffsets,E=e.isFixed,b=p.x,_=void 0===b?0:b,T=p.y,R=void 0===T?0:T,N="function"==typeof m?m({x:_,y:R}):{x:_,y:R};_=N.x,R=N.y;var S=p.hasOwnProperty("x"),A=p.hasOwnProperty("y"),P=C,D="top",k=window;if(y){var U=x(c),V="clientHeight",M="clientWidth";U===r(c)&&"static"!==I(U=O(c)).position&&"absolute"===h&&(V="scrollHeight",M="scrollWidth"),("top"===f||(f===C||f===L)&&"end"===d)&&(D=w,R-=(E&&U===k&&k.visualViewport?k.visualViewport.height:U[V])-l.height,R*=g?1:-1),(f===C||("top"===f||f===w)&&"end"===d)&&(P=L,_-=(E&&U===k&&k.visualViewport?k.visualViewport.width:U[M])-l.width,_*=g?1:-1)}var F=Object.assign({position:h},y&&W),j=!0===m?(t={x:_,y:R},n=r(c),i=t.x,o=t.y,{x:v(i*(a=n.devicePixelRatio||1))/a||0,y:v(o*a)/a||0}):{x:_,y:R};return(_=j.x,R=j.y,g)?Object.assign({},F,((u={})[D]=A?"0":"",u[P]=S?"0":"",u.transform=1>=(k.devicePixelRatio||1)?"translate("+_+"px, "+R+"px)":"translate3d("+_+"px, "+R+"px, 0)",u)):Object.assign({},F,((s={})[D]=A?R+"px":"",s[P]=S?_+"px":"",s.transform="",s))}var J={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];o(i)&&b(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});o(r)&&b(r)&&(Object.assign(r.style,a),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},X={left:"right",right:"left",bottom:"top",top:"bottom"};function $(e){return e.replace(/left|right|bottom|top/g,function(e){return X[e]})}var Q={start:"end",end:"start"};function ee(e){return e.replace(/start|end/g,function(e){return Q[e]})}function et(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&a(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function en(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function er(e,t,n){var o,a,s,u,c,l,f,d,h,v;return t===U?en(function(e,t){var n=r(e),i=O(e),o=n.visualViewport,a=i.clientWidth,s=i.clientHeight,u=0,c=0;if(o){a=o.width,s=o.height;var l=y();(l||!l&&"fixed"===t)&&(u=o.offsetLeft,c=o.offsetTop)}return{width:a,height:s,x:u+_(e),y:c}}(e,n)):i(t)?((o=m(t,!1,"fixed"===n)).top=o.top+t.clientTop,o.left=o.left+t.clientLeft,o.bottom=o.top+t.clientHeight,o.right=o.left+t.clientWidth,o.width=t.clientWidth,o.height=t.clientHeight,o.x=o.left,o.y=o.top,o):en((a=O(e),u=O(a),c=E(a),l=null==(s=a.ownerDocument)?void 0:s.body,f=p(u.scrollWidth,u.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=p(u.scrollHeight,u.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-c.scrollLeft+_(a),v=-c.scrollTop,"rtl"===I(l||u).direction&&(h+=p(u.clientWidth,l?l.clientWidth:0)-f),{width:f,height:d,x:h,y:v}))}function ei(){return{top:0,right:0,bottom:0,left:0}}function eo(e){return Object.assign({},ei(),e)}function ea(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function es(e,t){void 0===t&&(t={});var n,r,a,s,u,c,l,f=t,d=f.placement,v=void 0===d?e.placement:d,g=f.strategy,y=void 0===g?e.strategy:g,E=f.boundary,_=f.rootBoundary,T=f.elementContext,R=void 0===T?V:T,A=f.altBoundary,C=f.padding,P=void 0===C?0:C,k=eo("number"!=typeof P?P:ea(P,D)),M=e.rects.popper,F=e.elements[void 0!==A&&A?R===V?"reference":V:R],j=(n=i(F)?F:F.contextElement||O(e.elements.popper),c=(u=[].concat("clippingParents"===(r=void 0===E?"clippingParents":E)?(a=S(N(n)),i(s=["absolute","fixed"].indexOf(I(n).position)>=0&&o(n)?x(n):n)?a.filter(function(e){return i(e)&&et(e,s)&&"body"!==b(e)}):[]):[].concat(r),[void 0===_?U:_]))[0],(l=u.reduce(function(e,t){var r=er(n,t,y);return e.top=p(r.top,e.top),e.right=h(r.right,e.right),e.bottom=h(r.bottom,e.bottom),e.left=p(r.left,e.left),e},er(n,c,y))).width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l),B=m(e.elements.reference),K=Y({reference:B,element:M,strategy:"absolute",placement:v}),G=en(Object.assign({},M,K)),z=R===V?G:B,H={top:j.top-z.top+k.top,bottom:z.bottom-j.bottom+k.bottom,left:j.left-z.left+k.left,right:z.right-j.right+k.right},q=e.modifiersData.offset;if(R===V&&q){var W=q[v];Object.keys(H).forEach(function(e){var t=[L,w].indexOf(e)>=0?1:-1,n=["top",w].indexOf(e)>=0?"y":"x";H[e]+=W[n]*t})}return H}function eu(e,t,n){return p(e,h(t,n))}function ec(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function el(e){return["top",L,w,C].some(function(t){return e[t]>=0})}var ef=(c=void 0===(u=(s={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,a=void 0===o||o,s=i.resize,u=void 0===s||s,c=r(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(e){e.addEventListener("scroll",n.update,G)}),u&&c.addEventListener("resize",n.update,G),function(){a&&l.forEach(function(e){e.removeEventListener("scroll",n.update,G)}),u&&c.removeEventListener("resize",n.update,G)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Y({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=n.adaptive,o=n.roundOffsets,a=void 0===o||o,s={placement:z(t.placement),variation:H(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Z(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===i||i,roundOffsets:a})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Z(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},J,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=F.reduce(function(e,n){var r,i,a,s,u,c;return e[n]=(r=t.rects,a=[C,"top"].indexOf(i=z(n))>=0?-1:1,u=(s="function"==typeof o?o(Object.assign({},r,{placement:n})):o)[0],c=s[1],u=u||0,c=(c||0)*a,[C,L].indexOf(i)>=0?{x:c,y:u}:{x:u,y:c}),e},{}),s=a[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=void 0===p||p,v=n.allowedAutoPlacements,g=t.options.placement,y=z(g),m=u||(y!==g&&h?function(e){if(z(e)===P)return[];var t=$(e);return[ee(e),t,ee(t)]}(g):[$(g)]),E=[g].concat(m).reduce(function(e,n){var r,i,o,a,s,u,d,p,g,y,m,E;return e.concat(z(n)===P?(i=(r={placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:h,allowedAutoPlacements:v}).placement,o=r.boundary,a=r.rootBoundary,s=r.padding,u=r.flipVariations,p=void 0===(d=r.allowedAutoPlacements)?F:d,0===(m=(y=(g=H(i))?u?M:M.filter(function(e){return H(e)===g}):D).filter(function(e){return p.indexOf(e)>=0})).length&&(m=y),Object.keys(E=m.reduce(function(e,n){return e[n]=es(t,{placement:n,boundary:o,rootBoundary:a,padding:s})[z(n)],e},{})).sort(function(e,t){return E[e]-E[t]})):n)},[]),b=t.rects.reference,O=t.rects.popper,_=new Map,I=!0,T=E[0],R=0;R<E.length;R++){var N=E[R],S=z(N),A=H(N)===k,x=["top",w].indexOf(S)>=0,U=x?"width":"height",V=es(t,{placement:N,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),j=x?A?L:C:A?w:"top";b[U]>O[U]&&(j=$(j));var B=$(j),K=[];if(o&&K.push(V[S]<=0),s&&K.push(V[j]<=0,V[B]<=0),K.every(function(e){return e})){T=N,I=!1;break}_.set(N,K)}if(I)for(var G=h?3:1,q=function(e){var t=E.find(function(t){var n=_.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return T=t,"break"},Y=G;Y>0&&"break"!==q(Y);Y--);t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=n.altAxis,a=n.boundary,s=n.rootBoundary,u=n.altBoundary,c=n.padding,l=n.tether,f=void 0===l||l,d=n.tetherOffset,v=void 0===d?0:d,g=es(t,{boundary:a,rootBoundary:s,padding:c,altBoundary:u}),y=z(t.placement),m=H(t.placement),E=!m,b=q(y),O="x"===b?"y":"x",_=t.modifiersData.popperOffsets,I=t.rects.reference,T=t.rects.popper,N="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"==typeof N?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(_){if(void 0===i||i){var D,U="y"===b?"top":C,V="y"===b?w:L,M="y"===b?"height":"width",F=_[b],j=F+g[U],B=F-g[V],K=f?-T[M]/2:0,G=m===k?I[M]:T[M],Y=m===k?-T[M]:-I[M],W=t.elements.arrow,Z=f&&W?R(W):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ei(),X=J[U],$=J[V],Q=eu(0,I[M],Z[M]),ee=E?I[M]/2-K-Q-X-S.mainAxis:G-Q-X-S.mainAxis,et=E?-I[M]/2+K+Q+$+S.mainAxis:Y+Q+$+S.mainAxis,en=t.elements.arrow&&x(t.elements.arrow),er=en?"y"===b?en.clientTop||0:en.clientLeft||0:0,eo=null!=(D=null==A?void 0:A[b])?D:0,ea=eu(f?h(j,F+ee-eo-er):j,F,f?p(B,F+et-eo):B);_[b]=ea,P[b]=ea-F}if(void 0!==o&&o){var ec,el,ef=_[O],ed="y"===O?"height":"width",ep=ef+g["x"===b?"top":C],eh=ef-g["x"===b?w:L],ev=-1!==["top",C].indexOf(y),eg=null!=(ec=null==A?void 0:A[O])?ec:0,ey=ev?ep:ef-I[ed]-T[ed]-eg+S.altAxis,em=ev?ef+I[ed]+T[ed]-eg-S.altAxis:eh,eE=f&&ev?(el=eu(ey,ef,em))>em?em:el:eu(f?ey:ep,ef,f?em:eh);_[O]=eE,P[O]=eE-ef}t.modifiersData[r]=P}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,r=e.state,i=e.name,o=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,u=z(r.placement),c=q(u),l=[C,L].indexOf(u)>=0?"height":"width";if(a&&s){var f=eo("number"!=typeof(t="function"==typeof(t=o.padding)?t(Object.assign({},r.rects,{placement:r.placement})):t)?t:ea(t,D)),d=R(a),p=r.rects.reference[l]+r.rects.reference[c]-s[c]-r.rects.popper[l],h=s[c]-r.rects.reference[c],v=x(a),g=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,y=f["y"===c?"top":C],m=g-d[l]-f["y"===c?w:L],E=g/2-d[l]/2+(p/2-h/2),b=eu(y,E,m);r.modifiersData[i]=((n={})[c]=b,n.centerOffset=b-E,n)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&et(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=es(t,{elementContext:"reference"}),s=es(t,{altBoundary:!0}),u=ec(a,r),c=ec(s,i,o),l=el(u),f=el(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}).defaultModifiers)?[]:u,f=void 0===(l=s.defaultOptions)?B:l,function(e,t,n){void 0===n&&(n=f);var a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},B,f),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,d={state:s,setOptions:function(n){var r,o,a,l,h,v="function"==typeof n?n(s.options):n;p(),s.options=Object.assign({},f,s.options,v),s.scrollParents={reference:i(e)?S(e):e.contextElement?S(e.contextElement):[],popper:S(t)};var g=(o=Object.keys(r=[].concat(c,s.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return r[e]}),a=new Map,l=new Set,h=[],o.forEach(function(e){a.set(e.name,e)}),o.forEach(function(e){l.has(e.name)||function e(t){l.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!l.has(t)){var n=a.get(t);n&&e(n)}}),h.push(t)}(e)}),j.reduce(function(e,t){return e.concat(h.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=g.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var i=r({state:s,name:t,instance:d,options:void 0===n?{}:n});u.push(i||function(){})}}),d.update()},forceUpdate:function(){if(!l){var e,t,n,i,a,u,c,f,p,h,g,y,I=s.elements,N=I.reference,S=I.popper;if(K(N,S)){s.rects={reference:(t=x(S),n="fixed"===s.options.strategy,i=o(t),f=o(t)&&(u=v((a=t.getBoundingClientRect()).width)/t.offsetWidth||1,c=v(a.height)/t.offsetHeight||1,1!==u||1!==c),p=O(t),h=m(N,f,n),g={scrollLeft:0,scrollTop:0},y={x:0,y:0},(i||!i&&!n)&&(("body"!==b(t)||T(p))&&(g=(e=t)!==r(e)&&o(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:E(e)),o(t)?(y=m(t,!0),y.x+=t.clientLeft,y.y+=t.clientTop):p&&(y.x=_(p))),{x:h.left+g.scrollLeft-y.x,y:h.top+g.scrollTop-y.y,width:h.width,height:h.height}),popper:R(S)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var A=0;A<s.orderedModifiers.length;A++){if(!0===s.reset){s.reset=!1,A=-1;continue}var w=s.orderedModifiers[A],L=w.fn,C=w.options,P=void 0===C?{}:C,D=w.name;"function"==typeof L&&(s=L({state:s,options:P,name:D,instance:d})||s)}}}},update:function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(new Promise(function(e){d.forceUpdate(),e(s)}))})})),a},destroy:function(){p(),l=!0}};if(!K(e,t))return d;function p(){u.forEach(function(e){return e()}),u=[]}return d.setOptions(n).then(function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)}),d}),ed="tippy-content",ep="tippy-arrow",eh="tippy-svg-arrow",ev={passive:!0,capture:!0},eg=function(){return document.body};function ey(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function em(e,t){var n=({}).toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function eE(e,t){return"function"==typeof e?e.apply(void 0,t):e}function eb(e,t){var n;return 0===t?e:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function eO(e){return[].concat(e)}function e_(e,t){-1===e.indexOf(t)&&e.push(t)}function eI(e){return[].slice.call(e)}function eT(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function eR(){return document.createElement("div")}function eN(e){return["Element","Fragment"].some(function(t){return em(e,t)})}function eS(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function eA(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function ex(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[r](t,n)})}function ew(e,t){for(var n,r=t;r;){if(e.contains(r))return!0;r=null==r.getRootNode?void 0:null==(n=r.getRootNode())?void 0:n.host}return!1}var eL={isTouch:!1},eC=0;function eP(){!eL.isTouch&&(eL.isTouch=!0,window.performance&&document.addEventListener("mousemove",eD))}function eD(){var e=performance.now();e-eC<20&&(eL.isTouch=!1,document.removeEventListener("mousemove",eD)),eC=e}function ek(){var e=document.activeElement;if(e&&e._tippy&&e._tippy.reference===e){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var eU=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,eV=Object.assign({appendTo:eg,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),eM=Object.keys(eV);function eF(e){var t=(e.plugins||[]).reduce(function(t,n){var r,i=n.name,o=n.defaultValue;return i&&(t[i]=void 0!==e[i]?e[i]:null!=(r=eV[i])?r:o),t},{});return Object.assign({},e,t)}function ej(e,t){var n,r=Object.assign({},t,{content:eE(t.content,[e])},t.ignoreAttributes?{}:((n=t.plugins)?Object.keys(eF(Object.assign({},eV,{plugins:n}))):eM).reduce(function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t},{}));return r.aria=Object.assign({},eV.aria,r.aria),r.aria={expanded:"auto"===r.aria.expanded?t.interactive:r.aria.expanded,content:"auto"===r.aria.content?t.interactive?null:"describedby":r.aria.content},r}function eB(e,t){e.innerHTML=t}function eK(e){var t=eR();return!0===e?t.className=ep:(t.className=eh,eN(e)?t.appendChild(e):eB(t,e)),t}function eG(e,t){eN(t.content)?(eB(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?eB(e,t.content):e.textContent=t.content)}function ez(e){var t=e.firstElementChild,n=eI(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(ed)}),arrow:n.find(function(e){return e.classList.contains(ep)||e.classList.contains(eh)}),backdrop:n.find(function(e){return e.classList.contains("tippy-backdrop")})}}function eH(e){var t=eR(),n=eR();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=eR();function i(n,r){var i=ez(t),o=i.box,a=i.content,s=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),(n.content!==r.content||n.allowHTML!==r.allowHTML)&&eG(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(o.removeChild(s),o.appendChild(eK(r.arrow))):o.appendChild(eK(r.arrow)):s&&o.removeChild(s)}return r.className=ed,r.setAttribute("data-state","hidden"),eG(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props),{popper:t,onUpdate:i}}eH.$$tippy=!0;var eq=1,eY=[],eW=[];function eZ(e,t){void 0===t&&(t={});var n=eV.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",eP,ev),window.addEventListener("blur",ek);var r=Object.assign({},t,{plugins:n}),i=(eN(e)?[e]:em(e,"NodeList")?eI(e):Array.isArray(e)?e:eI(document.querySelectorAll(e))).reduce(function(e,t){var n=t&&function(e,t){var n,r,i,o,a,s,u,c,l=ej(e,Object.assign({},eV,eF(eT(t)))),f=!1,d=!1,p=!1,h=!1,v=[],g=eb(H,l.interactiveDebounce),y=eq++,m=(n=l.plugins).filter(function(e,t){return n.indexOf(e)===t}),E={id:y,reference:e,popper:eR(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:m,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)},setProps:function(t){if(!E.state.isDestroyed){L("onBeforeUpdate",[E,t]),G();var n=E.props,r=ej(e,Object.assign({},n,eT(t),{ignoreAttributes:!0}));E.props=r,K(),n.interactiveDebounce!==r.interactiveDebounce&&(D(),g=eb(H,r.interactiveDebounce)),n.triggerTarget&&!r.triggerTarget?eO(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):r.triggerTarget&&e.removeAttribute("aria-expanded"),P(),w(),_&&_(n,r),E.popperInstance&&(Z(),X().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[E,t])}},setContent:function(e){E.setProps({content:e})},show:function(){var t,n,r,i=E.state.isVisible,o=E.state.isDestroyed,a=!E.state.isEnabled,s=eL.isTouch&&!E.props.touch,l=ey(E.props.duration,0,eV.duration);if(!(i||o||a||s||(c||e).hasAttribute("disabled"))&&(L("onShow",[E],!1),!1!==E.props.onShow(E))){if(E.state.isVisible=!0,S()&&(O.style.visibility="visible"),w(),M(),E.state.isMounted||(O.style.transition="none"),S()){var f=ez(O);eS([f.box,f.content],0)}u=function(){var e;if(E.state.isVisible&&!h){if(h=!0,O.offsetHeight,O.style.transition=E.props.moveTransition,S()&&E.props.animation){var t=ez(O),n=t.box,r=t.content;eS([n,r],l),eA([n,r],"visible")}C(),P(),e_(eW,E),null==(e=E.popperInstance)||e.forceUpdate(),L("onMount",[E]),E.props.animation&&S()&&j(l,function(){E.state.isShown=!0,L("onShown",[E])})}},n=E.props.appendTo,r=c||e,(t=E.props.interactive&&n===eg||"parent"===n?r.parentNode:eE(n,[r])).contains(O)||t.appendChild(O),E.state.isMounted=!0,Z()}},hide:function(){var e,t=!E.state.isVisible,n=E.state.isDestroyed,r=!E.state.isEnabled,i=ey(E.props.duration,1,eV.duration);if(!t&&!n&&!r&&(L("onHide",[E],!1),!1!==E.props.onHide(E))){if(E.state.isVisible=!1,E.state.isShown=!1,h=!1,f=!1,S()&&(O.style.visibility="hidden"),D(),F(),w(!0),S()){var o=ez(O),a=o.box,s=o.content;E.props.animation&&(eS([a,s],i),eA([a,s],"hidden"))}(C(),P(),E.props.animation)?S()&&(e=E.unmount,j(i,function(){!E.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&e()})):E.unmount()}},hideWithInteractivity:function(e){A().addEventListener("mousemove",g),e_(eY,g),g(e)},enable:function(){E.state.isEnabled=!0},disable:function(){E.hide(),E.state.isEnabled=!1},unmount:function(){E.state.isVisible&&E.hide(),E.state.isMounted&&(J(),X().forEach(function(e){e._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),eW=eW.filter(function(e){return e!==E}),E.state.isMounted=!1,L("onHidden",[E]))},destroy:function(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),G(),delete e._tippy,E.state.isDestroyed=!0,L("onDestroy",[E]))}};if(!l.render)return E;var b=l.render(E),O=b.popper,_=b.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+E.id,E.popper=O,e._tippy=E,O._tippy=E;var I=m.map(function(e){return e.fn(E)}),T=e.hasAttribute("aria-expanded");return K(),P(),w(),L("onCreate",[E]),l.showOnCreate&&$(),O.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&A().addEventListener("mousemove",g)}),E;function R(){var e=E.props.touch;return Array.isArray(e)?e:[e,0]}function N(){return"hold"===R()[0]}function S(){var e;return!!(null!=(e=E.props.render)&&e.$$tippy)}function A(){var t,n,r=(c||e).parentNode;return r&&null!=(n=eO(r)[0])&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function x(e){return E.state.isMounted&&!E.state.isVisible||eL.isTouch||a&&"focus"===a.type?0:ey(E.props.delay,e?0:1,eV.delay)}function w(e){void 0===e&&(e=!1),O.style.pointerEvents=E.props.interactive&&!e?"":"none",O.style.zIndex=""+E.props.zIndex}function L(e,t,n){if(void 0===n&&(n=!0),I.forEach(function(n){n[e]&&n[e].apply(n,t)}),n){var r;(r=E.props)[e].apply(r,t)}}function C(){var t=E.props.aria;if(t.content){var n="aria-"+t.content,r=O.id;eO(E.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(E.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var i=t&&t.replace(r,"").trim();i?e.setAttribute(n,i):e.removeAttribute(n)}})}}function P(){!T&&E.props.aria.expanded&&eO(E.props.triggerTarget||e).forEach(function(t){E.props.interactive?t.setAttribute("aria-expanded",E.state.isVisible&&t===(c||e)?"true":"false"):t.removeAttribute("aria-expanded")})}function D(){A().removeEventListener("mousemove",g),eY=eY.filter(function(e){return e!==g})}function k(t){if(!eL.isTouch||!p&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!(E.props.interactive&&ew(O,n))){if(eO(E.props.triggerTarget||e).some(function(e){return ew(e,n)})){if(eL.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[E,t]);!0!==E.props.hideOnClick||(E.clearDelayTimeouts(),E.hide(),d=!0,setTimeout(function(){d=!1}),E.state.isMounted||F())}}}function U(){p=!0}function V(){p=!1}function M(){var e=A();e.addEventListener("mousedown",k,!0),e.addEventListener("touchend",k,ev),e.addEventListener("touchstart",V,ev),e.addEventListener("touchmove",U,ev)}function F(){var e=A();e.removeEventListener("mousedown",k,!0),e.removeEventListener("touchend",k,ev),e.removeEventListener("touchstart",V,ev),e.removeEventListener("touchmove",U,ev)}function j(e,t){var n=ez(O).box;function r(e){e.target===n&&(ex(n,"remove",r),t())}if(0===e)return t();ex(n,"remove",s),ex(n,"add",r),s=r}function B(t,n,r){void 0===r&&(r=!1),eO(E.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})})}function K(){N()&&(B("touchstart",z,{passive:!0}),B("touchend",q,{passive:!0})),E.props.trigger.split(/\s+/).filter(Boolean).forEach(function(e){if("manual"!==e)switch(B(e,z),e){case"mouseenter":B("mouseleave",q);break;case"focus":B(eU?"focusout":"blur",Y);break;case"focusin":B("focusout",Y)}})}function G(){v.forEach(function(e){var t=e.node,n=e.eventType,r=e.handler,i=e.options;t.removeEventListener(n,r,i)}),v=[]}function z(e){var t,n=!1;if(!(!E.state.isEnabled||W(e))&&!d){var r=(null==(t=a)?void 0:t.type)==="focus";a=e,c=e.currentTarget,P(),!E.state.isVisible&&em(e,"MouseEvent")&&eY.forEach(function(t){return t(e)}),"click"===e.type&&(0>E.props.trigger.indexOf("mouseenter")||f)&&!1!==E.props.hideOnClick&&E.state.isVisible?n=!0:$(e),"click"===e.type&&(f=!n),n&&!r&&Q(e)}}function H(t){var n,r,i,o=t.target,a=(c||e).contains(o)||O.contains(o);("mousemove"!==t.type||!a)&&(n=X().concat(O).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:l}:null}).filter(Boolean),r=t.clientX,i=t.clientY,n.every(function(e){var t=e.popperRect,n=e.popperState,o=e.props.interactiveBorder,a=n.placement.split("-")[0],s=n.modifiersData.offset;if(!s)return!0;var u="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,l="right"===a?s.left.x:0,f="left"===a?s.right.x:0,d=t.top-i+u>o,p=i-t.bottom-c>o,h=t.left-r+l>o,v=r-t.right-f>o;return d||p||h||v})&&(D(),Q(t)))}function q(e){if(!(W(e)||E.props.trigger.indexOf("click")>=0&&f)){if(E.props.interactive){E.hideWithInteractivity(e);return}Q(e)}}function Y(t){0>E.props.trigger.indexOf("focusin")&&t.target!==(c||e)||E.props.interactive&&t.relatedTarget&&O.contains(t.relatedTarget)||Q(t)}function W(e){return!!eL.isTouch&&N()!==e.type.indexOf("touch")>=0}function Z(){J();var t=E.props,n=t.popperOptions,r=t.placement,i=t.offset,o=t.getReferenceClientRect,a=t.moveTransition,s=S()?ez(O).arrow:null,l=o?{getBoundingClientRect:o,contextElement:o.contextElement||c||e}:e,f=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(S()){var n=ez(O).box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)}),t.attributes.popper={}}}}];S()&&s&&f.push({name:"arrow",options:{element:s,padding:3}}),f.push.apply(f,(null==n?void 0:n.modifiers)||[]),E.popperInstance=ef(l,O,Object.assign({},n,{placement:r,onFirstUpdate:u,modifiers:f}))}function J(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function X(){return eI(O.querySelectorAll("[data-tippy-root]"))}function $(e){E.clearDelayTimeouts(),e&&L("onTrigger",[E,e]),M();var t=x(!0),n=R(),i=n[0],o=n[1];eL.isTouch&&"hold"===i&&o&&(t=o),t?r=setTimeout(function(){E.show()},t):E.show()}function Q(e){if(E.clearDelayTimeouts(),L("onUntrigger",[E,e]),!E.state.isVisible){F();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0)||!f){var t=x(!1);t?i=setTimeout(function(){E.state.isVisible&&E.hide()},t):o=requestAnimationFrame(function(){E.hide()})}}}(t,r);return n&&e.push(n),e},[]);return eN(e)?i[0]:i}eZ.defaultProps=eV,eZ.setDefaultProps=function(e){Object.keys(e).forEach(function(t){eV[t]=e[t]})},eZ.currentInput=eL,Object.assign({},J,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),eZ.setDefaultProps({render:eH});var eJ=n(27378),eX=n(31542);function e$(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var eQ="undefined"!=typeof window&&"undefined"!=typeof document;function e0(e,t){e&&("function"==typeof e&&e(t),({}).hasOwnProperty.call(e,"current")&&(e.current=t))}function e1(){return eQ&&document.createElement("div")}var e5=eQ?eJ.useLayoutEffect:eJ.useEffect;function e2(e,t,n){n.split(/\s+/).forEach(function(n){n&&e.classList[t](n)})}var e3={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function r(){(!e.props.className||n())&&e2(t,"add",e.props.className)}return{onCreate:r,onBeforeUpdate:function(){n()&&e2(t,"remove",e.props.className)},onAfterUpdate:r}}},e4=(d=function(e){var t,n,r,i=e.children,o=e.content,a=e.visible,s=e.singleton,u=e.render,c=e.reference,l=e.disabled,f=void 0!==l&&l,d=e.ignoreAttributes,p=(e.__source,e.__self,e$(e,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),h=void 0!==a,v=void 0!==s,g=(0,eJ.useState)(!1),y=g[0],m=g[1],E=(0,eJ.useState)({}),b=E[0],O=E[1],_=(0,eJ.useState)(),I=_[0],T=_[1],R=(t=function(){return{container:e1(),renders:1}},(n=(0,eJ.useRef)()).current||(n.current=t()),n.current),N=Object.assign({ignoreAttributes:void 0===d||d},p,{content:R.container});h&&(N.trigger="manual",N.hideOnClick=!1),v&&(f=!0);var S=N,A=N.plugins||[];u&&(S=Object.assign({},N,{plugins:v&&null!=s.data?[].concat(A,[{fn:function(){return{onTrigger:function(e,t){var n=s.data.children.find(function(e){return e.instance.reference===t.currentTarget});e.state.$$activeSingletonInstance=n.instance,T(n.content)}}}}]):A,render:function(){return{popper:R.container}}}));var x=[c].concat(i?[i.type]:[]);return e5(function(){var e=c;c&&c.hasOwnProperty("current")&&(e=c.current);var t=eZ(e||R.ref||e1(),Object.assign({},S,{plugins:[e3].concat(N.plugins||[])}));return R.instance=t,f&&t.disable(),a&&t.show(),v&&s.hook({instance:t,content:o,props:S,setSingletonContent:T}),m(!0),function(){t.destroy(),null==s||s.cleanup(t)}},x),e5(function(){if(1===R.renders){R.renders++;return}var e,t,n,r,i,u,c,l=R.instance;l.setProps((e=l.props,Object.assign({},t=S,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:(i=[].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(r=t.popperOptions)?void 0:r.modifiers)||[]),u=[],i.forEach(function(e){u.find(function(t){return function e(t,n){if(t===n)return!0;if("object"!=typeof t||null==t||"object"!=typeof n||null==n||Object.keys(t).length!==Object.keys(n).length)return!1;for(var r in t)if(!n.hasOwnProperty(r)||!e(t[r],n[r]))return!1;return!0}(e,t)})||u.push(e)}),u)})}))),null==(c=l.popperInstance)||c.forceUpdate(),f?l.disable():l.enable(),h&&(a?l.show():l.hide()),v&&s.hook({instance:l,content:o,props:S,setSingletonContent:T})}),e5(function(){if(u){var e,t=R.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter(function(e){return"$$tippyReact"!==e.name}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,r=null==(t=n.modifiersData)?void 0:t.hide;(b.placement!==n.placement||b.referenceHidden!==(null==r?void 0:r.isReferenceHidden)||b.escaped!==(null==r?void 0:r.hasPopperEscaped))&&O({placement:n.placement,referenceHidden:null==r?void 0:r.isReferenceHidden,escaped:null==r?void 0:r.hasPopperEscaped}),n.attributes.popper={}}}])})})}},[b.placement,b.referenceHidden,b.escaped].concat(x)),eJ.createElement(eJ.Fragment,null,i?(0,eJ.cloneElement)(i,{ref:function(e){R.ref=e,e0(i.ref,e)}}):null,y&&(0,eX.createPortal)(u?u((r={"data-placement":b.placement},b.referenceHidden&&(r["data-reference-hidden"]=""),b.escaped&&(r["data-escaped"]=""),r),I,R.instance):o,R.container))},(0,eJ.forwardRef)(function(e,t){var n=e.children,r=e$(e,["children"]);return eJ.createElement(d,Object.assign({},void 0,r),n?(0,eJ.cloneElement)(n,{ref:function(e){e0(t,e),e0(n.ref,e)}}):null)}))},14206:function(e,t,n){e.exports=n(8057)},14387:function(e,t,n){"use strict";var r=n(67485),i=n(94570),o=n(12940),a=n(60581),s=n(30574),u=n(53845),c=n(38338),l=n(68524),f=n(73141),d=n(37132);e.exports=function(e){return new Promise(function(t,n){var p,h=e.data,v=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(h)&&delete v["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(E+":"+b)}var O=s(e.baseURL,e.url);function _(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null;i(function(e){t(e),y()},function(e){n(e),y()},{data:g&&"text"!==g&&"json"!==g?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}}if(m.open(e.method.toUpperCase(),a(O,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(_)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var I=(e.withCredentials||c(O))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;I&&(v[e.xsrfHeaderName]=I)}"setRequestHeader"in m&&r.forEach(v,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete v[t]:m.setRequestHeader(t,e)}),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),g&&"json"!==g&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){m&&(n(!e||e&&e.type?new d("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),h||(h=null),m.send(h)})}},8057:function(e,t,n){"use strict";var r=n(67485),i=n(875),o=n(25029),a=n(44941),s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(73141));s.Axios=o,s.Cancel=n(37132),s.CancelToken=n(34603),s.isCancel=n(21475),s.VERSION=n(73345).version,s.all=function(e){return Promise.all(e)},s.spread=n(35739),s.isAxiosError=n(35835),e.exports=s,e.exports.default=s},37132:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},34603:function(e,t,n){"use strict";var r=n(37132);function i(e){if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});var t,n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},21475:function(e){"use strict";e.exports=function(e){return!!(e&&e.__CANCEL__)}},25029:function(e,t,n){"use strict";var r=n(67485),i=n(60581),o=n(68096),a=n(55009),s=n(44941),u=n(36144),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t,n=e.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))});var o=[];if(this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)}),!i){var l=[a,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(o),t=Promise.resolve(e);l.length;)t=t.then(l.shift(),l.shift());return t}for(var f=e;r.length;){var d=r.shift(),p=r.shift();try{f=d(f)}catch(e){p(e);break}}try{t=a(f)}catch(e){return Promise.reject(e)}for(;o.length;)t=t.then(o.shift(),o.shift());return t},l.prototype.getUri=function(e){return i((e=s(this.defaults,e)).url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}}),r.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}}),e.exports=l},68096:function(e,t,n){"use strict";var r=n(67485);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},30574:function(e,t,n){"use strict";var r=n(32642),i=n(72288);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},68524:function(e,t,n){"use strict";var r=n(69953);e.exports=function(e,t,n,i,o){return r(Error(e),t,n,i,o)}},55009:function(e,t,n){"use strict";var r=n(67485),i=n(9212),o=n(21475),a=n(73141),s=n(37132);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t},function(t){return!o(t)&&(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},69953:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},44941:function(e,t,n){"use strict";var r=n(67485);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)}),n}},94570:function(e,t,n){"use strict";var r=n(68524);e.exports=function(e,t,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},9212:function(e,t,n){"use strict";var r=n(67485),i=n(73141);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,function(n){e=n.call(o,e,t)}),e}},73141:function(e,t,n){"use strict";var r,i=n(27061),o=n(67485),a=n(51446),s=n(69953),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?r=n(14387):void 0!==i&&"[object process]"===Object.prototype.toString.call(i)&&(r=n(14387)),r),transformRequest:[function(e,t){return(a(t,"Accept"),a(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(o.isString(e))try{return(0,JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(e){l.headers[e]={}}),o.forEach(["post","put","patch"],function(e){l.headers[e]=o.merge(u)}),e.exports=l},73345:function(e){e.exports={version:"0.22.0"}},875:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},60581:function(e,t,n){"use strict";var r=n(67485);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var o,a=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},72288:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},12940:function(e,t,n){"use strict";var r=n(67485);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},32642:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},35835:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},38338:function(e,t,n){"use strict";var r=n(67485);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},51446:function(e,t,n){"use strict";var r=n(67485);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},53845:function(e,t,n){"use strict";var r=n(67485),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e&&r.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t&&!(a[t]&&i.indexOf(t)>=0)&&("set-cookie"===t?a[t]=(a[t]?a[t]:[]).concat([n]):a[t]=a[t]?a[t]+", "+n:n)}),a}},35739:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},36144:function(e,t,n){"use strict";var r=n(73345).version,i={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw TypeError("option "+o+" must be "+u);continue}if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},67485:function(e,t,n){"use strict";var r=n(875),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e){if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,function(t,i){n&&"function"==typeof t?e[i]=r(t,n):e[i]=t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},22119:function(e,t,n){"use strict";n.d(t,{M:function(){return h}});var r=n(22627),i=n(27378),o=n(43463),a=n(34912),s=n(65113),u=0;function c(){var e=u;return u++,e}var l=function(e){var t=e.children,n=e.initial,r=e.isPresent,o=e.onExitComplete,u=e.custom,l=e.presenceAffectsLayout,d=(0,s.h)(f),p=(0,s.h)(c),h=(0,i.useMemo)(function(){return{id:p,initial:n,isPresent:r,custom:u,onExitComplete:function(e){d.set(e,!0);var t=!0;d.forEach(function(e){e||(t=!1)}),t&&(null==o||o())},register:function(e){return d.set(e,!1),function(){return d.delete(e)}}}},l?void 0:[r]);return(0,i.useMemo)(function(){d.forEach(function(e,t){return d.set(t,!1)})},[r]),i.useEffect(function(){r||d.size||null==o||o()},[r]),i.createElement(a.O.Provider,{value:h},t)};function f(){return new Map}var d=n(84453);function p(e){return e.key||""}var h=function(e){var t,n,a,s,u,c=e.children,f=e.custom,h=e.initial,v=void 0===h||h,g=e.onExitComplete,y=e.exitBeforeEnter,m=e.presenceAffectsLayout,E=void 0===m||m,b=(t=(0,i.useRef)(!1),a=(n=(0,r.CR)((0,i.useState)(0),2))[0],s=n[1],(0,o.z)(function(){return t.current=!0}),(0,i.useCallback)(function(){t.current||s(a+1)},[a])),O=(0,i.useContext)(d.WH);(0,d.Md)(O)&&(b=O.forceUpdate);var _=(0,i.useRef)(!0),I=(u=[],i.Children.forEach(c,function(e){(0,i.isValidElement)(e)&&u.push(e)}),u),T=(0,i.useRef)(I),R=(0,i.useRef)(new Map).current,N=(0,i.useRef)(new Set).current;if(!function(e,t){e.forEach(function(e){var n=p(e);t.set(n,e)})}(I,R),_.current)return _.current=!1,i.createElement(i.Fragment,null,I.map(function(e){return i.createElement(l,{key:p(e),isPresent:!0,initial:!!v&&void 0,presenceAffectsLayout:E},e)}));for(var S=(0,r.ev)([],(0,r.CR)(I)),A=T.current.map(p),x=I.map(p),w=A.length,L=0;L<w;L++){var C=A[L];-1===x.indexOf(C)?N.add(C):N.delete(C)}return y&&N.size&&(S=[]),N.forEach(function(e){if(-1===x.indexOf(e)){var t=R.get(e);if(t){var n=A.indexOf(e);S.splice(n,0,i.createElement(l,{key:p(t),isPresent:!1,onExitComplete:function(){R.delete(e),N.delete(e);var t=T.current.findIndex(function(t){return t.key===e});T.current.splice(t,1),!N.size&&(T.current=I,b(),g&&g())},custom:f,presenceAffectsLayout:E},t))}}}),S=S.map(function(e){var t=e.key;return N.has(t)?e:i.createElement(l,{key:p(e),isPresent:!0,presenceAffectsLayout:E},e)}),T.current=S,i.createElement(i.Fragment,null,N.size?S:S.map(function(e){return(0,i.cloneElement)(e)}))}},18170:function(e){!function(){function t(e,t){var n,r,i,o,a,s;for(n=3&e.length,r=e.length-n,i=t,s=0;s<r;)a=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,i^=a=(65535&(a=(a=(65535&a)*3432918353+(((a>>>16)*3432918353&65535)<<16)&4294967295)<<15|a>>>17))*461845907+(((a>>>16)*461845907&65535)<<16)&4294967295,i=(65535&(o=(65535&(i=i<<13|i>>>19))*5+(((i>>>16)*5&65535)<<16)&4294967295))+27492+(((o>>>16)+58964&65535)<<16);switch(a=0,n){case 3:a^=(255&e.charCodeAt(s+2))<<16;case 2:a^=(255&e.charCodeAt(s+1))<<8;case 1:a^=255&e.charCodeAt(s),i^=a=(65535&(a=(a=(65535&a)*3432918353+(((a>>>16)*3432918353&65535)<<16)&4294967295)<<15|a>>>17))*461845907+(((a>>>16)*461845907&65535)<<16)&4294967295}return i^=e.length,i^=i>>>16,i=(65535&i)*2246822507+(((i>>>16)*2246822507&65535)<<16)&4294967295,i^=i>>>13,i=(65535&i)*3266489909+(((i>>>16)*3266489909&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var n=t;n.v2=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))*1540483477+(((n>>>16)*1540483477&65535)<<16),n^=n>>>24,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)^(n=(65535&n)*1540483477+(((n>>>16)*1540483477&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i^=255&e.charCodeAt(o),i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)}return i^=i>>>13,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16),(i^=i>>>15)>>>0},n.v3=t,e.exports=n}()},1793:function(){},96389:function(e,t,n){var r;e.exports=(r=n(27378),(()=>{var e={703:(e,t,n)=>{"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:e=>{"use strict";e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";n.r(i),n.d(i,{default:()=>m});var e=n(98),t=n.n(e),r=n(697),o=n.n(r);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){var n=e.pageClassName,r=e.pageLinkClassName,i=e.page,o=e.selected,s=e.activeClassName,u=e.activeLinkClassName,c=e.getEventListener,l=e.pageSelectedHandler,f=e.href,d=e.extraAriaContext,p=e.pageLabelBuilder,h=e.rel,v=e.ariaLabel||"Page "+i+(d?" "+d:""),g=null;return o&&(g="page",v=e.ariaLabel||"Page "+i+" is your current page",n=void 0!==n?n+" "+s:s,void 0!==r?void 0!==u&&(r=r+" "+u):r=u),t().createElement("li",{className:n},t().createElement("a",a({rel:h,role:f?void 0:"button",className:r,href:f,tabIndex:o?"-1":"0","aria-label":v,"aria-current":g,onKeyPress:l},c(l)),p(i)))};function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}s.propTypes={pageSelectedHandler:o().func.isRequired,selected:o().bool.isRequired,pageClassName:o().string,pageLinkClassName:o().string,activeClassName:o().string,activeLinkClassName:o().string,extraAriaContext:o().string,href:o().string,ariaLabel:o().string,page:o().number.isRequired,getEventListener:o().func.isRequired,pageLabelBuilder:o().func.isRequired,rel:o().string};var c=function(e){var n=e.breakLabel,r=e.breakAriaLabel,i=e.breakClassName,o=e.breakLinkClassName,a=e.breakHandler,s=e.getEventListener;return t().createElement("li",{className:i||"break"},t().createElement("a",u({className:o,role:"button",tabIndex:"0","aria-label":r,onKeyPress:a},s(a)),n))};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!=e?e:t}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}c.propTypes={breakLabel:o().oneOfType([o().string,o().node]),breakAriaLabel:o().string,breakClassName:o().string,breakLinkClassName:o().string,breakHandler:o().func.isRequired,getEventListener:o().func.isRequired};var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(o,e);var n,r,i=(r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=v(o);if(r){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function o(e){var n,r;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),g(h(n=i.call(this,e)),"handlePreviousPage",function(e){var t=n.state.selected;n.handleClick(e,null,t>0?t-1:void 0,{isPrevious:!0})}),g(h(n),"handleNextPage",function(e){var t=n.state.selected,r=n.props.pageCount;n.handleClick(e,null,t<r-1?t+1:void 0,{isNext:!0})}),g(h(n),"handlePageSelected",function(e,t){if(n.state.selected===e)return n.callActiveCallback(e),void n.handleClick(t,null,void 0,{isActive:!0});n.handleClick(t,null,e)}),g(h(n),"handlePageChange",function(e){n.state.selected!==e&&(n.setState({selected:e}),n.callCallback(e))}),g(h(n),"getEventListener",function(e){return g({},n.props.eventListener,e)}),g(h(n),"handleClick",function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.isPrevious,a=i.isNext,s=i.isBreak,u=i.isActive;e.preventDefault?e.preventDefault():e.returnValue=!1;var c=n.state.selected,l=n.props.onClick,f=r;if(l){var d=l({index:t,selected:c,nextSelectedPage:r,event:e,isPrevious:void 0!==o&&o,isNext:void 0!==a&&a,isBreak:void 0!==s&&s,isActive:void 0!==u&&u});if(!1===d)return;Number.isInteger(d)&&(f=d)}void 0!==f&&n.handlePageChange(f)}),g(h(n),"handleBreakClick",function(e,t){var r=n.state.selected;n.handleClick(t,e,r<e?n.getForwardJump():n.getBackwardJump(),{isBreak:!0})}),g(h(n),"callCallback",function(e){void 0!==n.props.onPageChange&&"function"==typeof n.props.onPageChange&&n.props.onPageChange({selected:e})}),g(h(n),"callActiveCallback",function(e){void 0!==n.props.onPageActive&&"function"==typeof n.props.onPageActive&&n.props.onPageActive({selected:e})}),g(h(n),"getElementPageRel",function(e){var t=n.state.selected,r=n.props,i=r.nextPageRel,o=r.prevPageRel,a=r.selectedPageRel;return t-1===e?o:t===e?a:t+1===e?i:void 0}),g(h(n),"pagination",function(){var e=[],r=n.props,i=r.pageRangeDisplayed,o=r.pageCount,a=r.marginPagesDisplayed,s=r.breakLabel,u=r.breakClassName,l=r.breakLinkClassName,f=r.breakAriaLabels,d=n.state.selected;if(o<=i)for(var p=0;p<o;p++)e.push(n.getPageElement(p));else{var h=i/2,v=i-h;d>o-i/2?h=i-(v=o-d):d<i/2&&(v=i-(h=d));var g,y,m=function(e){return n.getPageElement(e)},E=[];for(g=0;g<o;g++){var b=g+1;if(b<=a)E.push({type:"page",index:g,display:m(g)});else if(b>o-a)E.push({type:"page",index:g,display:m(g)});else if(g>=d-h&&g<=d+(0===d&&i>1?v-1:v))E.push({type:"page",index:g,display:m(g)});else if(s&&E.length>0&&E[E.length-1].display!==y&&(i>0||a>0)){var O=g<d?f.backward:f.forward;y=t().createElement(c,{key:g,breakAriaLabel:O,breakLabel:s,breakClassName:u,breakLinkClassName:l,breakHandler:n.handleBreakClick.bind(null,g),getEventListener:n.getEventListener}),E.push({type:"break",index:g,display:y})}}E.forEach(function(t,n){var r=t;"break"===t.type&&E[n-1]&&"page"===E[n-1].type&&E[n+1]&&"page"===E[n+1].type&&E[n+1].index-E[n-1].index<=2&&(r={type:"page",index:t.index,display:m(t.index)}),e.push(r.display)})}return e}),void 0!==e.initialPage&&void 0!==e.forcePage&&console.warn("(react-paginate): Both initialPage (".concat(e.initialPage,") and forcePage (").concat(e.forcePage,") props are provided, which is discouraged.")+" Use exclusively forcePage prop for a controlled component.\nSee https://reactjs.org/docs/forms.html#controlled-components"),r=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,n.state={selected:r},n}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,n=e.disableInitialCallback,r=e.extraAriaContext,i=e.pageCount,o=e.forcePage;void 0===t||n||this.callCallback(t),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(i)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(i,"). Did you forget a Math.ceil()?")),void 0!==t&&t>i-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(t," > ").concat(i-1,").")),void 0!==o&&o>i-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(o," > ").concat(i-1,")."))}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(e.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,n=t.pageCount,r=e+t.pageRangeDisplayed;return r>=n?n-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"getElementHref",value:function(e){var t=this.props,n=t.hrefBuilder,r=t.pageCount,i=t.hrefAllControls;if(n)return i||e>=0&&e<r?n(e+1,r,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var n=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(n=n+" "+this.props.extraAriaContext),n}}},{key:"getPageElement",value:function(e){var n=this.state.selected,r=this.props,i=r.pageClassName,o=r.pageLinkClassName,a=r.activeClassName,u=r.activeLinkClassName,c=r.extraAriaContext,l=r.pageLabelBuilder;return t().createElement(s,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:n===e,rel:this.getElementPageRel(e),pageClassName:i,pageLinkClassName:o,activeClassName:a,activeLinkClassName:u,extraAriaContext:c,href:this.getElementHref(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,pageLabelBuilder:l,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props.renderOnZeroPageCount;if(0===this.props.pageCount&&void 0!==e)return e?e(this.props):e;var n=this.props,r=n.disabledClassName,i=n.disabledLinkClassName,o=n.pageCount,a=n.className,s=n.containerClassName,u=n.previousLabel,c=n.previousClassName,f=n.previousLinkClassName,p=n.previousAriaLabel,h=n.prevRel,v=n.nextLabel,g=n.nextClassName,y=n.nextLinkClassName,m=n.nextAriaLabel,E=n.nextRel,b=this.state.selected,O=0===b,_=b===o-1,I="".concat(l(c)).concat(O?" ".concat(l(r)):""),T="".concat(l(g)).concat(_?" ".concat(l(r)):""),R="".concat(l(f)).concat(O?" ".concat(l(i)):""),N="".concat(l(y)).concat(_?" ".concat(l(i)):"");return t().createElement("ul",{className:a||s,role:"navigation","aria-label":"Pagination"},t().createElement("li",{className:I},t().createElement("a",d({className:R,href:this.getElementHref(b-1),tabIndex:O?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":O?"true":"false","aria-label":p,rel:h},this.getEventListener(this.handlePreviousPage)),u)),this.pagination(),t().createElement("li",{className:T},t().createElement("a",d({className:N,href:this.getElementHref(b+1),tabIndex:_?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":_?"true":"false","aria-label":m,rel:E},this.getEventListener(this.handleNextPage)),v)))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(e.Component);g(y,"propTypes",{pageCount:o().number.isRequired,pageRangeDisplayed:o().number,marginPagesDisplayed:o().number,previousLabel:o().node,previousAriaLabel:o().string,prevPageRel:o().string,prevRel:o().string,nextLabel:o().node,nextAriaLabel:o().string,nextPageRel:o().string,nextRel:o().string,breakLabel:o().oneOfType([o().string,o().node]),breakAriaLabels:o().shape({forward:o().string,backward:o().string}),hrefBuilder:o().func,hrefAllControls:o().bool,onPageChange:o().func,onPageActive:o().func,onClick:o().func,initialPage:o().number,forcePage:o().number,disableInitialCallback:o().bool,containerClassName:o().string,className:o().string,pageClassName:o().string,pageLinkClassName:o().string,pageLabelBuilder:o().func,activeClassName:o().string,activeLinkClassName:o().string,previousClassName:o().string,nextClassName:o().string,previousLinkClassName:o().string,nextLinkClassName:o().string,disabledClassName:o().string,disabledLinkClassName:o().string,breakClassName:o().string,breakLinkClassName:o().string,extraAriaContext:o().string,ariaLabelBuilder:o().func,eventListener:o().string,renderOnZeroPageCount:o().func,selectedPageRel:o().string}),g(y,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(e){return e},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});let m=y})(),i})())},39442:function(e,t,n){"use strict";let r,i,o,a,s;n.d(t,{R:function(){return iN}});var u,c,l,f,d,p,h,v,g,y,m,E,b,O,_,I,T=n(27378),R=n(91895),N=n.n(R),S="undefined"!=typeof window&&window.document&&window.document.createElement?T.useLayoutEffect:T.useEffect;N(),"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();var A=n(31542),x=function(e){var t,n=e.children,r=e.type,i=void 0===r?"reach-portal":r,o=(0,T.useRef)(null),a=(0,T.useRef)(null),s=(t=(0,T.useState)(Object.create(null))[1],(0,T.useCallback)(function(){t(Object.create(null))},[]));return S(function(){if(o.current){var e=o.current.ownerDocument;return a.current=null==e?void 0:e.createElement(i),e.body.appendChild(a.current),s(),function(){a.current&&a.current.ownerDocument&&a.current.ownerDocument.body.removeChild(a.current)}}},[i,s]),a.current?(0,A.createPortal)(n,a.current):(0,T.createElement)("span",{ref:o})},w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function L(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function C(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function D(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var k={},U="xstate.guard";(c=y||(y={})).Start="xstate.start",c.Stop="xstate.stop",c.Raise="xstate.raise",c.Send="xstate.send",c.Cancel="xstate.cancel",c.NullEvent="",c.Assign="xstate.assign",c.After="xstate.after",c.DoneState="done.state",c.DoneInvoke="done.invoke",c.Log="xstate.log",c.Init="xstate.init",c.Invoke="xstate.invoke",c.ErrorExecution="error.execution",c.ErrorCommunication="error.communication",c.ErrorPlatform="error.platform",c.ErrorCustom="xstate.error",c.Update="xstate.update",c.Pure="xstate.pure",c.Choose="xstate.choose",(l=m||(m={})).Parent="#_parent",l.Internal="#_internal";var V=y.Start,M=y.Stop,F=y.Raise,j=y.Send,B=y.Cancel,K=y.NullEvent,G=y.Assign;y.After,y.DoneState;var z=y.Log,H=y.Init,q=y.Invoke;y.ErrorExecution;var Y=y.ErrorPlatform,W=y.ErrorCustom,Z=y.Update,J=y.Choose,X=y.Pure;function $(e,t,n){void 0===n&&(n=".");var r=et(e,n),i=et(t,n);return ev(i)?!!ev(r)&&i===r:ev(r)?r in i:Object.keys(r).every(function(e){return e in i&&$(r[e],i[e])})}function Q(e){try{return ev(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw Error("Events must be strings or objects with a string event.type property.")}}function ee(e,t){try{if(ep(e))return e;return e.toString().split(t)}catch(t){throw Error("'".concat(e,"' is not a valid state path."))}}function et(e,t){return"object"==typeof e&&"value"in e&&"context"in e&&"event"in e&&"_event"in e?e.value:ep(e)?en(e):"string"!=typeof e?e:en(ee(e,t))}function en(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function er(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function ei(e,t,n){var r,i,o={};try{for(var a=C(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];n(c)&&(o[u]=t(c,u,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var eo=function(e){return function(t){var n,r,i=t;try{for(var o=C(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function ea(e){return e?ev(e)?[[e]]:es(Object.keys(e).map(function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?ea(e[t]).map(function(e){return[t].concat(e)}):[[t]]})):[[]]}function es(e){var t;return(t=[]).concat.apply(t,D([],P(e),!1))}function eu(e){return void 0===e?[]:ep(e)?e:[e]}function ec(e,t,n){if(eh(e))return e(t,n.data);var r,i,o={};try{for(var a=C(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];eh(c)?o[u]=c(t,n.data):o[u]=c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function el(e){return!!(e instanceof Promise||null!==e&&(eh(e)||"object"==typeof e)&&eh(e.then))}function ef(e,t,n,r){return e?n.reduce(function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},u={};if(eh(a))u=a(e,t.data,s);else try{for(var c=C(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=a[f];u[f]=eh(d)?d(e,t.data,s):d}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return Object.assign({},e,u)},e):e}var ed=function(){};function ep(e){return Array.isArray(e)}function eh(e){return"function"==typeof e}function ev(e){return"string"==typeof e}function eg(e,t){return e?ev(e)?{type:U,name:e,predicate:t?t[e]:void 0}:eh(e)?{type:U,name:e.name,predicate:e}:e:void 0}var ey="function"==typeof Symbol&&Symbol.observable||"@@observable";function em(e){return!!e&&"__xstatenode"in e}function eE(e,t){return ev(e)||"number"==typeof e?w({type:e},t):e}function eb(e,t){if(!ev(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=eE(e);return w({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function eO(e,t){return(ep(t)?t:[t]).map(function(t){return void 0===t||"string"==typeof t||em(t)?{target:t,event:e}:w(w({},t),{event:e})})}function e_(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===U)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function eI(e){return"string"==typeof e?{type:e}:e}function eT(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function eR(e,t){return"".concat(e,":invocation[").concat(t,"]")}function eN(e){return(e.type===F||e.type===j&&e.to===m.Internal)&&"number"!=typeof e.delay}(E={})[ey]=function(){return this},E[Symbol.observable]=function(){return this};var eS=function(e){return"atomic"===e.type||"final"===e.type};function eA(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function ex(e){return eA(e).filter(function(e){return"history"!==e.type})}function ew(e,t){var n,r,i,o,a,s,u,c,l=eL(new Set(e)),f=new Set(t);try{for(var d=C(f),p=d.next();!p.done;p=d.next())for(var h=p.value,v=h.parent;v&&!f.has(v);)f.add(v),v=v.parent}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var g=eL(f);try{for(var y=C(f),m=y.next();!m.done;m=y.next()){var h=m.value;if("compound"!==h.type||g.get(h)&&g.get(h).length){if("parallel"===h.type)try{for(var E=(a=void 0,C(ex(h))),b=E.next();!b.done;b=E.next()){var O=b.value;f.has(O)||(f.add(O),l.get(O)?l.get(O).forEach(function(e){return f.add(e)}):O.initialStateNodes.forEach(function(e){return f.add(e)}))}}catch(e){a={error:e}}finally{try{b&&!b.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}else l.get(h)?l.get(h).forEach(function(e){return f.add(e)}):h.initialStateNodes.forEach(function(e){return f.add(e)})}}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}try{for(var _=C(f),I=_.next();!I.done;I=_.next())for(var h=I.value,v=h.parent;v&&!f.has(v);)f.add(v),v=v.parent}catch(e){u={error:e}}finally{try{I&&!I.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}return f}function eL(e){var t,n,r=new Map;try{for(var i=C(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function eC(e,t){return Array.isArray(e)?e.some(function(e){return e===t}):e instanceof Set&&e.has(t)}function eP(e,t){return"compound"===t.type?ex(t).some(function(t){return"final"===t.type&&eC(e,t)}):"parallel"===t.type&&ex(t).every(function(t){return eP(e,t)})}function eD(e){return new Set(es(e.map(function(e){return e.tags})))}var ek=eb({type:H});function eU(e,t){return t&&t[e]||void 0}function eV(e,t){var n;if(ev(e)||"number"==typeof e){var r=eU(e,t);n=eh(r)?{type:e,exec:r}:r||{type:e,exec:void 0}}else if(eh(e))n={type:e.name||e.toString(),exec:e};else{var r=eU(e.type,t);if(eh(r))n=w(w({},e),{exec:r});else if(r){var i=r.type||e.type;n=w(w(w({},r),e),{type:i})}else n=e}return n}var eM=function(e,t){return e?(ep(e)?e:[e]).map(function(e){return eV(e,t)}):[]};function eF(e){var t=eV(e);return w(w({id:ev(e)?e:t.id},t),{type:t.type})}function ej(e,t){var n="".concat(y.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function eB(e,t){var n="".concat(y.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function eK(e,t){var n="".concat(y.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}var eG=function(e){var t,n,r=[];try{for(var i=C(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.actions.length;){if(a.actions[s].type===G){r.push(a.actions[s]),a.actions.splice(s,1);continue}s++}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function ez(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:eG(i),u=s.length?ef(n,r,s,t):n,c=a?[n]:void 0,l=[];return[es(i.map(function(i){var s,f,d=[];try{for(var p=C(i.actions),h=p.next();!h.done;h=p.next()){var v=h.value,g=function(i,s){var f;switch(s.type){case F:var d=function(e,t,n,r){var i,o={_event:n},a=eb(eh(e.event)?e.event(t,n.data,o):e.event);if(ev(e.delay)){var s=r&&r[e.delay];i=eh(s)?s(t,n.data,o):s}else i=eh(e.delay)?e.delay(t,n.data,o):e.delay;return w(w({},e),{type:F,_event:a,delay:i})}(s,u,r,e.options.delays);return o&&"number"==typeof d.delay&&o(d,u,r),d;case j:var p=function(e,t,n,r){var i,o={_event:n},a=eb(eh(e.event)?e.event(t,n.data,o):e.event);if(ev(e.delay)){var s=r&&r[e.delay];i=eh(s)?s(t,n.data,o):s}else i=eh(e.delay)?e.delay(t,n.data,o):e.delay;var u=eh(e.to)?e.to(t,n.data,o):e.to;return w(w({},e),{to:u,_event:a,event:a.data,delay:i})}(s,u,r,e.options.delays);return o&&p.to!==m.Internal&&("entry"===i?l.push(p):o(p,u,r)),p;case z:var h,v=(h=u,w(w({},s),{value:ev(s.expr)?s.expr:s.expr(h,r.data,{_event:r})}));return null==o||o(v,u,r),v;case J:var g=null===(f=s.conds.find(function(n){var i=eg(n.cond,e.options.guards);return!i||e_(e,i,u,r,o?void 0:t)}))||void 0===f?void 0:f.actions;if(!g)return[];var E=P(ez(e,t,u,r,[{type:i,actions:eM(eu(g),e.options.actions)}],o,a),2),b=E[0];return u=E[1],null==c||c.push(u),b;case X:var g=s.get(u,r.data);if(!g)return[];var O=P(ez(e,t,u,r,[{type:i,actions:eM(eu(g),e.options.actions)}],o,a),2),_=O[0];return u=O[1],null==c||c.push(u),_;case M:var I,T,v=(I=u,T=eh(s.activity)?s.activity(I,r.data):s.activity,{type:y.Stop,activity:"string"==typeof T?{id:T}:T});return null==o||o(v,n,r),v;case G:u=ef(u,r,[s],o?void 0:t),null==c||c.push(u);break;default:var R=eV(s,e.options.actions),N=R.exec;if(o)o(R,u,r);else if(N&&c){var S=c.length-1;R=w(w({},R),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];N.apply(void 0,D([c[S]],P(t),!1))}})}return R}}(i.type,v);g&&(d=d.concat(g))}}catch(e){s={error:e}}finally{try{h&&!h.done&&(f=p.return)&&f.call(p)}finally{if(s)throw s.error}}return l.forEach(function(e){o(e,u,r)}),l.length=0,d})),u]}var eH=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=k,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||k,this.meta=(void 0===(t=e.configuration)&&(t=[]),t.reduce(function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e},{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(n=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==n?n:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){var e;return e=r.configuration,D([],P(new Set(es(D([],P(e.map(function(e){return e.ownEvents})),!1)))),!1)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:ek,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){return t instanceof e?t.actions.length?new e({value:t.value,context:n,_event:ek,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}}):t:e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),ev(e))return[e];var r=Object.keys(e);return r.concat.apply(r,D([],P(r.map(function(r){return n.toStrings(e[r],t).map(function(e){return r+t+e})})),!1))},e.prototype.toJSON=function(){this.configuration,this.transitions;var e=this.tags;return this.machine,w(w({},L(this,["configuration","transitions","tags","machine"])),{tags:Array.from(e)})},e.prototype.matches=function(e){return $(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){ed(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var t,n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some(function(e){return void 0!==e.target||e.actions.length})},e}(),eq=T.useLayoutEffect,eY={deferEvents:!1},eW=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=w(w({},eY),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(0!==this.queue.length)throw Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),eZ=[],eJ=function(e,t){eZ.push(e);var n=t(e);return eZ.pop(),n};function eX(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[ey]=function(){return this},t}function e$(e,t,n){var r=eX(t);if(r.deferred=!0,em(e)){var i=r.state=eJ(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}var eQ=new Map,e0=0,e1={bookId:function(){return"x:".concat(e0++)},register:function(e,t){return eQ.set(e,t),e},get:function(e){return eQ.get(e)},free:function(e){eQ.delete(e)}};function e5(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0}var e2={sync:!1,autoForward:!1};(f=b||(b={}))[f.NotStarted=0]="NotStarted",f[f.Running=1]="Running",f[f.Stopped=2]="Stopped";var e3=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=b.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(ep(e))return r.batch(e),r.state;var n=eb(eE(e,t));if(r.status===b.Stopped)return r.state;if(r.status!==b.Running&&!r.options.deferEvents)throw Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule(function(){r.forward(n);var e=r._nextState(n);r.update(e,n)}),r._state},this.sendTo=function(e,t,n){var i=r.parent&&(t===m.Parent||r.parent.id===t),o=i?r.parent:ev(t)?t===m.Internal?r:r.children.get(t)||e1.get(t):t&&"function"==typeof t.send?t:void 0;if(!o){if(!i)throw Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."));return}if("machine"in o){if(r.status!==b.Stopped||r.parent!==o||r.state.done){var a=w(w({},e),{name:e.name===W?"".concat(eK(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([o,a]):o.send(a)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([o,e.data]):o.send(e.data)},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||eU(e.type,i),a=eh(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case F:r.defer(e);break;case j:if("number"==typeof e.delay){r.defer(e);return}e.to?r.sendTo(e._event,e.to,n===ek):r.send(e._event);break;case B:r.cancel(e.sendId);break;case V:if(r.status!==b.Running)return;var s=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[s.id||s.type])break;if(s.type===y.Invoke){var u=eI(s.src),c=r.machine.options.services?r.machine.options.services[u.type]:void 0,l=s.id,f=s.data,d="autoForward"in s?s.autoForward:!!s.forward;if(!c)return;var p=f?ec(f,t,n):void 0;if("string"==typeof c)return;var h=eh(c)?c(t,n.data,{data:p,src:u,meta:s.meta}):c;if(!h)return;var v=void 0;em(h)&&(h=p?h.withContext(p):h,v={autoForward:d}),r.spawn(h,l,v)}else r.spawnActivity(s);break;case M:r.stopChild(e.activity.id);break;case z:var g=e.label,m=e.value;g?r.logger(g,m):r.logger(m)}};var i=w(w({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,u=i.id,c=void 0!==u?u:t.id;this.id=c,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new eW({deferEvents:this.options.deferEvents}),this.sessionId=e1.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:eJ(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=C(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,u,c,l=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||t===ek)&&this.options.execute)this.execute(this.state);else for(var f=void 0;f=this._outgoingQueue.shift();)f[0].send(f[1]);if(this.children.forEach(function(e){l.state.children[e.id]=e}),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var d=C(this.eventListeners),p=d.next();!p.done;p=d.next()){var h=p.value;h(e.event)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}try{for(var v=C(this.listeners),g=v.next();!g.done;g=v.next()){var h=g.value;h(e,e.event)}}catch(e){i={error:e}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var y=C(this.contextListeners),m=y.next();!m.done;m=y.next())(0,m.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(this.state.done){var E=e.configuration.find(function(e){return"final"===e.type&&e.parent===l.machine}),b=E&&E.doneData?ec(E.doneData,e.context,t):void 0;this._doneEvent=eB(this.id,b);try{for(var O=C(this.doneListeners),_=O.next();!_.done;_=O.next()){var h=_.value;h(this._doneEvent)}}catch(e){u={error:e}}finally{try{_&&!_.done&&(c=O.return)&&c.call(O)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),e1.free(this.sessionId)}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===b.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=eT(e,t,n);this.listeners.add(i.next),this.status!==b.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===b.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.status===b.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t=this;if(this.status===b.Running)return this;this.machine._init(),e1.register(this.sessionId,this),this.initialized=!0,this.status=b.Running;var n=void 0===e?this.initialState:eJ(this,function(){return"object"==typeof e&&null!==e&&"value"in e&&"_event"in e?t.machine.resolveState(e):t.machine.resolveState(eH.from(e,t.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){t.update(n,ek)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(e){eh(e.stop)&&e.stop()}),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,u,c;try{for(var l=C(this.listeners),f=l.next();!f.done;f=l.next()){var d=f.value;this.listeners.delete(d)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}try{for(var p=C(this.stopListeners),h=p.next();!h.done;h=p.next()){var d=h.value;d(),this.stopListeners.delete(d)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var v=C(this.contextListeners),g=v.next();!g.done;g=v.next()){var d=g.value;this.contextListeners.delete(d)}}catch(e){i={error:e}}finally{try{g&&!g.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var y=C(this.doneListeners),m=y.next();!m.done;m=y.next()){var d=m.value;this.doneListeners.delete(d)}}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=b.Stopped,this._initialState=void 0;try{for(var E=C(Object.keys(this.delayedEventsMap)),O=E.next();!O.done;O=E.next()){var _=O.value;this.clock.clearTimeout(this.delayedEventsMap[_])}}catch(e){u={error:e}}finally{try{O&&!O.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new eW({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule(function(){if(null===(t=e._state)||void 0===t||!t.done){var t,n=eb({type:"xstate.stop"}),r=eJ(e,function(){var t=es(D([],P(e.state.configuration),!1).sort(function(e,t){return t.order-e.order}).map(function(t){return eM(t.onExit,e.machine.options.actions)})),r=P(ez(e.machine,e.state,e.state.context,n,[{type:"exit",actions:t}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new eH({value:e.state.value,context:o,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter(function(e){return!eN(e)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a});e.update(r,n),e._stopChildren(),e1.free(e.sessionId)}}),this},e.prototype.batch=function(e){var t=this;if(this.status===b.NotStarted&&this.options.deferEvents);else if(this.status!==b.Running)throw Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var r,i,o=t.state,a=!1,s=[];try{for(var u=C(e),c=u.next();!c.done;c=u.next()){var l=c.value;!function(e){var r=eb(e);t.forward(r),o=eJ(t,function(){return t.machine.transition(o,r,void 0,n||void 0)}),s.push.apply(s,D([],P(t.machine.config.predictableActionArguments?o.actions:o.actions.map(function(e){var t,n;return t=o,n=e.exec,w(w({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})})),!1)),a=a||!!o.changed}(l)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,eb(e[e.length-1]))})}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=eb(e);if(0===r.name.indexOf(Y)&&!this.state.nextEvents.some(function(e){return 0===e.indexOf(Y)}))throw r.data.data;return eJ(this,function(){return n.machine.transition(n.state,r,void 0,t||void 0)})},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=C(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this,n=this.clock.setTimeout(function(){"to"in e&&e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=n)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),eh(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==b.Running)return e$(e,t);if(el(e))return this.spawnPromise(Promise.resolve(e),t);if(eh(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(e)&&"id"in e)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&eh(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(em(e))return this.spawnMachine(e,w(w({},n),{id:t}));if(null!==e&&"object"==typeof e&&"transition"in e&&"function"==typeof e.transition)return this.spawnBehavior(e,t);throw Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,w(w({},this.options),{parent:this,id:n.id||t.id})),o=w(w({},e2),n);return o.sync&&i.onTransition(function(e){r.send(Z,{state:e,id:i.id})}),this.children.set(i.id,i),o.autoForward&&this.forwardTo.add(i.id),i.onDone(function(e){r.removeChild(i.id),r.send(eb(e,{origin:i.id}))}).start(),i},e.prototype.spawnBehavior=function(e,t){var n,r,i,o,a,s,u,c,l,f,d=(n={id:t,parent:this},r=e.initialState,i=new Set,o=[],a=!1,s=function(){if(!a){for(a=!0;o.length>0;){var t=o.shift();r=e.transition(r,t,f),i.forEach(function(e){return e.next(r)})}a=!1}},u={id:n.id,send:function(e){o.push(e),s()},getSnapshot:function(){return r},subscribe:function(e,t,n){var o=eT(e,t,n);return i.add(o),o.next(r),{unsubscribe:function(){i.delete(o)}}}},l=w(((c={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[ey]=function(){return this},c),u),f={parent:n.parent,self:l,id:n.id||"anonymous",observers:i},r=e.start?e.start(f):r,l);return this.children.set(t,d),d},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then(function(e){o||(r=e,i.removeChild(t),i.send(eb(eB(t,e),{origin:t})))},function(e){if(!o){i.removeChild(t);var n=eK(t,e);try{i.send(eb(n,{origin:t}))}catch(e){i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}});var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=eT(t,n,r),o=!1;return e.then(function(e){!o&&(i.next(e),o||i.complete())},function(e){o||i.error(e)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[ey]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,u=new Set;try{i=e(function(e){r=e,u.forEach(function(t){return t(e)}),a||o.send(eb(e,{origin:t}))},function(e){s.add(e)})}catch(e){this.send(eK(t,e))}if(el(i))return this.spawnPromise(i,t);var c=((n={id:t,send:function(e){return s.forEach(function(t){return t(e)})},subscribe:function(e){var t=eT(e);return u.add(t.next),{unsubscribe:function(){u.delete(t.next)}}},stop:function(){a=!0,eh(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[ey]=function(){return this},n);return this.children.set(t,c),c},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe(function(e){r=e,i.send(eb(e,{origin:t}))},function(e){i.removeChild(t),i.send(eb(eK(t,e),{origin:t}))},function(){i.removeChild(t),i.send(eb(eB(t),{origin:t}))}),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[ey]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[ey]=function(){return this},n))},e.prototype.attachDev=function(){var e=e5();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(w(w({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:w({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(e5()){var t=function(){var e=e5();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[ey]=function(){return this},e.prototype.getSnapshot=function(){return this.status===b.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=e4,e}();function e4(e,t){return new e3(e,t)}function e7(e){var t=T.useRef();return t.current||(t.current={v:e()}),t.current.v}(d=O||(O={}))[d.Effect=1]="Effect",d[d.LayoutEffect=2]="LayoutEffect";var e9=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},e6=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},e8=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},te=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function tt(e,t){(0,e.exec)(t.context,t._event.data,{action:e,state:t,_event:t._event})()}var tn=function(){return(tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},tr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},ti=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},to=n(25773),ta=n(30808);let ts={arr:Array.isArray,obj:e=>"[object Object]"===Object.prototype.toString.call(e),fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e,nul:e=>null===e,set:e=>e instanceof Set,map:e=>e instanceof Map,equ(e,t){let n;if(typeof e!=typeof t)return!1;if(ts.str(e)||ts.num(e))return e===t;if(ts.obj(e)&&ts.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!ts.und(n)||e===t}};function tu(e,t){return ts.und(e)||ts.nul(e)?t:e}function tc(e){return ts.und(e)?[]:ts.arr(e)?e:[e]}function tl(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ts.fun(e)?e(...n):e}function tf(e){let t=function(e){e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy;let t=(0,ta.Z)(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"]);return t}(e);if(ts.und(t))return(0,to.Z)({to:t},e);let n=Object.keys(e).reduce((n,r)=>ts.und(t[r])?(0,to.Z)({},n,{[r]:e[r]}):n,{});return(0,to.Z)({to:t},n)}class td{constructor(){this.payload=void 0,this.children=[]}getAnimatedValue(){return this.getValue()}getPayload(){return this.payload||this}attach(){}detach(){}getChildren(){return this.children}addChild(e){0===this.children.length&&this.attach(),this.children.push(e)}removeChild(e){let t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}class tp extends td{constructor(){super(...arguments),this.payload=[],this.attach=()=>this.payload.forEach(e=>e instanceof td&&e.addChild(this)),this.detach=()=>this.payload.forEach(e=>e instanceof td&&e.removeChild(this))}}class th extends td{constructor(){super(...arguments),this.payload={},this.attach=()=>Object.values(this.payload).forEach(e=>e instanceof td&&e.addChild(this)),this.detach=()=>Object.values(this.payload).forEach(e=>e instanceof td&&e.removeChild(this))}getValue(e){void 0===e&&(e=!1);let t={};for(let n in this.payload){let r=this.payload[n];(!e||r instanceof td)&&(t[n]=r instanceof td?r[e?"getAnimatedValue":"getValue"]():r)}return t}getAnimatedValue(){return this.getValue(!0)}}let tv=e=>"undefined"!=typeof window?window.requestAnimationFrame(e):-1,tg=()=>Date.now(),ty=e=>e.current;class tm extends th{constructor(e,t){super(),this.update=void 0,this.payload=e.style?(0,to.Z)({},e,{style:a(e.style)}):e,this.update=t,this.attach()}}let tE=e=>ts.fun(e)&&!(e.prototype instanceof T.Component),tb=e=>{let t=(0,T.forwardRef)((t,n)=>{let i=function(){let e=(0,T.useState)(!1),t=e[1],n=(0,T.useCallback)(()=>t(e=>!e),[]);return n}(),o=(0,T.useRef)(!0),a=(0,T.useRef)(null),s=(0,T.useRef)(null),u=(0,T.useCallback)(e=>{let t=a.current,n=()=>{let e=!1;s.current&&(e=r.fn(s.current,a.current.getAnimatedValue())),s.current&&!1!==e||i()};a.current=new tm(e,n),t&&t.detach()},[]);(0,T.useEffect)(()=>()=>{o.current=!1,a.current&&a.current.detach()},[]),(0,T.useImperativeHandle)(n,()=>ty(s,o,i)),u(t);let c=a.current.getValue(),l=(c.scrollTop,c.scrollLeft,(0,ta.Z)(c,["scrollTop","scrollLeft"])),f=tE(e)?void 0:e=>{var t;return s.current=((t=n)&&(ts.fun(t)?t(e):ts.obj(t)&&(t.current=e)),e)};return T.createElement(e,(0,to.Z)({},l,{ref:f}))});return t},tO=!1,t_=new Set,tI=()=>{if(!tO)return!1;let e=tg();for(let t of t_){let n=!1;for(let r=0;r<t.configs.length;r++){let i,o,a=t.configs[r];for(let t=0;t<a.animatedValues.length;t++){let r=a.animatedValues[t];if(r.done)continue;let s=a.fromValues[t],u=a.toValues[t],c=r.lastPosition,l=u instanceof td,f=Array.isArray(a.initialVelocity)?a.initialVelocity[t]:a.initialVelocity;if(l&&(u=u.getValue()),a.immediate||"string"==typeof s||"string"==typeof u){r.setValue(u),r.done=!0;continue}if(void 0!==a.duration)c=s+a.easing((e-r.startTime)/a.duration)*(u-s),i=e>=r.startTime+a.duration;else if(a.decay)c=s+f/(1-.998)*(1-Math.exp(-(1-.998)*(e-r.startTime))),(i=.1>Math.abs(r.lastPosition-c))&&(u=c);else{o=void 0!==r.lastTime?r.lastTime:e,f=void 0!==r.lastVelocity?r.lastVelocity:a.initialVelocity,e>o+64&&(o=e);let t=Math.floor(e-o);for(let e=0;e<t;++e){let e=(-a.tension*(c-u)+-a.friction*f)/a.mass;f+=1*e/1e3,c+=1*f/1e3}let n=!!a.clamp&&0!==a.tension&&(s<u?c>u:c<u),l=Math.abs(f)<=a.precision,d=0===a.tension||Math.abs(u-c)<=a.precision;i=n||l&&d,r.lastVelocity=f,r.lastTime=e}l&&!a.toValues[t].done&&(i=!1),i?(r.value!==u&&(c=u),r.done=!0):n=!0,r.setValue(c),r.lastPosition=c}t.props.onFrame&&(t.values[a.name]=a.interpolation.getValue())}t.props.onFrame&&t.props.onFrame(t.values),n||(t_.delete(t),t.stop(!0))}return t_.size?s?s():tv(tI):tO=!1,tO},tT=e=>{t_.has(e)||t_.add(e),tO||(tO=!0,s?tv(s):tv(tI))},tR=e=>{t_.has(e)&&t_.delete(e)};function tN(e,t,n){if("function"==typeof e)return e;if(Array.isArray(e))return tN({range:e,output:t,extrapolate:n});if(o&&"string"==typeof e.output[0])return o(e);let r=e.output,i=e.range||[0,1],a=e.extrapolateLeft||e.extrapolate||"extend",s=e.extrapolateRight||e.extrapolate||"extend",u=e.easing||(e=>e);return t=>{let n=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(t,i);return function(e,t,n,r,i,o,a,s,u){let c=u?u(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t),c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r,c)}(t,i[n],i[n+1],r[n],r[n+1],u,a,s,e.map)}}class tS extends tp{constructor(e,t,n,r){super(),this.calc=void 0,this.payload=e instanceof tp&&!(e instanceof tS)?e.getPayload():Array.isArray(e)?e:[e],this.calc=tN(t,n,r)}getValue(){return this.calc(...this.payload.map(e=>e.getValue()))}updateConfig(e,t,n){this.calc=tN(e,t,n)}interpolate(e,t,n){return new tS(this,e,t,n)}}let tA=(e,t,n)=>e&&new tS(e,t,n);class tx extends td{constructor(e){var t;super(),t=this,this.animatedStyles=new Set,this.value=void 0,this.startPosition=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.startTime=void 0,this.lastTime=void 0,this.done=!1,this.setValue=function(e,n){void 0===n&&(n=!0),t.value=e,n&&t.flush()},this.value=e,this.startPosition=e,this.lastPosition=e}flush(){0===this.animatedStyles.size&&function e(t,n){"update"in t?n.add(t):t.getChildren().forEach(t=>e(t,n))}(this,this.animatedStyles),this.animatedStyles.forEach(e=>e.update())}clearStyles(){this.animatedStyles.clear()}getValue(){return this.value}interpolate(e,t,n){return new tS(this,e,t,n)}}class tw extends tp{constructor(e){super(),this.payload=e.map(e=>new tx(e))}setValue(e,t){void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach((e,n)=>this.payload[n].setValue(e,t)):this.payload.forEach(n=>n.setValue(e,t))}getValue(){return this.payload.map(e=>e.getValue())}interpolate(e,t){return new tS(this,e,t)}}let tL=0;class tC{constructor(){this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=()=>this.interpolations,this.id=tL++}update(e){if(!e)return this;let t=tf(e),n=t.delay,r=void 0===n?0:n,i=t.to,o=(0,ta.Z)(t,["delay","to"]);if(ts.arr(i)||ts.fun(i))this.queue.push((0,to.Z)({},o,{delay:r,to:i}));else if(i){let e={};Object.entries(i).forEach(t=>{let n=t[0],i=t[1],a=(0,to.Z)({to:{[n]:i},delay:tl(r,n)},o),s=e[a.delay]&&e[a.delay].to;e[a.delay]=(0,to.Z)({},e[a.delay],a,{to:(0,to.Z)({},s,a.to)})}),this.queue=Object.values(e)}return this.queue=this.queue.sort((e,t)=>e.delay-t.delay),this.diff(o),this}start(e){if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(e=>{let t=e.from,n=void 0===t?{}:t,r=e.to,i=void 0===r?{}:r;ts.obj(n)&&(this.merged=(0,to.Z)({},n,this.merged)),ts.obj(i)&&(this.merged=(0,to.Z)({},this.merged,i))});let t=this.local=++this.guid,n=this.localQueue=this.queue;this.queue=[],n.forEach((r,i)=>{let o=r.delay,a=(0,ta.Z)(r,["delay"]),s=r=>{i===n.length-1&&t===this.guid&&r&&(this.idle=!0,this.props.onRest&&this.props.onRest(this.merged)),e&&e()},u=ts.arr(a.to)||ts.fun(a.to);o?setTimeout(()=>{t===this.guid&&(u?this.runAsync(a,s):this.diff(a).start(s))},o):u?this.runAsync(a,s):this.diff(a).start(s)})}else ts.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),tT(this);return this}stop(e){return this.listeners.forEach(t=>t(e)),this.listeners=[],this}pause(e){return this.stop(!0),e&&tR(this),this}runAsync(e,t){var n=this;e.delay;let r=(0,ta.Z)(e,["delay"]),i=this.local,o=Promise.resolve(void 0);if(ts.arr(r.to))for(let e=0;e<r.to.length;e++){let t=e,n=(0,to.Z)({},r,tf(r.to[t]));ts.arr(n.config)&&(n.config=n.config[t]),o=o.then(()=>{if(i===this.guid)return new Promise(e=>this.diff(n).start(e))})}else if(ts.fun(r.to)){let e,t=0;o=o.then(()=>r.to(n=>{let o=(0,to.Z)({},r,tf(n));if(ts.arr(o.config)&&(o.config=o.config[t]),t++,i===this.guid)return e=new Promise(e=>this.diff(o).start(e))},function(e){return void 0===e&&(e=!0),n.stop(e)}).then(()=>e))}o.then(t)}diff(e){this.props=(0,to.Z)({},this.props,e);let t=this.props,n=t.from,r=void 0===n?{}:n,a=t.to,s=void 0===a?{}:a,u=t.config,c=void 0===u?{}:u,l=t.reverse,f=t.attach,d=t.reset,p=t.immediate;if(l){var h=[s,r];r=h[0],s=h[1]}this.merged=(0,to.Z)({},r,this.merged,s),this.hasChanged=!1;let v=f&&f(this);if(this.animations=Object.entries(this.merged).reduce((e,t)=>{let n=t[0],a=t[1],s=e[n]||{},u=ts.num(a),l=ts.str(a)&&!a.startsWith("#")&&!/\d/.test(a)&&!i[a],f=ts.arr(a),h=!u&&!f&&!l,g=ts.und(r[n])?a:r[n],y=u||f?a:l?a:1,m=tl(c,n);v&&(y=v.animations[n].parent);let E=s.parent,b=s.interpolation,O=tc(v?y.getPayload():y),_,I=a;h&&(I=o({range:[0,1],output:[a,a]})(1));let T=b&&b.getValue(),R=ts.und(E),N=!R&&s.animatedValues.some(e=>!e.done),S=!ts.equ(I,T),A=!ts.equ(I,s.previous),x=!ts.equ(m,s.config);if(d||A&&S||x){if(u||l)E=b=s.parent||new tx(g);else if(f)E=b=s.parent||new tw(g);else if(h){let e=s.interpolation&&s.interpolation.calc(s.parent.value);e=void 0===e||d?g:e,s.parent?(E=s.parent).setValue(0,!1):E=new tx(0);let t={output:[e,a]};s.interpolation?(b=s.interpolation,s.interpolation.updateConfig(t)):b=E.interpolate(t)}return O=tc(v?y.getPayload():y),_=tc(E.getPayload()),d&&!h&&E.setValue(g,!1),this.hasChanged=!0,_.forEach(e=>{e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=N?e.lastVelocity:void 0,e.lastTime=N?e.lastTime:void 0,e.startTime=tg(),e.done=!1,e.animatedStyles.clear()}),tl(p,n)&&E.setValue(h?y:a,!1),(0,to.Z)({},e,{[n]:(0,to.Z)({},s,{name:n,parent:E,interpolation:b,animatedValues:_,toValues:O,previous:I,config:m,fromValues:tc(E.getValue()),immediate:tl(p,n),initialVelocity:tu(m.velocity,0),clamp:tu(m.clamp,!1),precision:tu(m.precision,.01),tension:tu(m.tension,170),friction:tu(m.friction,26),mass:tu(m.mass,1),duration:m.duration,easing:tu(m.easing,e=>e),decay:m.decay})})}return S?e:(h&&(E.setValue(1,!1),b.updateConfig({output:[I,I]})),E.done=!0,this.hasChanged=!0,(0,to.Z)({},e,{[n]:(0,to.Z)({},e[n],{previous:I})}))},this.animations),this.hasChanged)for(let e in this.configs=Object.values(this.animations),this.values={},this.interpolations={},this.animations)this.interpolations[e]=this.animations[e].interpolation,this.values[e]=this.animations[e].interpolation.getValue();return this}destroy(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}let tP=(e,t)=>{let n=(0,T.useRef)(!1),r=(0,T.useRef)(),i=ts.fun(t),o=(0,T.useMemo)(()=>{let n;return r.current&&(r.current.map(e=>e.destroy()),r.current=void 0),[Array(e).fill().map((e,r)=>{let o=new tC,a=i?tl(t,r,o):t[r];return 0===r&&(n=a.ref),o.update(a),n||o.start(),o}),n]},[e]),a=o[0],s=o[1];r.current=a,(0,T.useImperativeHandle)(s,()=>({start:()=>Promise.all(r.current.map(e=>new Promise(t=>e.start(t)))),stop:e=>r.current.forEach(t=>t.stop(e)),get controllers(){return r.current}}));let u=(0,T.useMemo)(()=>e=>r.current.map((t,n)=>{t.update(i?tl(e,n,t):e[n]),s||t.start()}),[e]);(0,T.useEffect)(()=>{n.current?i||u(t):s||r.current.forEach(e=>e.start())}),(0,T.useEffect)(()=>(n.current=!0,()=>r.current.forEach(e=>e.destroy())),[]);let c=r.current.map(e=>e.getValues());return i?[c,u,e=>r.current.forEach(t=>t.pause(e))]:c},tD=e=>{let t=ts.fun(e),n=tP(1,t?e:[e]),r=n[0],i=n[1],o=n[2];return t?[r[0],i,o]:r};class tk extends th{constructor(e){void 0===e&&(e={}),super(),!e.transform||e.transform instanceof td||(e=r.transform(e)),this.payload=e}}let tU={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},tV="[-+]?\\d*\\.?\\d+",tM=tV+"%";function tF(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}let tj=RegExp("rgb"+tF(tV,tV,tV)),tB=RegExp("rgba"+tF(tV,tV,tV,tV)),tK=RegExp("hsl"+tF(tV,tM,tM)),tG=RegExp("hsla"+tF(tV,tM,tM,tV)),tz=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,tH=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,tq=/^#([0-9a-fA-F]{6})$/,tY=/^#([0-9a-fA-F]{8})$/;function tW(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tZ(e,t,n){let r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=tW(i,r,e+1/3),a=tW(i,r,e),s=tW(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function tJ(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function tX(e){let t=parseFloat(e);return(t%360+360)%360/360}function t$(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function tQ(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function t0(e){let t;let n="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=tq.exec(e))?parseInt(t[1]+"ff",16)>>>0:tU.hasOwnProperty(e)?tU[e]:(t=tj.exec(e))?(tJ(t[1])<<24|tJ(t[2])<<16|tJ(t[3])<<8|255)>>>0:(t=tB.exec(e))?(tJ(t[1])<<24|tJ(t[2])<<16|tJ(t[3])<<8|t$(t[4]))>>>0:(t=tz.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=tY.exec(e))?parseInt(t[1],16)>>>0:(t=tH.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=tK.exec(e))?(255|tZ(tX(t[1]),tQ(t[2]),tQ(t[3])))>>>0:(t=tG.exec(e))?(tZ(tX(t[1]),tQ(t[2]),tQ(t[3]))|t$(t[4]))>>>0:null;return null===n?e:`rgba(${(4278190080&(n=n||0))>>>24}, ${(16711680&n)>>>16}, ${(65280&n)>>>8}, ${(255&n)/255})`}let t1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,t5=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,t2=RegExp(`(${Object.keys(tU).join("|")})`,"g"),t3=e=>{let t=e.output.map(e=>e.replace(t5,t0)).map(e=>e.replace(t2,t0)),n=t[0].match(t1).map(()=>[]);t.forEach(e=>{e.match(t1).forEach((e,t)=>n[t].push(+e))});let r=t[0].match(t1).map((t,r)=>tN((0,to.Z)({},e,{output:n[r]})));return e=>{let n=0;return t[0].replace(t1,()=>r[n++](e)).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`)}},t4={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t7=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),t9=["Webkit","Ms","Moz","O"];t4=Object.keys(t4).reduce((e,t)=>(t9.forEach(n=>e[t7(n,t)]=e[t]),e),t4);let t6={};a=e=>new tk(e),o=t3,i=tU,r={fn:(e,t)=>{if(!e.nodeType||void 0===e.setAttribute)return!1;{let a=t.style,s=t.children,u=t.scrollTop,c=t.scrollLeft,l=(0,ta.Z)(t,["style","children","scrollTop","scrollLeft"]),f="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;for(let t in void 0!==u&&(e.scrollTop=u),void 0!==c&&(e.scrollLeft=c),void 0!==s&&(e.textContent=s),a)if(a.hasOwnProperty(t)){var n,r,i=0===t.indexOf("--"),o=(n=t,null==(r=a[t])||"boolean"==typeof r||""===r?"":i||"number"!=typeof r||0===r||t4.hasOwnProperty(n)&&t4[n]?(""+r).trim():r+"px");"float"===t&&(t="cssFloat"),i?e.style.setProperty(t,o):e.style[t]=o}for(let t in l){let n=f?t:t6[t]||(t6[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase()));void 0!==e.getAttribute(n)&&e.setAttribute(n,l[t])}return}},transform:e=>e};let t8=(u=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],(ts.arr(u)?u:Object.keys(u)).reduce((e,t)=>(e[t]=tb(t),e),tb));function ne(e,t){return e.map(function(e,n){return e+t[n]})}function nt(e,t){return e.map(function(e,n){return e-t[n]})}function nn(e){return Math.hypot.apply(Math,e)}function nr(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function ni(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function no(e,t,n,r){return(void 0===r&&(r=.15),0===r)?Math.max(t,Math.min(e,n)):e<t?-ni(t-e,n-t,r)+t:e>n?+ni(e-n,n-t,r)+n:e}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(){return(ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function nu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function nc(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nf(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nl(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function nd(){}function np(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?nd:1===t.length?t[0]:function(){for(var e,n,r=nf(t);!(n=r()).done;)e=n.value.apply(this,arguments)||e;return e}}function nh(e,t){if(void 0===e){if(void 0===t)throw Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function nv(e){if("function"!=typeof e)return e;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}function ng(e,t){void 0===e&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=ng(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}var ny=ns({},{threshold:function(e){return void 0===e&&(e=0),nh(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return nh(.15);case!1:return nh(0);default:return nh(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return(void 0===e&&(e=0),"function"==typeof e)?e:nh(e)}},{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(t){return ny.bounds(e(t))};var t=e,n=t.left,r=t.right,i=t.top,o=t.bottom;return[[void 0===n?-1/0:n,void 0===r?1/0:r],[void 0===i?-1/0:i,void 0===o?1/0:o]]}}),nm="undefined"!=typeof window&&window.document&&window.document.createElement,nE={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return void 0===e&&(e=nm?window:void 0),e}),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=t.capture;return{passive:void 0===n||n,capture:void 0!==r&&r}}},nb=ns({},ny,{threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.lockDirection,a=n.axis,s=nh(e,i?3:void 0!==o&&o?1:(void 0===a?void 0:a)?1:0);return this.filterTaps=i||s[0]+s[1]>0,s},swipeVelocity:function(e){return void 0===e&&(e=.5),nh(e)},swipeDistance:function(e){return void 0===e&&(e=60),nh(e)},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function nO(e){var t,n=e.domTarget,r=e.eventOptions,i=e.window,o=e.enabled,a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(e,["domTarget","eventOptions","window","enabled"]),s=ng({domTarget:n,eventOptions:r,window:i,enabled:o},nE);return s.drag=(void 0===(t=a)&&(t={}),ng(t,nb)),s}function n_(e){return ns({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:nd,canceled:!1,memo:void 0,args:void 0},e)}function nI(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:n_({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),pinch:n_({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:n_({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:n_({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:n_({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var nT=new Map,nR=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(o))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var i=ns({},n.controller.state.shared,n.state,n.mapStateValues(n.state)),o=n.handler(i);return n.state.memo=void 0!==o?o:n.state.memo,n.state._active||n.clean(),i}}var t,n=e.prototype;return n.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},n.updateGestureState=function(e){Object.assign(this.state,e)},n.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},n.getMovement=function(e){var t,n,r,i,o=this.config,a=o.initial,s=o.bounds,u=o.rubberband,c=o.threshold,l=this.state,f=l._bounds,d=l._initial,p=l._active,h=l._intentional,v=l.lastOffset,g=l.movement,y=this.getInternalMovement(e,this.state),m=!1===h[0]?nN(y[0],c[0]):h[0],E=!1===h[1]?nN(y[1],c[1]):h[1],b=this.checkIntentionality([m,E],y);if(b._blocked)return ns({},b,{_movement:y,delta:[0,0]});var O=b._intentional;!1!==O[0]&&!1===h[0]&&(n=nv(a,this.state),t=nv(s,this.state),d[0]=n[0],f[0]=t[0]),!1!==O[1]&&!1===h[1]&&(n=null!=(r=n)?r:nv(a,this.state),t=null!=(i=t)?i:nv(s,this.state),d[1]=n[1],f[1]=t[1]);var _=[!1!==O[0]?y[0]-O[0]:d[0],!1!==O[1]?y[1]-O[1]:d[1]],I=ne(_,v),T=p?u:[0,0];return _=nS(f,ne(_,d),T),ns({},b,{intentional:!1!==O[0]||!1!==O[1],_initial:d,_movement:y,movement:_,values:e,offset:nS(f,I,T),delta:nt(_,g)})},n.clean=function(){this.clearTimeout()},na(e.prototype,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}]),t&&na(e,t),e}();function nN(e,t){return Math.abs(e)>=t&&nr(e)*t}function nS(e,t,n){var r=t[0],i=t[1],o=n[0],a=n[1],s=e[0],u=s[0],c=s[1],l=e[1],f=l[0],d=l[1];return[no(r,u,c,o),no(i,f,d,a)]}function nA(e,t,n){var r=e.state,i=e.args,o=t.timeStamp,a=t.type,s=r.values,u=n?0:o-r.startTime;return{_lastEventType:a,event:t,timeStamp:o,elapsedTime:u,args:i,previous:s}}var nx=function(e){var t=this;this.classes=e,this.bind=function(){for(var e={},n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var o,a=nf(t.classes);!(o=a()).done;)new o.value(t,r).addBindings(e);for(var s=0,u=Object.entries(t.nativeRefs);s<u.length;s++){var c=u[s];nC(e,c[0],function(e,t){return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.call.apply(e,[this,ns({},t,{event:n})].concat(i))}}(c[1],ns({},t.state.shared,{args:r})))}return t.config.domTarget?function(e,t){var n=e.config,r=e.domListeners,i=nL(n);if(!i)throw Error("domTarget must be defined");var o=n.eventOptions;nD(i,nw(r),o);for(var a=0,s=Object.entries(t);a<s.length;a++){var u=s[a],c=u[0],l=u[1],f=c.slice(2).toLowerCase();r.push([f,np.apply(void 0,l)])}nP(i,r,o)}(t,e):function(e,t){for(var n=e.config,r={},i=n.eventOptions.capture?"Capture":"",o=0,a=Object.entries(t);o<a.length;o++){var s=a[o],u=s[0],c=s[1],l=Array.isArray(c)?c:[c];r[u+i]=np.apply(void 0,l)}return r}(t,e)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=nL(t.config),n=t.config.eventOptions;e&&nD(e,nw(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(n){for(var o in i)nD(n,i[o],r);e.windowListeners={}}}(t)},this.state=nI(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function nw(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function nL(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function nC(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function nP(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=nf(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.addEventListener(a,s,n)}}function nD(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=nf(t);!(r=i()).done;){var o=r.value,a=o[0],s=o[1];e.removeEventListener(a,s,n)}}function nk(){}function nU(e){if("touches"in e){var t=e.targetTouches,n=e.changedTouches;return t.length>0?t:n}return null}function nV(e){var t="buttons"in e?e.buttons:0,n=nU(e),r=n&&n.length||0;return{touches:r,down:r>0||t>0,buttons:t,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}function nM(e){var t=nU(e),n=t?t[0]:e;return[n.clientX,n.clientY]}var nF=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.ingKey="dragging",t.stateKey="drag",t.onDragStart=function(e){if(t.enabled&&!t.state._active){var n,r,i,o,a;n=t.controller,r=t.stateKey,i=[["pointermove",t.onDragChange],["pointerup",t.onDragEnd],["pointercancel",t.onDragEnd]],o=n.config,a=n.windowListeners,void 0===i&&(i=[]),o.window&&(nD(o.window,a[r],o.eventOptions),nP(o.window,a[r]=i,o.eventOptions)),t.updateGestureState({_pointerId:e.pointerId}),t.config.delay>0?(t.state._delayedEvent=!0,"persist"in e&&"function"==typeof e.persist&&e.persist(),t.setTimeout(t.startDrag.bind(nc(t)),t.config.delay,e)):t.startDrag(e)}},t.onDragChange=function(e){if(!t.state.canceled&&e.pointerId===t.state._pointerId){if(!t.state._active){t.state._delayedEvent&&(t.clearTimeout(),t.startDrag(e));return}var n=nV(e);if(!n.down){t.onDragEnd(e);return}t.updateSharedState(n);var r=nM(e),i=t.getKinematics(r,e),o=nA(nc(t),e),a=t.state._isTap,s=nn(i._movement);a&&s>=3&&(a=!1),t.updateGestureState(ns({},o,i,{_isTap:a})),t.fireGestureHandler()}},t.onDragEnd=function(e){if(e.pointerId===t.state._pointerId){t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0});var n=t.state._isTap,r=t.state.velocities,i=r[0],o=r[1],a=t.state.movement,s=a[0],u=a[1],c=t.state._intentional,l=c[0],f=c[1],d=t.config.swipeVelocity,p=d[0],h=d[1],v=t.config.swipeDistance,g=v[0],y=v[1],m=ns({},nA(nc(t),e),t.getMovement(t.state.values)),E=[0,0];m.elapsedTime<220&&(!1!==l&&Math.abs(i)>p&&Math.abs(s)>g&&(E[0]=nr(i)),!1!==f&&Math.abs(o)>h&&Math.abs(u)>y&&(E[1]=nr(o))),t.updateGestureState(ns({},m,{tap:n,swipe:E})),t.fireGestureHandler(!0===n)}},t.clean=function(){var n,r,i,o;e.prototype.clean.call(nc(t)),t.state._delayedEvent=!1,n=t.controller,r=t.stateKey,i=n.config,o=n.windowListeners,i.window&&(nD(i.window,o[r],i.eventOptions),delete o[r])},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0}),t.state._active=!1,t.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return t.fireGestureHandler()}))},t.onClick=function(e){t.state._isTap||e.stopPropagation()},t}nu(t,e);var n=t.prototype;return n.startDrag=function(e){var t,n,r=nM(e);this.updateSharedState(nV(e)),this.updateGestureState(ns({},(t=this.state.offset,n=e.timeStamp,ns({},nI()[this.stateKey],{_active:!0,values:r,initial:r,offset:t,lastOffset:t,startTime:n})),nA(this,e,!0),{_pointerId:e.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(r)),this.fireGestureHandler()},n.addBindings=function(e){nC(e,"onPointerDown",this.onDragStart),this.config.filterTaps&&nC(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(function(e){function t(){return e.apply(this,arguments)||this}nu(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return nt(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],i=n[1],o=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?o?this.config.axis&&o!==this.config.axis?{_intentional:e,_blocked:!0,axis:o}:(e["x"===o?1:0]=!1,{_intentional:e,_blocked:!1,axis:o}):{_intentional:[!1,!1],_blocked:!1,axis:o}:{_intentional:e,_blocked:!1,axis:o}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r,i,o,a,s,u,c,l=t.timeStamp-this.state.timeStamp;Object.assign(n,(r=n.movement,a=0===(o=nn(i=n.delta))?0:1/o,s=0===l?0:1/l,u=i.map(function(e){return s*e}),c=i.map(function(e){return a*e}),{velocities:u,velocity:s*o,distance:nn(r),direction:c}))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(nR)),nj=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],nB=nj.join(","),nK="undefined"==typeof Element,nG=nK?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,nz=!nK&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},nH=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(nB));return t&&nG.call(e,nB)&&r.unshift(e),r=r.filter(n)},nq=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if("SLOT"===a.tagName){var s=a.assignedElements(),u=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,u):i.push({scope:a,candidates:u})}else{nG.call(a,nB)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var c=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),l=!r.shadowRootFilter||r.shadowRootFilter(a);if(c&&l){var f=e(!0===c?a.children:c.children,!0,r);r.flatten?i.push.apply(i,f):i.push({scope:a,candidates:f})}else o.unshift.apply(o,a.children)}}return i},nY=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},nW=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},nZ=function(e){return"INPUT"===e.tagName},nJ=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},nX=function(e){if(!e.name)return!0;var t,n=e.form||nz(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=nJ(t,e.form);return!i||i===e},n$=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},nQ=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=nG.call(e,"details>summary:first-of-type")?e.parentElement:e;if(nG.call(i,"details:not([open]) *"))return!0;var o=nz(e).host,a=(null==o?void 0:o.ownerDocument.contains(o))||e.ownerDocument.contains(e);if(n&&"full"!==n){if("non-zero-area"===n)return n$(e)}else{if("function"==typeof r){for(var s=e;e;){var u=e.parentElement,c=nz(e);if(u&&!u.shadowRoot&&!0===r(u))return n$(e);e=e.assignedSlot?e.assignedSlot:u||c===e.ownerDocument?u:c.host}e=s}if(a)return!e.getClientRects().length}return!1},n0=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!nG.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1},n1=function(e,t){return!(t.disabled||nZ(t)&&"hidden"===t.type||nQ(t,e)||"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some(function(e){return"SUMMARY"===e.tagName})||n0(t))},n5=function(e,t){var n;return!(nZ(n=t)&&"radio"===n.type&&!nX(n)||0>nY(t))&&!!n1(e,t)},n2=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||t>=0},n3=function e(t){var n=[],r=[];return t.forEach(function(t,i){var o=!!t.scope,a=o?t.scope:t,s=nY(a,o),u=o?e(t.candidates):a;0===s?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:u})}),r.sort(nW).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(n)},n4=function(e,t){if(t=t||{},!e)throw Error("No node provided");return!1!==nG.call(e,nB)&&n5(t,e)},n7=nj.concat("iframe").join(","),n9=function(e,t){if(t=t||{},!e)throw Error("No node provided");return!1!==nG.call(e,n7)&&n1(t,e)};/*!
* focus-trap 6.9.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function n6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n6(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var re=(p=[],{activateTrap:function(e){if(p.length>0){var t=p[p.length-1];t!==e&&t.pause()}var n=p.indexOf(e);-1===n||p.splice(n,1),p.push(e)},deactivateTrap:function(e){var t=p.indexOf(e);-1!==t&&p.splice(t,1),p.length>0&&p[p.length-1].unpause()}}),rt=function(e){return setTimeout(e,0)},rn=function(e,t){var n=-1;return e.every(function(e,r){return!t(e)||(n=r,!1)}),n},rr=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},ri=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},ro=function(e,t){var n,r=(null==t?void 0:t.document)||document,i=n8({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},a=function(e,t,n){return e&&void 0!==e[t]?e[t]:i[n||t]},s=function(e){return o.containerGroups.findIndex(function(t){var n=t.container,r=t.tabbableNodes;return n.contains(e)||r.find(function(t){return t===e})})},u=function(e){var t=i[e];if("function"==typeof t){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=r.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return s},c=function(){var e=u("initialFocus");if(!1===e)return!1;if(void 0===e){if(s(r.activeElement)>=0)e=r.activeElement;else{var t=o.tabbableGroups[0];e=t&&t.firstTabbableNode||u("fallbackFocus")}}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},l=function(){if(o.containerGroups=o.containers.map(function(e){var t,n,r,o,a=(t=e,n3((n=(n=i.tabbableOptions)||{}).getShadowRoot?nq([t],n.includeContainer,{filter:n5.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:n2}):nH(t,n.includeContainer,n5.bind(null,n)))),s=(r=e,(o=(o=i.tabbableOptions)||{}).getShadowRoot?nq([r],o.includeContainer,{filter:n1.bind(null,o),flatten:!0,getShadowRoot:o.getShadowRoot}):nH(r,o.includeContainer,n1.bind(null,o)));return{container:e,tabbableNodes:a,focusableNodes:s,firstTabbableNode:a.length>0?a[0]:null,lastTabbableNode:a.length>0?a[a.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=s.findIndex(function(t){return t===e});return n<0?void 0:t?s.slice(n+1).find(function(e){return n4(e,i.tabbableOptions)}):s.slice(0,n).reverse().find(function(e){return n4(e,i.tabbableOptions)})}}}),o.tabbableGroups=o.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!u("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},f=function e(t){if(!1!==t&&t!==r.activeElement){if(!t||!t.focus){e(c());return}t.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},d=function(e){var t=u("setReturnFocus",e);return t||!1!==t&&e},p=function(e){var t=ri(e);if(!(s(t)>=0)){if(rr(i.clickOutsideDeactivates,e)){n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!n9(t,i.tabbableOptions)});return}rr(i.allowOutsideClick,e)||e.preventDefault()}},h=function(e){var t=ri(e),n=s(t)>=0;n||t instanceof Document?n&&(o.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),f(o.mostRecentlyFocusedNode||c()))},v=function(e){var t=ri(e);l();var n=null;if(o.tabbableGroups.length>0){var r=s(t),a=r>=0?o.containerGroups[r]:void 0;if(r<0)n=e.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var c=rn(o.tabbableGroups,function(e){return t===e.firstTabbableNode});if(c<0&&(a.container===t||n9(t,i.tabbableOptions)&&!n4(t,i.tabbableOptions)&&!a.nextTabbableNode(t,!1))&&(c=r),c>=0){var d=0===c?o.tabbableGroups.length-1:c-1;n=o.tabbableGroups[d].lastTabbableNode}}else{var p=rn(o.tabbableGroups,function(e){return t===e.lastTabbableNode});if(p<0&&(a.container===t||n9(t,i.tabbableOptions)&&!n4(t,i.tabbableOptions)&&!a.nextTabbableNode(t))&&(p=r),p>=0){var h=p===o.tabbableGroups.length-1?0:p+1;n=o.tabbableGroups[h].firstTabbableNode}}}else n=u("fallbackFocus");n&&(e.preventDefault(),f(n))},g=function(e){if(("Escape"===e.key||"Esc"===e.key||27===e.keyCode)&&!1!==rr(i.escapeDeactivates,e)){e.preventDefault(),n.deactivate();return}if("Tab"===e.key||9===e.keyCode){v(e);return}},y=function(e){s(ri(e))>=0||rr(i.clickOutsideDeactivates,e)||rr(i.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},m=function(){if(o.active)return re.activateTrap(n),o.delayInitialFocusTimer=i.delayInitialFocus?rt(function(){f(c())}):f(c()),r.addEventListener("focusin",h,!0),r.addEventListener("mousedown",p,{capture:!0,passive:!1}),r.addEventListener("touchstart",p,{capture:!0,passive:!1}),r.addEventListener("click",y,{capture:!0,passive:!1}),r.addEventListener("keydown",g,{capture:!0,passive:!1}),n},E=function(){if(o.active)return r.removeEventListener("focusin",h,!0),r.removeEventListener("mousedown",p,!0),r.removeEventListener("touchstart",p,!0),r.removeEventListener("click",y,!0),r.removeEventListener("keydown",g,!0),n};return(n={get active(){return o.active},get paused(){return o.paused},activate:function(e){if(o.active)return this;var t=a(e,"onActivate"),n=a(e,"onPostActivate"),i=a(e,"checkCanFocusTrap");i||l(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,t&&t();var s=function(){i&&l(),m(),n&&n()};return i?(i(o.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(e){if(!o.active)return this;var t=n8({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},e);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,E(),o.active=!1,o.paused=!1,re.deactivateTrap(n);var r=a(t,"onDeactivate"),s=a(t,"onPostDeactivate"),u=a(t,"checkCanReturnFocus"),c=a(t,"returnFocus","returnFocusOnDeactivate");r&&r();var l=function(){rt(function(){c&&f(d(o.nodeFocusedBeforeActivation)),s&&s()})};return c&&u?(u(d(o.nodeFocusedBeforeActivation)).then(l,l),this):(l(),this)},pause:function(){return o.paused||!o.active||(o.paused=!0,E()),this},unpause:function(){return o.paused&&o.active&&(o.paused=!1,l(),m()),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return o.containers=t.map(function(e){return"string"==typeof e?r.querySelector(e):e}),o.active&&l(),this}}).updateContainerElements(e),n},ra=!1;if("undefined"!=typeof window){var rs={get passive(){ra=!0;return}};window.addEventListener("testPassive",null,rs),window.removeEventListener("testPassive",null,rs)}var ru="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),rc=[],rl=!1,rf=-1,rd=void 0,rp=void 0,rh=function(e){return rc.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},rv=function(e){var t=e||window.event;return!!rh(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},rg=function(e){if(void 0===rp){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(rp=document.body.style.paddingRight,document.body.style.paddingRight=n+"px")}void 0===rd&&(rd=document.body.style.overflow,document.body.style.overflow="hidden")},ry=function(){void 0!==rp&&(document.body.style.paddingRight=rp,rp=void 0),void 0!==rd&&(document.body.style.overflow=rd,rd=void 0)},rm=function(e,t){var n=e.targetTouches[0].clientY-rf;return!rh(e.target)&&(t&&0===t.scrollTop&&n>0?rv(e):t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?rv(e):(e.stopPropagation(),!0))},rE=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}!rc.some(function(t){return t.targetElement===e})&&(rc=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(rc),[{targetElement:e,options:t||{}}]),ru?(e.ontouchstart=function(e){1===e.targetTouches.length&&(rf=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&rm(t,e)},rl||(document.addEventListener("touchmove",rv,ra?{passive:!1}:void 0),rl=!0)):rg(t))},rb=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}rc=rc.filter(function(t){return t.targetElement!==e}),ru?(e.ontouchstart=null,e.ontouchmove=null,rl&&0===rc.length&&(document.removeEventListener("touchmove",rv,ra?{passive:!1}:void 0),rl=!1)):rc.length||ry()},rO=[],r_="ResizeObserver loop completed with undelivered notifications.",rI=function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:r_}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=r_),window.dispatchEvent(e)};(h=_||(_={})).BORDER_BOX="border-box",h.CONTENT_BOX="content-box",h.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var rT=function(e){return Object.freeze(e)},rR=function(e,t){this.inlineSize=e,this.blockSize=t,rT(this)},rN=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,rT(this)}return e.prototype.toJSON=function(){return{x:this.x,y:this.y,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),rS=function(e){return e instanceof SVGElement&&"getBBox"in e},rA=function(e){if(rS(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e.offsetWidth,o=e.offsetHeight;return!(i||o||e.getClientRects().length)},rx=function(e){if(e instanceof Element)return!0;var t,n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},rw=function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},rL="undefined"!=typeof window?window:{},rC=new WeakMap,rP=/auto|scroll/,rD=/^tb|vertical/,rk=/msie|trident/i.test(rL.navigator&&rL.navigator.userAgent),rU=function(e){return parseFloat(e||"0")},rV=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new rR((n?t:e)||0,(n?e:t)||0)},rM=rT({devicePixelContentBoxSize:rV(),borderBoxSize:rV(),contentBoxSize:rV(),contentRect:new rN(0,0,0,0)}),rF=function(e,t){if(void 0===t&&(t=!1),rC.has(e)&&!t)return rC.get(e);if(rA(e))return rC.set(e,rM),rM;var n=getComputedStyle(e),r=rS(e)&&e.ownerSVGElement&&e.getBBox(),i=!rk&&"border-box"===n.boxSizing,o=rD.test(n.writingMode||""),a=!r&&rP.test(n.overflowY||""),s=!r&&rP.test(n.overflowX||""),u=r?0:rU(n.paddingTop),c=r?0:rU(n.paddingRight),l=r?0:rU(n.paddingBottom),f=r?0:rU(n.paddingLeft),d=r?0:rU(n.borderTopWidth),p=r?0:rU(n.borderRightWidth),h=r?0:rU(n.borderBottomWidth),v=r?0:rU(n.borderLeftWidth),g=f+c,y=u+l,m=v+p,E=d+h,b=s?e.offsetHeight-E-e.clientHeight:0,O=a?e.offsetWidth-m-e.clientWidth:0,_=r?r.width:rU(n.width)-(i?g+m:0)-O,I=r?r.height:rU(n.height)-(i?y+E:0)-b,T=rT({devicePixelContentBoxSize:rV(Math.round(_*devicePixelRatio),Math.round(I*devicePixelRatio),o),borderBoxSize:rV(_+g+O+m,I+y+b+E,o),contentBoxSize:rV(_,I,o),contentRect:new rN(f,u,_,I)});return rC.set(e,T),T},rj=function(e,t,n){var r=rF(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case _.DEVICE_PIXEL_CONTENT_BOX:return a;case _.BORDER_BOX:return i;default:return o}},rB=function(e){var t=rF(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=rT([t.borderBoxSize]),this.contentBoxSize=rT([t.contentBoxSize]),this.devicePixelContentBoxSize=rT([t.devicePixelContentBoxSize])},rK=function(e){if(rA(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},rG=function(){var e=1/0,t=[];rO.forEach(function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach(function(t){var n=new rB(t.target),i=rK(t.target);r.push(n),t.lastReportedSize=rj(t.target,t.observedBox),i<e&&(e=i)}),t.push(function(){n.callback.call(n.observer,r,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0;n<t.length;n++)(0,t[n])();return e},rz=function(e){rO.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(rK(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},rH=function(){var e=0;for(rz(0);rO.some(function(e){return e.activeTargets.length>0});)rz(e=rG());return rO.some(function(e){return e.skippedTargets.length>0})&&rI(),e>0},rq=[],rY=function(e){if(!I){var t=0,n=document.createTextNode("");new MutationObserver(function(){return rq.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),I=function(){n.textContent="".concat(t?t--:t++)}}rq.push(e),I()},rW=function(e){rY(function(){requestAnimationFrame(e)})},rZ=0,rJ={attributes:!0,characterData:!0,childList:!0,subtree:!0},rX=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],r$=function(e){return void 0===e&&(e=0),Date.now()+e},rQ=!1,r0=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!rQ){rQ=!0;var n=r$(e);rW(function(){var r=!1;try{r=rH()}finally{if(rQ=!1,e=n-r$(),!rZ)return;r?t.run(1e3):e>0?t.run(e):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,rJ)};document.body?t():rL.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),rX.forEach(function(t){return rL.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),rX.forEach(function(t){return rL.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),r1=function(e){!rZ&&e>0&&r0.start(),(rZ+=e)||r0.stop()},r5=function(){function e(e,t){this.target=e,this.observedBox=t||_.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=rj(this.target,this.observedBox,!0);return rS(e=this.target)||rw(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),r2=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},r3=new WeakMap,r4=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return -1},r7=function(){function e(){}return e.connect=function(e,t){var n=new r2(e,t);r3.set(e,n)},e.observe=function(e,t,n){var r=r3.get(e),i=0===r.observationTargets.length;0>r4(r.observationTargets,t)&&(i&&rO.push(r),r.observationTargets.push(new r5(t,n&&n.box)),r1(1),r0.schedule())},e.unobserve=function(e,t){var n=r3.get(e),r=r4(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&rO.splice(rO.indexOf(n),1),n.observationTargets.splice(r,1),r1(-1))},e.disconnect=function(e){var t=this,n=r3.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),r9=function(){function e(e){if(0==arguments.length)throw TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");r7.connect(this,e)}return e.prototype.observe=function(e,t){if(0==arguments.length)throw TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!rx(e))throw TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");r7.observe(this,e,t)},e.prototype.unobserve=function(e){if(0==arguments.length)throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!rx(e))throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");r7.unobserve(this,e)},e.prototype.disconnect=function(){r7.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function r6(e){return w(w({type:q},e),{toJSON:function(){return e.onDone,e.onError,w(w({},L(e,["onDone","onError"])),{type:q,src:function(e){if("string"==typeof e){var t={type:e};return t.toString=function(){return e},t}return e}(e.src)})}})}var r8={},ie=function(e){return"#"===e[0]},it=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||D([this.machine.key],P(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?er(this.config.states,function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,w(((r={})[i.id]=i,r),i.idMap)),i}):r8;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=C(eA(t)),o=i.next();!o.done;o=i.next()){var a=o.value;e(a)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(e){return""===e.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=eu(this.config.entry||this.config.onEntry).map(function(e){return eV(e)}),this.onExit=eu(this.config.exit||this.config.onExit).map(function(e){return eV(e)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=eu(this.config.invoke).map(function(e,t){if(em(e)){var n,r,i=eR(a.id,t);return a.machine.options.services=w(((n={})[i]=e,n),a.machine.options.services),r6({src:i,id:i})}if(ev(e.src)){var i=e.id||eR(a.id,t);return r6(w(w({},e),{id:i,src:e.src}))}if(em(e.src)||eh(e.src)){var i=e.id||eR(a.id,t);return a.machine.options.services=w(((r={})[i]=e.src,r),a.machine.options.services),r6(w(w({id:i},e),{src:i}))}var o=e.src;return r6(w(w({id:eR(a.id,t)},e),{src:o}))}),this.activities=eu(this.config.activities).concat(this.invoke).map(function(e){return eF(e)}),this.transition=this.transition.bind(this),this.tags=eu(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||(function e(t){var n=[t];return eS(t)?n:n.concat(es(ex(t).map(e)))})(this).forEach(function(e){return e.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,u=r.delays;return new e(this.config,{actions:w(w({},i),t.actions),activities:w(w({},o),t.activities),guards:w(w({},a),t.guards),services:w(w({},s),t.services),delays:w(w({},u),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return eh(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:er(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter(function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType});return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r,i,o,a=(r=eh(t)?"".concat(e.id,":delay[").concat(n,"]"):t,i=e.id,"".concat(y.After,"(").concat(r,")").concat(i?"#".concat(i):""));return e.onEntry.push({to:(o={delay:t}).to,type:j,event:eh(a)?a:eE(a),delay:o?o.delay:void 0,id:o&&void 0!==o.id?o.id:eh(a)?a.name:Q(a)}),e.onExit.push({type:B,sendId:a}),a};return(ep(t)?t.map(function(e,t){var r=n(e.delay,t);return w(w({},e),{event:r})}):es(Object.keys(t).map(function(e,r){var i=t[e],o=ev(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return eu(o).map(function(e){return w(w({},e),{event:s,delay:a})})}))).map(function(t){var n=t.delay;return w(w({},e.formatTransition(t)),{delay:n})})},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof eH?e.value:et(e,this.delimiter);if(ev(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,D([],P(es(o.map(function(e){return n.getStateNode(e).getStateNodes(r[e])}))),!1)),a},e.prototype.handles=function(e){var t=Q(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof eH?e:eH.create(e),n=Array.from(ew([],this.getStateNodes(t.value)));return new eH(w(w({},t),{value:this.resolve(t.value),configuration:n,done:eP(n,this),tags:eD(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=C(Object.keys(e)),s=a.next();!s.done;s=a.next()){var u=s.value,c=e[u];if(c){var l=this.getStateNode(u)._transition(c,t,n);l&&(o[u]=l)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var f=Object.keys(o).map(function(e){return o[e]}),d=es(f.map(function(e){return e.transitions}));if(!f.some(function(e){return e.transitions.length>0}))return this.next(t,n);var p=es(Object.keys(o).map(function(e){return o[e].configuration}));return{transitions:d,exitSet:es(f.map(function(e){return e.exitSet})),configuration:p,source:t,actions:es(Object.keys(o).map(function(e){return o[e].actions}))}},e.prototype._transition=function(e,t,n){return ev(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,eb(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],u=[];try{for(var c=C(this.getCandidates(a)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.cond,p=f.in,h=e.context,v=!p||(ev(p)&&ie(p)?e.matches(et(this.getStateNodeById(p).path,this.delimiter)):$(et(p,this.delimiter),eo(this.path.slice(0,-2))(e.value))),g=!1;try{g=!d||e_(this.machine,d,h,t,e)}catch(e){throw Error("Unable to evaluate guard '".concat(d.name||d.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(g&&v){void 0!==f.target&&(u=f.target),s.push.apply(s,D([],P(f.actions),!1)),i=f;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(i){if(!u.length)return{transitions:[i],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var y=es(u.map(function(t){return o.getRelativeStateNodes(t,e.historyValue)})),m=!!i.internal;return{transitions:[i],exitSet:m?[]:es(u.map(function(e){return o.getPotentiallyReenteringNodes(e)})),configuration:y,source:e,actions:s}}},e.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var t=[],n=this;n&&n!==e;)t.push(n),n=n.parent;return n!==e?[]:(t.push(e),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,u,c,l,f=this,d=o?ew([],this.getStateNodes(o.value)):[],p=new Set;try{for(var h=C(Array.from(e).sort(function(e,t){return e.order-t.order})),v=h.next();!v.done;v=h.next()){var g=v.value;(!eC(d,g)||eC(n.exitSet,g)||g.parent&&p.has(g.parent))&&p.add(g)}}catch(e){s={error:e}}finally{try{v&&!v.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}try{for(var m=C(d),E=m.next();!E.done;E=m.next()){var g=E.value;(!eC(e,g)||eC(n.exitSet,g.parent))&&n.exitSet.push(g)}}catch(e){c={error:e}}finally{try{E&&!E.done&&(l=m.return)&&l.call(m)}finally{if(c)throw c.error}}n.exitSet.sort(function(e,t){return t.order-e.order});var b=Array.from(p).sort(function(e,t){return e.order-t.order}),O=new Set(n.exitSet),_=es(b.map(function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(ej(e.id,e.doneData),ej(o.id,e.doneData?ec(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&ex(a).every(function(e){return eP(n.configuration,e)})&&t.push(ej(a.id)),t})),I=b.map(function(e){var t=e.onEntry,n=e.activities.map(function(e){var t;return t=eF(e),{type:y.Start,activity:t,exec:void 0}});return{type:"entry",actions:eM(a?D(D([],P(t),!1),P(n),!1):D(D([],P(n),!1),P(t),!1),f.machine.options.actions)}}).concat({type:"state_done",actions:_.map(function(e){var t;return{type:F,event:"function"==typeof e?e:eE(e),delay:t?t.delay:void 0,id:null==t?void 0:t.id}})}),T=Array.from(O).map(function(e){return{type:"exit",actions:eM(D(D([],P(e.onExit),!1),P(e.activities.map(function(e){var t;return t=eh(e)?e:eF(e),{type:y.Stop,activity:t,exec:void 0}})),!1),f.machine.options.actions)}}).concat({type:"transition",actions:eM(n.actions,this.machine.options.actions)}).concat(I);if(t){var R=eM(es(D([],P(e),!1).sort(function(e,t){return t.order-e.order}).map(function(e){return e.onExit})),this.machine.options.actions).filter(function(e){return!eN(e)});return T.concat({type:"stop",actions:R})}return T},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=eb(t);if(e instanceof eH)o=void 0===n?e:this.resolveState(eH.from(e,n));else{var s=ev(e)?this.resolve(en(this.getResolvedPath(e))):this.resolve(e),u=null!=n?n:this.machine.context;o=this.resolveState(eH.from(s,u))}if(this.strict&&!this.events.includes(a.name)&&(i=a.name,!/^(done|error)\./.test(i)))throw Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var c=this._transition(o.value,o,a)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},l=ew([],this.getStateNodes(o.value)),f=c.configuration.length?ew(l,c.configuration):l;return c.configuration=D([],P(f),!1),this.resolveTransition(c,o,o.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,D([],P(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,u,c,l,f=this;void 0===i&&(i=ek);var d=e.configuration,p=!t||e.transitions.length>0,h=p?e.configuration:t?t.configuration:[],v=eP(h,this),g=p?(a=ew([o=this.machine],d),function e(t,n){var r=n.get(t);if(!r)return{};if("compound"===t.type){var i=r[0];if(!i)return{};if(eS(i))return i.key}var o={};return r.forEach(function(t){o[t.key]=e(t,n)}),o}(o,eL(a))):void 0,y=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,m=this.getActions(new Set(h),v,e,n,i,t,r),E=t?w({},t.activities):{};try{for(var b=C(m),O=b.next();!O.done;O=b.next()){var _=O.value;try{for(var I=(c=void 0,C(_.actions)),T=I.next();!T.done;T=I.next()){var R=T.value;R.type===V?E[R.activity.id||R.activity.type]=R:R.type===M&&(E[R.activity.id||R.activity.type]=!1)}}catch(e){c={error:e}}finally{try{T&&!T.done&&(l=I.return)&&l.call(I)}finally{if(c)throw c.error}}}}catch(e){s={error:e}}finally{try{O&&!O.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}var N=P(ez(this,t,n,i,m,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),S=N[0],A=N[1],x=P(function(e,t){var n,r,i=P([[],[]],2),o=i[0],a=i[1];try{for(var s=C(e),u=s.next();!u.done;u=s.next()){var c=u.value;t(c)?o.push(c):a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(S,eN),2),L=x[0],D=x[1],k=S.filter(function(e){var t;return e.type===V&&(null===(t=e.activity)||void 0===t?void 0:t.type)===q}).reduce(function(e,t){var n,r,o,a,s,u,c,l;return e[t.activity.id]=(n=t.activity,r=f.machine,o=i,s=eI(n.src),u=null===(a=null==r?void 0:r.options.services)||void 0===a?void 0:a[s.type],c=n.data?ec(n.data,A,o):void 0,(l=u?e$(u,n.id,c):eX(n.id)).meta=n,l),e},t?w({},t.children):{}),U=new eH({value:g||t.value,context:A,_event:i,_sessionid:t?t._sessionid:null,historyValue:g?y?{current:g,states:function e(t,n){return er(t.states,function(t,r){if(t){var i=(ev(n)?void 0:n[r])||(t?t.current:void 0);if(i)return{current:i,states:e(t,i)}}})}(y,g)}:void 0:t?t.historyValue:void 0,history:!g||e.source?t:void 0,actions:g?D:[],activities:g?E:t?t.activities:{},events:[],configuration:h,transitions:e.transitions,children:k,done:v,tags:eD(h),machine:this}),F=n!==A;U.changed=i.name===Z||F;var j=U.history;j&&delete j.history;var B=!v&&(this._transient||d.some(function(e){return e._transient}));if(!p&&(!B||""===i.name))return U;var G=U;if(!v)for(B&&(G=this.resolveRaisedTransition(G,{type:K},i,r));L.length;){var z=L.shift();G=this.resolveRaisedTransition(G,z._event,i,r)}var H=G.changed||(j?!!G.actions.length||F||typeof j.value!=typeof G.value||!function e(t,n){if(t===n)return!0;if(void 0===t||void 0===n)return!1;if(ev(t)||ev(n))return t===n;var r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every(function(r){return e(t[r],n[r])})}(G.value,j.value):void 0);return G.changed=H,G.history=j,G},e.prototype.getStateNode=function(e){if(ie(e))return this.machine.getStateNodeById(e);if(!this.states)throw Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=ie(e)?e.slice(1):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&ie(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=ee(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||r8;switch(this.type){case"parallel":return er(this.initialStateValue,function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):r8});case"compound":if(ev(e)){var r=this.getStateNode(e);if("parallel"===r.type||"compound"===r.type)return(t={})[e]=r.initialStateValue,t;return e}if(!Object.keys(e).length)return this.initialStateValue||{};return er(e,function(e,t){return e?n.getStateNode(t).resolve(e):r8});default:return e||r8}},e.prototype.getResolvedPath=function(e){if(ie(e)){var t=this.machine.idMap[e.slice(1)];if(!t)throw Error("Unable to find state node '".concat(e,"'"));return t.path}return ee(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=ei(this.states,function(e){return e.initialStateValue||r8},function(e){return"history"!==e.type});else if(void 0!==this.initial){if(!this.states[this.initial])throw Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=eS(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=ev(t.target)&&ie(t.target)?en(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return eS(this)?[this]:"compound"!==this.type||this.initial?es(ea(this.initialStateValue).map(function(t){return e.getFromRelativePath(t)})):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=P(e),n=t[0],r=t.slice(1);if(!this.states)throw Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:ei(this.states,function(t,n){if(!e)return t.historyValue();var r=ev(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)},function(e){return!e.history})}},e.prototype.resolveHistory=function(e){var t,n=this;if("history"!==this.type)return[this];var r=this.parent;if(!e){var i=this.target;return i?es(ea(i).map(function(e){return r.getFromRelativePath(e)})):r.initialStateNodes}var o=(t=r.path,function(e){var n,r,i=e;try{for(var o=C(t),a=o.next();!a.done;a=o.next()){var s=a.value;i=i.states[s]}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i})(e).current;return ev(o)?[r.getStateNode(o)]:es(ea(o).map(function(e){return"deep"===n.history?r.getFromRelativePath(e):[r.states[e[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=es(Object.keys(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){if(this.__cache.events)return this.__cache.events;var e,t,n,r,i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=C(Object.keys(i)),s=a.next();!s.done;s=a.next()){var u=i[s.value];if(u.states)try{for(var c=(n=void 0,C(u.events)),l=c.next();!l.done;l=c.next()){var f=l.value;o.add("".concat(f))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){return Array.from(new Set(this.transitions.filter(function(e){return!(!e.target&&!e.actions.length&&e.internal)}).map(function(e){return e.eventType})))},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map(function(e){if(!ev(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}})},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return eu(e)}(e.target),r="internal"in e?e.internal:!n||n.some(function(e){return ev(e)&&e[0]===t.delimiter}),i=this.machine.options.guards,o=this.resolveTarget(n),a=w(w({},e),{actions:eM(eu(e.actions)),cond:eg(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return w(w({},a),{target:a.target?a.target.map(function(e){return"#".concat(e.id)}):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on){if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i["*"],a=L(i,["*"]);n=es(Object.keys(a).map(function(e){return eO(e,a[e])}).concat(eO("*",void 0===o?[]:o)))}}else n=[];var s=this.config.always?eO("",this.config.always):[],u=this.config.onDone?eO(String(ej(this.id)),this.config.onDone):[],c=es(this.invoke.map(function(e){var t=[];return e.onDone&&t.push.apply(t,D([],P(eO(String(eB(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,D([],P(eO(String(eK(e.id)),e.onError)),!1)),t})),l=this.after,f=es(D(D(D(D([],P(u),!1),P(c),!1),P(n),!1),P(s),!1).map(function(e){return eu(e).map(function(e){return r.formatTransition(e)})}));try{for(var d=C(l),p=d.next();!p.done;p=d.next()){var h=p.value;f.push(h)}}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}return f},e}();function ir(){return(ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ii(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var io="undefined"!=typeof window?T.useLayoutEffect:T.useEffect;function ia(e,t,n){return t=(t=+t)==t?t:0,n=(n=+n)==n?n:0,(e=+e)==e&&(e=(e=e<=n?e:n)>=t?e:t),e}function is(e){if(Number.isNaN(e))throw TypeError("Found a NaN! Check your snapPoints / defaultSnap / snapTo ");return Math.round(e)}var iu={box:"border-box"};function ic(e,t){var n=t.label,r=t.enabled,i=t.resizeSourceRef,o=(0,T.useState)(0),a=o[0],s=o[1];(0,T.useDebugValue)(n+": "+a);var u=(0,T.useCallback)(function(e){s(e[0].borderBoxSize[0].blockSize),i.current="element"},[i]);return io(function(){if(e.current&&r){var t=new r9(u);return t.observe(e.current,iu),function(){t.disconnect()}}},[e,u,r]),r?a:0}function il(e){return void 0===e&&(e=1e3),new Promise(function(t){return setTimeout(t,e)})}var id={DRAG:{target:"#overlay.dragging",actions:"onOpenEnd"}},ip={RESIZE:{target:"#overlay.resizing",actions:"onOpenEnd"}},ih=(v={id:"overlay",initial:"closed",context:{initialState:"CLOSED"},states:{closed:{on:{OPEN:"opening",CLOSE:void 0}},opening:{initial:"start",states:{start:{invoke:{src:"onOpenStart",onDone:"transition"}},transition:{always:[{target:"immediately",cond:"initiallyOpen"},{target:"smoothly",cond:"initiallyClosed"}]},immediately:{initial:"open",states:{open:{invoke:{src:"openImmediately",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"#overlay.opening.end"},on:ir({},id,ip)}}},smoothly:{initial:"visuallyHidden",states:{visuallyHidden:{invoke:{src:"renderVisuallyHidden",onDone:"activating"}},activating:{invoke:{src:"activate",onDone:"open"}},open:{invoke:{src:"openSmoothly",onDone:"#overlay.opening.end"},on:ir({},id,ip)}}},end:{invoke:{src:"onOpenEnd",onDone:"done"},on:{CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:ir({},{CLOSE:{target:"#overlay.closing",actions:"onOpenCancel"}}),onDone:"open"},open:{on:{DRAG:"#overlay.dragging",SNAP:"snapping",RESIZE:"resizing"}},dragging:{on:{SNAP:"snapping"}},snapping:{initial:"start",states:{start:{invoke:{src:"onSnapStart",onDone:"snappingSmoothly"},entry:[{type:G,assignment:{y:function(e,t){return t.payload.y},velocity:function(e,t){return t.payload.velocity},snapSource:function(e,t){var n=t.payload.source;return void 0===n?"custom":n}}}]},snappingSmoothly:{invoke:{src:"snapSmoothly",onDone:"end"}},end:{invoke:{src:"onSnapEnd",onDone:"done"},on:{RESIZE:"#overlay.resizing",SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{SNAP:{target:"snapping",actions:"onSnapEnd"},RESIZE:{target:"#overlay.resizing",actions:"onSnapCancel"},DRAG:{target:"#overlay.dragging",actions:"onSnapCancel"},CLOSE:{target:"#overlay.closing",actions:"onSnapCancel"}},onDone:"open"},resizing:{initial:"start",states:{start:{invoke:{src:"onResizeStart",onDone:"resizingSmoothly"}},resizingSmoothly:{invoke:{src:"resizeSmoothly",onDone:"end"}},end:{invoke:{src:"onResizeEnd",onDone:"done"},on:{SNAP:"#overlay.snapping",CLOSE:"#overlay.closing",DRAG:"#overlay.dragging"}},done:{type:"final"}},on:{RESIZE:{target:"resizing",actions:"onResizeEnd"},SNAP:{target:"snapping",actions:"onResizeCancel"},DRAG:{target:"#overlay.dragging",actions:"onResizeCancel"},CLOSE:{target:"#overlay.closing",actions:"onResizeCancel"}},onDone:"open"},closing:{initial:"start",states:{start:{invoke:{src:"onCloseStart",onDone:"deactivating"},on:{OPEN:{target:"#overlay.open",actions:"onCloseCancel"}}},deactivating:{invoke:{src:"deactivate",onDone:"closingSmoothly"}},closingSmoothly:{invoke:{src:"closeSmoothly",onDone:"end"}},end:{invoke:{src:"onCloseEnd",onDone:"done"},on:{OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}}},done:{type:"final"}},on:{CLOSE:void 0,OPEN:{target:"#overlay.opening",actions:"onCloseCancel"}},onDone:"closed"}},on:{CLOSE:"closing"}},void 0===g&&(g=v.context),new it(v,{actions:{onOpenCancel:function(e,t){},onSnapCancel:function(e,t){},onResizeCancel:function(e,t){},onCloseCancel:function(e,t){},onOpenEnd:function(e,t){},onSnapEnd:function(e,t){},onRezizeEnd:function(e,t){}},services:{onSnapStart:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},onOpenStart:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},onCloseStart:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},onResizeStart:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},onSnapEnd:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},onOpenEnd:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},onCloseEnd:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},onResizeEnd:function(){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},renderVisuallyHidden:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},activate:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},deactivate:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},openSmoothly:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},openImmediately:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},snapSmoothly:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},resizeSmoothly:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}},closeSmoothly:function(e,t){try{return Promise.resolve(il()).then(function(){})}catch(e){return Promise.reject(e)}}},guards:{initiallyClosed:function(e){return"CLOSED"===e.initialState},initiallyOpen:function(e){return"OPEN"===e.initialState}}},g)),iv=["children","sibling","className","footer","header","open","initialState","lastSnapRef","initialFocusRef","onDismiss","maxHeight","defaultSnap","snapPoints","blocking","scrollLocking","style","onSpringStart","onSpringCancel","onSpringEnd","reserveScrollBarGap","expandOnContentDrag"],ig=["velocity"],iy=["onRest","config"],im={tension:170,friction:26},iE=im.tension,ib=im.friction,iO=T.forwardRef(function(e,t){var n,r,i,o,a,s,u,c,l,f,d,p,h,v,g,y,m,E,b,_,I,R,N,S,A,x=e.children,w=e.sibling,L=e.className,C=e.footer,P=e.header,D=e.open,k=e.initialState,U=e.lastSnapRef,V=e.initialFocusRef,M=e.onDismiss,F=e.maxHeight,j=e.defaultSnap,B=void 0===j?iI:j,K=e.snapPoints,G=e.blocking,z=void 0===G||G,H=e.scrollLocking,q=e.style,Y=e.onSpringStart,W=e.onSpringCancel,Z=e.onSpringEnd,J=e.reserveScrollBarGap,X=e.expandOnContentDrag,$=void 0!==X&&X,Q=ii(e,iv),ee=(eu=(es=(0,T.useState)(!1))[0],ec=es[1],ef=(el=(0,T.useState)({}))[0],ed=el[1],ep=(0,T.useCallback)(function(e){return ed(function(t){var n;return ir({},t,((n={})[e]=!1,n))}),function(){ed(function(t){var n;return ir({},t,((n={})[e]=!0,n))})}},[]),(0,T.useEffect)(function(){var e=Object.values(ef);0!==e.length&&e.every(Boolean)&&ec(!0)},[ef]),{ready:eu,registerReady:ep}),et=ee.ready,en=ee.registerReady,er=(0,T.useRef)(!1),ei=(0,T.useRef)(Y),eo=(0,T.useRef)(W),ea=(0,T.useRef)(Z);(0,T.useEffect)(function(){ei.current=Y,eo.current=W,ea.current=Z},[W,Y,Z]);var es,eu,ec,el,ef,ed,ep,eh,ev,eg,ey,em,eE,eb,eO,e_,eI,eT,eR,eN,eS,eA,ex,ew,eL,eC,eP,eD,ek,eU,eV,eM,eF,ej,eB,eK,eG,ez,eY,eW,eZ,eJ,eX,e$,eQ,e0,e1,e5,e2,e3,to,ta,ts,tu,tc,tl,tf,td,tp,th,tv=tD(function(){return{y:0,ready:0,maxHeight:0,minSnap:0,maxSnap:0}}),tg=tv[0],ty=tv[1],tm=(0,T.useRef)(null),tE=(0,T.useRef)(null),tb=(0,T.useRef)(null),tO=(0,T.useRef)(null),t_=(0,T.useRef)(null),tI=(0,T.useRef)(null),tT=(0,T.useRef)(0),tR=(0,T.useRef)(),tN=(0,T.useRef)(!1),tS=(tp=(0,T.useMemo)(function(){return"undefined"!=typeof window?window.matchMedia("(prefers-reduced-motion: reduce)"):null},[]),th=(0,T.useRef)(null==tp?void 0:tp.matches),(0,T.useDebugValue)(th.current?"reduce":"no-preference"),(0,T.useEffect)(function(){var e=function(e){th.current=e.matches};return null==tp||tp.addListener(e),function(){return null==tp?void 0:tp.removeListener(e)}},[tp]),th),tx=(ev=(eh={targetRef:tE,enabled:et&&(void 0===H||H),reserveScrollBarGap:void 0===J?z:J}).targetRef,eg=eh.enabled,ey=eh.reserveScrollBarGap,em=(0,T.useRef)({activate:function(){throw TypeError("Tried to activate scroll lock too early")},deactivate:function(){}}),(0,T.useDebugValue)(eg?"Enabled":"Disabled"),(0,T.useEffect)(function(){if(!eg)return em.current.deactivate(),void(em.current={activate:function(){},deactivate:function(){}});var e=ev.current,t=!1;em.current={activate:function(){t||(t=!0,rE(e,{allowTouchMove:function(e){return e.closest("[data-body-scroll-lock-ignore]")},reserveScrollBarGap:ey}))},deactivate:function(){t&&(t=!1,rb(e))}}},[eg,ev,ey]),em),tw=(eb=(eE={targetRef:tm,enabled:et&&z}).targetRef,eO=eE.enabled,e_=(0,T.useRef)({activate:function(){throw TypeError("Tried to activate aria hider too early")},deactivate:function(){}}),(0,T.useDebugValue)(eO?"Enabled":"Disabled"),(0,T.useEffect)(function(){if(!eO)return e_.current.deactivate(),void(e_.current={activate:function(){},deactivate:function(){}});var e=eb.current,t=!1,n=[],r=[];e_.current={activate:function(){if(!t){t=!0;var i=e.parentNode;document.querySelectorAll("body > *").forEach(function(e){if(e!==i){var t=e.getAttribute("aria-hidden");null!==t&&"false"!==t||(n.push(t),r.push(e),e.setAttribute("aria-hidden","true"))}})}},deactivate:function(){t&&(t=!1,r.forEach(function(e,t){var r=n[t];null===r?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r)}),n=[],r=[])}}},[eb,eO]),e_),tL=(eT=(eI={targetRef:tm,fallbackRef:tI,initialFocusRef:V||void 0,enabled:et&&z&&!1!==V}).targetRef,eR=eI.fallbackRef,eN=eI.initialFocusRef,eS=eI.enabled,eA=(0,T.useRef)({activate:function(){throw TypeError("Tried to activate focus trap too early")},deactivate:function(){}}),(0,T.useDebugValue)(eS?"Enabled":"Disabled"),(0,T.useEffect)(function(){if(!eS)return eA.current.deactivate(),void(eA.current={activate:function(){},deactivate:function(){}});var e=eR.current,t=ro(eT.current,{onActivate:void 0,initialFocus:eN?function(){return(null==eN?void 0:eN.current)||e}:void 0,fallbackFocus:e,escapeDeactivates:!1,clickOutsideDeactivates:!1}),n=!1;eA.current={activate:function(){try{return n?Promise.resolve():(n=!0,Promise.resolve(t.activate()).then(function(){return Promise.resolve(new Promise(function(e){return setTimeout(function(){return e(void 0)},0)})).then(function(){})}))}catch(e){return Promise.reject(e)}},deactivate:function(){n&&(n=!1,t.deactivate())}}},[eS,eR,eN,eT]),eA),tC=(e0=(ex={contentRef:tb,controlledMaxHeight:F,footerEnabled:!!C,footerRef:t_,getSnapPoints:void 0===K?iT:K,headerEnabled:!1!==P,headerRef:tO,heightRef:tT,lastSnapRef:U,ready:et,registerReady:en,resizeSourceRef:tR}).getSnapPoints,e1=ex.heightRef,e5=ex.lastSnapRef,e2=ex.ready,eM=(ew={contentRef:ex.contentRef,controlledMaxHeight:ex.controlledMaxHeight,footerEnabled:ex.footerEnabled,footerRef:ex.footerRef,headerEnabled:ex.headerEnabled,headerRef:ex.headerRef,registerReady:ex.registerReady,resizeSourceRef:ex.resizeSourceRef}).contentRef,eF=ew.controlledMaxHeight,ej=ew.footerEnabled,eB=ew.footerRef,eK=ew.headerEnabled,eG=ew.headerRef,ez=ew.registerReady,eY=ew.resizeSourceRef,eW=(0,T.useMemo)(function(){return ez("contentHeight")},[ez]),eL=eY,eC=(0,T.useMemo)(function(){return ez("maxHeight")},[ez]),eD=(eP=(0,T.useState)(function(){return is(eF)||"undefined"!=typeof window?window.innerHeight:0}))[0],ek=eP[1],eU=eD>0,eV=(0,T.useRef)(0),(0,T.useDebugValue)(eF?"controlled":"auto"),(0,T.useEffect)(function(){eU&&eC()},[eU,eC]),io(function(){if(eF)return ek(is(eF)),void(eL.current="maxheightprop");var e=function(){eV.current||(eV.current=requestAnimationFrame(function(){ek(window.innerHeight),eL.current="window",eV.current=0}))};return window.addEventListener("resize",e),ek(window.innerHeight),eL.current="window",eC(),function(){window.removeEventListener("resize",e),cancelAnimationFrame(eV.current)}},[eF,eC,eL]),eZ=ic(eG,{label:"headerHeight",enabled:eK,resizeSourceRef:eY}),eJ=ic(eM,{label:"contentHeight",enabled:!0,resizeSourceRef:eY}),e$=Math.min(eD-eZ-(eX=ic(eB,{label:"footerHeight",enabled:ej,resizeSourceRef:eY})),eJ)+eZ+eX,(0,T.useDebugValue)("minHeight: "+e$),eQ=eJ>0,(0,T.useEffect)(function(){eQ&&eW()},[eQ,eW]),to=(e3={maxHeight:eD,minHeight:e$,headerHeight:eZ,footerHeight:eX}).maxHeight,ta=e3.minHeight,ts=e3.headerHeight,tu=e3.footerHeight,tl=(tc=function(e,t){var n=Array.from([].concat(e).map(is).reduce(function(e,n){return e.add(ia(n,0,t)),e},new Set)),r=Math.min.apply(Math,n);if(Number.isNaN(r))throw TypeError("minSnap is NaN");var i=Math.max.apply(Math,n);if(Number.isNaN(i))throw TypeError("maxSnap is NaN");return{snapPoints:n,minSnap:r,maxSnap:i}}(e2?e0({height:e1.current,footerHeight:tu,headerHeight:ts,minHeight:ta,maxHeight:to}):[0],to)).snapPoints,tf=tc.minSnap,td=tc.maxSnap,(0,T.useDebugValue)("minSnap: "+tf+", maxSnap:"+td),{minSnap:tf,maxSnap:td,findSnap:function(e){var t=is("function"==typeof e?e({footerHeight:tu,headerHeight:ts,height:e1.current,minHeight:ta,maxHeight:to,snapPoints:tl,lastSnap:e5.current}):e);return tl.reduce(function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e},tf)},maxHeight:to}),tP=tC.minSnap,tk=tC.maxSnap,tU=tC.maxHeight,tV=tC.findSnap,tM=(0,T.useRef)(tU),tF=(0,T.useRef)(tP),tj=(0,T.useRef)(tk),tB=(0,T.useRef)(tV),tK=(0,T.useRef)(0);io(function(){tM.current=tU,tj.current=tk,tF.current=tP,tB.current=tV,tK.current=tV(B)},[tV,B,tU,tk,tP]);var tG=(0,T.useCallback)(function(e){var t=e.onRest,n=e.config,r=(n=void 0===n?{}:n).velocity,i=void 0===r?1:r,o=ii(n,ig),a=ii(e,iy);return new Promise(function(e){return ty(ir({},a,{config:ir({velocity:i},o,{mass:1,tension:iE,friction:Math.max(ib,ib+(ib-ib*i))}),onRest:function(){var n=[].slice.call(arguments);e.apply(void 0,n),null==t||t.apply(void 0,n)}}))})},[ty]),tz=(n={devTools:!1,actions:{onOpenCancel:(0,T.useCallback)(function(){return null==eo.current?void 0:eo.current({type:"OPEN"})},[]),onSnapCancel:(0,T.useCallback)(function(e){return null==eo.current?void 0:eo.current({type:"SNAP",source:e.snapSource})},[]),onCloseCancel:(0,T.useCallback)(function(){return null==eo.current?void 0:eo.current({type:"CLOSE"})},[]),onResizeCancel:(0,T.useCallback)(function(){return null==eo.current?void 0:eo.current({type:"RESIZE",source:tR.current})},[]),onOpenEnd:(0,T.useCallback)(function(){return null==ea.current?void 0:ea.current({type:"OPEN"})},[]),onSnapEnd:(0,T.useCallback)(function(e,t){return null==ea.current?void 0:ea.current({type:"SNAP",source:e.snapSource})},[]),onResizeEnd:(0,T.useCallback)(function(){return null==ea.current?void 0:ea.current({type:"RESIZE",source:tR.current})},[])},context:{initialState:k},services:{onSnapStart:(0,T.useCallback)(function(e,t){try{return Promise.resolve(null==ei.current?void 0:ei.current({type:"SNAP",source:t.payload.source||"custom"}))}catch(e){return Promise.reject(e)}},[]),onOpenStart:(0,T.useCallback)(function(){try{return Promise.resolve(null==ei.current?void 0:ei.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}},[]),onCloseStart:(0,T.useCallback)(function(){try{return Promise.resolve(null==ei.current?void 0:ei.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}},[]),onResizeStart:(0,T.useCallback)(function(){try{return Promise.resolve(null==ei.current?void 0:ei.current({type:"RESIZE",source:tR.current}))}catch(e){return Promise.reject(e)}},[]),onSnapEnd:(0,T.useCallback)(function(e,t){try{return Promise.resolve(null==ea.current?void 0:ea.current({type:"SNAP",source:e.snapSource}))}catch(e){return Promise.reject(e)}},[]),onOpenEnd:(0,T.useCallback)(function(){try{return Promise.resolve(null==ea.current?void 0:ea.current({type:"OPEN"}))}catch(e){return Promise.reject(e)}},[]),onCloseEnd:(0,T.useCallback)(function(){try{return Promise.resolve(null==ea.current?void 0:ea.current({type:"CLOSE"}))}catch(e){return Promise.reject(e)}},[]),onResizeEnd:(0,T.useCallback)(function(){try{return Promise.resolve(null==ea.current?void 0:ea.current({type:"RESIZE",source:tR.current}))}catch(e){return Promise.reject(e)}},[]),renderVisuallyHidden:(0,T.useCallback)(function(e,t){try{return Promise.resolve(tG({y:tK.current,ready:0,maxHeight:tM.current,maxSnap:tj.current,minSnap:tK.current,immediate:!0})).then(function(){})}catch(e){return Promise.reject(e)}},[tG]),activate:(0,T.useCallback)(function(e,t){try{return er.current=!0,Promise.resolve(Promise.all([tx.current.activate(),tL.current.activate(),tw.current.activate()])).then(function(){})}catch(e){return Promise.reject(e)}},[tw,tL,tx]),deactivate:(0,T.useCallback)(function(){try{return tx.current.deactivate(),tL.current.deactivate(),tw.current.deactivate(),er.current=!1,Promise.resolve()}catch(e){return Promise.reject(e)}},[tw,tL,tx]),openImmediately:(0,T.useCallback)(function(){try{return tT.current=tK.current,Promise.resolve(tG({y:tK.current,ready:1,maxHeight:tM.current,maxSnap:tj.current,minSnap:tK.current,immediate:!0})).then(function(){})}catch(e){return Promise.reject(e)}},[tG]),openSmoothly:(0,T.useCallback)(function(){try{return Promise.resolve(tG({y:0,ready:1,maxHeight:tM.current,maxSnap:tj.current,minSnap:tK.current,immediate:!0})).then(function(){return tT.current=tK.current,Promise.resolve(tG({y:tK.current,ready:1,maxHeight:tM.current,maxSnap:tj.current,minSnap:tK.current,immediate:tS.current})).then(function(){})})}catch(e){return Promise.reject(e)}},[tG,tS]),snapSmoothly:(0,T.useCallback)(function(e,t){try{var n=tB.current(e.y);return tT.current=n,U.current=n,Promise.resolve(tG({y:n,ready:1,maxHeight:tM.current,maxSnap:tj.current,minSnap:tF.current,immediate:tS.current,config:{velocity:e.velocity}})).then(function(){})}catch(e){return Promise.reject(e)}},[tG,U,tS]),resizeSmoothly:(0,T.useCallback)(function(){try{var e=tB.current(tT.current);return tT.current=e,U.current=e,Promise.resolve(tG({y:e,ready:1,maxHeight:tM.current,maxSnap:tj.current,minSnap:tF.current,immediate:"element"!==tR.current||tS.current})).then(function(){})}catch(e){return Promise.reject(e)}},[tG,U,tS]),closeSmoothly:(0,T.useCallback)(function(e,t){try{return tG({minSnap:tT.current,immediate:!0}),tT.current=0,Promise.resolve(tG({y:0,maxHeight:tM.current,maxSnap:tj.current,immediate:tS.current})).then(function(){return Promise.resolve(tG({ready:0,immediate:!0})).then(function(){})})}catch(e){return Promise.reject(e)}},[tG,tS])}},r=(0,T.useCallback)(function(e){var t=void 0===e.changed&&Object.keys(e.children).length;(e.changed||t)&&E(e)},[]),void 0===(i=n)&&(i={}),o=e7(function(){return"function"==typeof ih?ih():ih}),a=i.context,s=i.guards,u=i.actions,c=i.activities,l=i.services,f=i.delays,d=i.state,p=tr(i,["context","guards","actions","activities","services","delays","state"]),h=e7(function(){return e4(o.withConfig({context:a,guards:s,actions:u,activities:c,services:l,delays:f},function(){return tn(tn({},o.context),a)}),tn({deferEvents:!0},p))}),eq(function(){var e;return r&&(e=h.subscribe(function(e,t,n){if("object"==typeof e)return e;var r=function(){};return{next:e,error:r,complete:r}}(r))),function(){null==e||e.unsubscribe()}},[r]),eq(function(){return h.start(d?eH.create(d):void 0),function(){h.stop()}},[]),eq(function(){Object.assign(h.machine.options.actions,u),Object.assign(h.machine.options.guards,s),Object.assign(h.machine.options.activities,c),Object.assign(h.machine.options.services,l),Object.assign(h.machine.options.delays,f)},[u,s,c,l,f]),v=(0,T.useRef)([]),g=(0,T.useRef)([]),eq(function(){var e=h.subscribe(function(e){var t,n;if(e.actions.length){var r=e8(function(e,t){var n,r,i=e9([[],[]],2),o=i[0],a=i[1];try{for(var s=e6(e),u=s.next();!u.done;u=s.next()){var c=u.value;t(c)?o.push(c):a.push(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(e.actions.filter(function(e){return"function"==typeof e.exec&&"__effect"in e.exec}),function(e){return e.exec.__effect===O.Effect}),2),i=r[0],o=r[1];(t=v.current).push.apply(t,te([],e8(i.map(function(t){return[t,e]})),!1)),(n=g.current).push.apply(n,te([],e8(o.map(function(t){return[t,e]})),!1))}});return function(){e.unsubscribe()}},[]),eq(function(){for(;g.current.length;){var e=e8(g.current.shift(),2);tt(e[0],e[1])}}),(0,T.useEffect)(function(){for(;v.current.length;){var e=e8(v.current.shift(),2);tt(e[0],e[1])}}),m=(y=ti((0,T.useState)(function(){var e=h.machine.initialState;return n.state?eH.create(n.state):e}),2))[0],E=y[1],[m,h.send,h]),tH=tz[0],tq=tz[1];(0,T.useEffect)(function(){et&&tq(D?"OPEN":"CLOSE")},[D,tq,et]),io(function(){(tU||tk||tP)&&tq("RESIZE")},[tU,tk,tP,tq]),(0,T.useEffect)(function(){return function(){tx.current.deactivate(),tL.current.deactivate(),tw.current.deactivate()}},[tw,tL,tx]),(0,T.useImperativeHandle)(t,function(){return{snapTo:function(e,t){var n=void 0===t?{}:t,r=n.velocity,i=n.source;tq("SNAP",{payload:{y:tB.current(e),velocity:void 0===r?1:r,source:void 0===i?"custom":i}})},get height(){return tT.current}}},[tq]),(0,T.useEffect)(function(){var e=tE.current,t=function(e){tN.current&&e.preventDefault()},n=function(t){e.scrollTop<0&&(requestAnimationFrame(function(){e.style.overflow="hidden",e.scrollTop=0,e.style.removeProperty("overflow")}),t.preventDefault())};return $&&(e.addEventListener("scroll",t),e.addEventListener("touchmove",t),e.addEventListener("touchstart",n)),function(){e.removeEventListener("scroll",t),e.removeEventListener("touchmove",t),e.removeEventListener("touchstart",n)}},[$,tE]);var tY=function(e,t){void 0===t&&(t={}),nT.set("drag",nF);var n,r,i,o,a,s,u,c,l,f=(0,T.useRef)();return f.current||(f.current=(o=[],a=!1,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a&&r===this&&function(e,t){try{return function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var r,i,o,a;if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!==n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if("function"==typeof Map&&t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(a=t.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;for(a=t.entries();!(i=a.next()).done;)if(!e(i.value[1],n.get(i.value[0])))return!1;return!0}if("function"==typeof Set&&t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(a=t.entries();!(i=a.next()).done;)if(!n.has(i.value[0]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;if("undefined"!=typeof Element&&t instanceof Element)return!1;for(i=r;0!=i--;)if(("_owner"!==o[i]||!t.$$typeof)&&!e(t[o[i]],n[o[i]]))return!1;return!0}return t!=t&&n!=n}(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}(t,o)||(i=nO.apply(this,t),a=!0,r=this,o=t),i})),s={drag:e},u=f.current(t),void 0===c&&(c={}),n=new Set,s.drag&&n.add(nT.get("drag")),s.wheel&&n.add(nT.get("wheel")),s.scroll&&n.add(nT.get("scroll")),s.move&&n.add(nT.get("move")),s.pinch&&n.add(nT.get("pinch")),s.hover&&n.add(nT.get("hover")),((l=T.useMemo(function(){return new nx(n)},[])).config=u,l.handlers=s,l.nativeRefs=c,T.useEffect(l.effect,[]),l.config.domTarget)?nk:l.bind}(function(e){var t=e.args,n=(t=void 0===t?[]:t)[0],r=(n=void 0===n?{}:n).closeOnTap,i=n.isContentDragging,o=e.cancel,a=e.direction[1],s=e.down,u=e.first,c=e.last,l=e.memo,f=void 0===l?tg.y.getValue():l,d=e.tap,p=e.velocity,h=-1*e.movement[1];if(!er.current)return o(),f;if(M&&void 0!==r&&r&&d)return o(),setTimeout(function(){return M()},0),f;if(d)return f;var v=f+h,g=h*p,y=Math.max(tF.current,Math.min(tj.current,v+2*g));if(!s&&M&&a>0&&v+g<tF.current/2)return o(),M(),f;var m=s?M||tF.current!==tj.current?no(v,M?0:tF.current,tj.current,.55):v<tF.current?no(v,tF.current,2*tj.current,.55):no(v,tF.current/2,tj.current,.55):y;return $&&void 0!==i&&i?(m>=tj.current&&(m=tj.current),f===tj.current&&tE.current.scrollTop>0&&(m=tj.current),tN.current=m<tj.current):tN.current=!1,u&&tq("DRAG"),c?(tq("SNAP",{payload:{y:m,velocity:p>.05?p:1,source:"dragging"}}),f):(ty({y:m,ready:1,maxHeight:tM.current,maxSnap:tj.current,minSnap:tF.current,immediate:!0,config:{velocity:p}}),f)},{filterTaps:!0});if(Number.isNaN(tj.current))throw TypeError("maxSnapRef is NaN!!");if(Number.isNaN(tF.current))throw TypeError("minSnapRef is NaN!!");var tW=(_=tA([tg.y,tg.maxHeight],function(e,t){return Math.round(ia(t-e,0,16))+"px"}),I=tA([tg.y,tg.minSnap,tg.maxSnap],function(e,t,n){return ia(e,t,n)+"px"}),R=tA([tg.y,tg.minSnap,tg.maxSnap],function(e,t,n){return e<t?t-e+"px":e>n?n-e+"px":"0px"}),N=tA([tg.y,tg.maxSnap],function(e,t){return e>=t?Math.ceil(e-t):0}),S=tA([tg.y,tg.minSnap],function(e,t){if(!t)return 0;var n=Math.max(t/2-45,0);return ia((e-n)*(1/(Math.min(t/2+45,t)-n)+0),0,1)}),A=tA([tg.y,tg.minSnap],function(e,t){return t?ia(e/t,0,1):0}),(b={})["--rsbs-content-opacity"]=S,b["--rsbs-backdrop-opacity"]=A,b["--rsbs-antigap-scale-y"]=N,b["--rsbs-overlay-translate-y"]=R,b["--rsbs-overlay-rounded"]=_,b["--rsbs-overlay-h"]=I,b);return T.createElement(t8.div,ir({},Q,{"data-rsbs-root":!0,"data-rsbs-state":i_.find(tH.matches),"data-rsbs-is-blocking":z,"data-rsbs-is-dismissable":!!M,"data-rsbs-has-header":!!P,"data-rsbs-has-footer":!!C,className:L,ref:tm,style:ir({},tW,q,{opacity:tg.ready})}),w,z&&T.createElement("div",ir({key:"backdrop","data-rsbs-backdrop":!0},tY({closeOnTap:!0}))),T.createElement("div",{key:"overlay","aria-modal":"true",role:"dialog","data-rsbs-overlay":!0,tabIndex:-1,ref:tI,onKeyDown:function(e){"Escape"===e.key&&(e.stopPropagation(),M&&M())}},!1!==P&&T.createElement("div",ir({key:"header","data-rsbs-header":!0,ref:tO},tY()),P),T.createElement("div",ir({key:"scroll","data-rsbs-scroll":!0,ref:tE},$?tY({isContentDragging:!0}):{}),T.createElement("div",{"data-rsbs-content":!0,ref:tb},x)),C&&T.createElement("div",ir({key:"footer",ref:t_,"data-rsbs-footer":!0},tY()),C)))}),i_=["closed","opening","open","closing","dragging","snapping","resizing"];function iI(e){var t=e.lastSnap;return null!=t?t:Math.min.apply(Math,e.snapPoints)}function iT(e){return e.minHeight}var iR=["onSpringStart","onSpringEnd","skipInitialTransition"],iN=(0,T.forwardRef)(function(e,t){var n=e.onSpringStart,r=e.onSpringEnd,i=e.skipInitialTransition,o=ii(e,iR),a=(0,T.useState)(!1),s=a[0],u=a[1],c=(0,T.useRef)(),l=(0,T.useRef)(null),f=(0,T.useRef)(i&&o.open?"OPEN":"CLOSED");io(function(){if(o.open)return cancelAnimationFrame(c.current),u(!0),function(){f.current="CLOSED"}},[o.open]);var d=(0,T.useCallback)(function(e){return Promise.resolve(null==n?void 0:n(e)).then(function(){"OPEN"===e.type&&cancelAnimationFrame(c.current)})},[n]),p=(0,T.useCallback)(function(e){return Promise.resolve(null==r?void 0:r(e)).then(function(){"CLOSE"===e.type&&(c.current=requestAnimationFrame(function(){return u(!1)}))})},[r]);return s?T.createElement(x,{"data-rsbs-portal":!0},T.createElement(iO,ir({},o,{lastSnapRef:l,ref:t,initialState:f.current,onSpringStart:d,onSpringEnd:p}))):null})},11719:function(e,t,n){var r=n(12998),i=n(36541),o=i;o.v1=r,o.v4=i,e.exports=o},53973:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}},6963:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},12998:function(e,t,n){var r,i,o=n(6963),a=n(53973),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:new Date().getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=h-s+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=d;var y=((268435455&(h+=122192928e5))*1e4+v)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var m=h/4294967296*1e4&268435455;l[c++]=m>>>8&255,l[c++]=255&m,l[c++]=m>>>24&15|16,l[c++]=m>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var E=0;E<6;++E)l[c+E]=f[E];return t||a(l)}},36541:function(e,t,n){var r=n(6963),i=n(53973);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},91895:function(e){"use strict";e.exports=function(){}},57271:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(40351),i=n(27378);function o(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function a(e){return null==e?[]:Array.isArray(e)?e.slice():[e]}function s(e){return null!==e&&1===e.length?e[0]:e.slice()}function u(e){Object.keys(e).forEach(t=>{"undefined"!=typeof document&&document.addEventListener(t,e[t],!1)})}function c(e,t){let n;return l(((n=e)<=t.min&&(n=t.min),n>=t.max&&(n=t.max),n),t)}function l(e,t){let n=(e-t.min)%t.step,r=e-n;return 2*Math.abs(n)>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))}let f=function(e){function t(t){var n;(n=e.call(this,t)||this).onKeyUp=()=>{n.onEnd()},n.onMouseUp=()=>{n.onEnd(n.getMouseEventMap())},n.onTouchEnd=e=>{e.preventDefault(),n.onEnd(n.getTouchEventMap())},n.onBlur=()=>{n.setState({index:-1},n.onEnd(n.getKeyDownEventMap()))},n.onMouseMove=e=>{n.setState({pending:!0});let t=n.getMousePosition(e),r=n.getDiffPosition(t[0]),i=n.getValueFromPosition(r);n.move(i)},n.onTouchMove=e=>{if(e.touches.length>1)return;n.setState({pending:!0});let t=n.getTouchPosition(e);if(void 0===n.isScrolling){let e=t[0]-n.startPosition[0],r=t[1]-n.startPosition[1];n.isScrolling=Math.abs(r)>Math.abs(e)}if(n.isScrolling)return void n.setState({index:-1});let r=n.getDiffPosition(t[0]),i=n.getValueFromPosition(r);n.move(i)},n.onKeyDown=e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(n.setState({pending:!0}),e.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":e.preventDefault(),n.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":e.preventDefault(),n.moveUpByStep();break;case"Home":e.preventDefault(),n.move(n.props.min);break;case"End":e.preventDefault(),n.move(n.props.max);break;case"PageDown":e.preventDefault(),n.moveDownByStep(n.props.pageFn(n.props.step));break;case"PageUp":e.preventDefault(),n.moveUpByStep(n.props.pageFn(n.props.step))}},n.onSliderMouseDown=e=>{if(!n.props.disabled&&2!==e.button){if(n.setState({pending:!0}),!n.props.snapDragDisabled){let t=n.getMousePosition(e);n.forceValueFromPosition(t[0],e=>{n.start(e,t[0]),u(n.getMouseEventMap())})}o(e)}},n.onSliderClick=e=>{if(!n.props.disabled&&n.props.onSliderClick&&!n.hasMoved){let t=n.getMousePosition(e),r=c(n.calcValue(n.calcOffsetFromPosition(t[0])),n.props);n.props.onSliderClick(r)}},n.createOnKeyDown=e=>t=>{n.props.disabled||(n.start(e),u(n.getKeyDownEventMap()),o(t))},n.createOnMouseDown=e=>t=>{if(n.props.disabled||2===t.button)return;n.setState({pending:!0});let r=n.getMousePosition(t);n.start(e,r[0]),u(n.getMouseEventMap()),o(t)},n.createOnTouchStart=e=>t=>{if(n.props.disabled||t.touches.length>1)return;n.setState({pending:!0});let r=n.getTouchPosition(t);n.startPosition=r,n.isScrolling=void 0,n.start(e,r[0]),u(n.getTouchEventMap()),t.stopPropagation&&t.stopPropagation()},n.handleResize=()=>{let e=window.setTimeout(()=>{n.pendingResizeTimeouts.shift(),n.resize()},0);n.pendingResizeTimeouts.push(e)},n.renderThumb=(e,t)=>{let r=n.props.thumbClassName+" "+n.props.thumbClassName+"-"+t+" "+(n.state.index===t?n.props.thumbActiveClassName:""),i={ref:e=>{n["thumb"+t]=e},key:n.props.thumbClassName+"-"+t,className:r,style:e,onMouseDown:n.createOnMouseDown(t),onTouchStart:n.createOnTouchStart(t),onFocus:n.createOnKeyDown(t),tabIndex:0,role:"slider","aria-orientation":n.props.orientation,"aria-valuenow":n.state.value[t],"aria-valuemin":n.props.min,"aria-valuemax":n.props.max,"aria-label":Array.isArray(n.props.ariaLabel)?n.props.ariaLabel[t]:n.props.ariaLabel,"aria-labelledby":Array.isArray(n.props.ariaLabelledby)?n.props.ariaLabelledby[t]:n.props.ariaLabelledby,"aria-disabled":n.props.disabled},o={index:t,value:s(n.state.value),valueNow:n.state.value[t]};return n.props.ariaValuetext&&(i["aria-valuetext"]="string"==typeof n.props.ariaValuetext?n.props.ariaValuetext:n.props.ariaValuetext(o)),n.props.renderThumb(i,o)},n.renderTrack=(e,t,r)=>{let i={key:n.props.trackClassName+"-"+e,className:n.props.trackClassName+" "+n.props.trackClassName+"-"+e,style:n.buildTrackStyle(t,n.state.upperBound-r)},o={index:e,value:s(n.state.value)};return n.props.renderTrack(i,o)};let r=a(t.value);r.length||(r=a(t.defaultValue)),n.pendingResizeTimeouts=[];let l=[];for(let e=0;e<r.length;e+=1)r[e]=c(r[e],t),l.push(e);return n.resizeObserver=null,n.resizeElementRef=i.createRef(),n.state={index:-1,upperBound:0,sliderLength:0,value:r,zIndices:l},n}(0,r.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){"undefined"!=typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(e,t){let n=a(e.value);return n.length?t.pending?null:{value:n.map(t=>c(t,e))}:null},n.componentDidUpdate=function(){0===this.state.upperBound&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(e){e&&function(e){Object.keys(e).forEach(t=>{"undefined"!=typeof document&&document.removeEventListener(t,e[t],!1)})}(e),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return s(this.state.value)},n.getClosestIndex=function(e){let t=Number.MAX_VALUE,n=-1,{value:r}=this.state,i=r.length;for(let o=0;o<i;o+=1){let i=this.calcOffset(r[o]),a=Math.abs(e-i);a<t&&(t=a,n=o)}return n},n.getMousePosition=function(e){return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(e){let t=e.touches[0];return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(e){let t=e/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return c(this.state.startValue+t,this.props)},n.getDiffPosition=function(e){let t=e-this.state.startPosition;return this.props.invert&&(t*=-1),t},n.resize=function(){let{slider:e,thumb0:t}=this;if(!e||!t)return;let n=this.sizeKey(),r=e.getBoundingClientRect(),i=e[n],o=r[this.posMaxKey()],a=r[this.posMinKey()],s=t.getBoundingClientRect()[n.replace("client","").toLowerCase()],u=i-s,c=Math.abs(o-a);this.state.upperBound===u&&this.state.sliderLength===c&&this.state.thumbSize===s||this.setState({upperBound:u,sliderLength:c,thumbSize:s})},n.calcOffset=function(e){let t=this.props.max-this.props.min;return 0===t?0:(e-this.props.min)/t*this.state.upperBound},n.calcValue=function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(e){let{slider:t}=this,n=t.getBoundingClientRect(),r=n[this.posMaxKey()],i=n[this.posMinKey()],o=e-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?r:i));return this.props.invert&&(o=this.state.sliderLength-o),o-=this.state.thumbSize/2},n.forceValueFromPosition=function(e,t){let n=this.calcOffsetFromPosition(e),r=this.getClosestIndex(n),i=c(this.calcValue(n),this.props),o=this.state.value.slice();o[r]=i;for(let e=0;e<o.length-1;e+=1)if(o[e+1]-o[e]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:o},()=>{t(r),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{let e=this.pendingResizeTimeouts.shift();clearTimeout(e)}while(this.pendingResizeTimeouts.length)},n.start=function(e,t){let n=this["thumb"+e];n&&n.focus();let{zIndices:r}=this.state;r.splice(r.indexOf(e),1),r.push(e),this.setState(n=>({startValue:n.value[e],startPosition:void 0!==t?t:n.startPosition,index:e,zIndices:r}))},n.moveUpByStep=function(e){void 0===e&&(e=this.props.step);let t=this.state.value[this.state.index],n=c(this.props.invert&&"horizontal"===this.props.orientation?t-e:t+e,this.props);this.move(Math.min(n,this.props.max))},n.moveDownByStep=function(e){void 0===e&&(e=this.props.step);let t=this.state.value[this.state.index],n=c(this.props.invert&&"horizontal"===this.props.orientation?t+e:t-e,this.props);this.move(Math.max(n,this.props.min))},n.move=function(e){let t=this.state.value.slice(),{index:n}=this.state,{length:r}=t,i=t[n];if(e===i)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;let{pearling:o,max:a,min:s,minDistance:u}=this.props;if(!o){if(n>0){let r=t[n-1];e<r+u&&(e=r+u)}if(n<r-1){let r=t[n+1];e>r-u&&(e=r-u)}}t[n]=e,o&&r>1&&(e>i?(this.pushSucceeding(t,u,n),function(e,t,n,r){for(let i=0;i<e;i+=1){let o=r-i*n;t[e-1-i]>o&&(t[e-1-i]=o)}}(r,t,u,a)):e<i&&(this.pushPreceding(t,u,n),function(e,t,n,r){for(let i=0;i<e;i+=1){let e=r+i*n;t[i]<e&&(t[i]=e)}}(r,t,u,s))),this.setState({value:t},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(e,t,n){let r,i;for(i=e[r=n]+t;null!==e[r+1]&&i>e[r+1];r+=1,i=e[r]+t)e[r+1]=l(i,this.props)},n.pushPreceding=function(e,t,n){for(let r=n,i=e[r]-t;null!==e[r-1]&&i<e[r-1];r-=1,i=e[r]-t)e[r-1]=l(i,this.props)},n.axisKey=function(){return"vertical"===this.props.orientation?"Y":"X"},n.orthogonalAxisKey=function(){return"vertical"===this.props.orientation?"X":"Y"},n.posMinKey=function(){return"vertical"===this.props.orientation?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return"vertical"===this.props.orientation?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return"vertical"===this.props.orientation?"clientHeight":"clientWidth"},n.fireChangeEvent=function(e){this.props[e]&&this.props[e](s(this.state.value),this.state.index)},n.buildThumbStyle=function(e,t){let n={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(t)+1};return n[this.posMinKey()]=e+"px",n},n.buildTrackStyle=function(e,t){let n={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return n[this.posMinKey()]=e,n[this.posMaxKey()]=t,n},n.buildMarkStyle=function(e){var t;return(t={position:"absolute"})[this.posMinKey()]=e,t},n.renderThumbs=function(e){let{length:t}=e,n=[];for(let r=0;r<t;r+=1)n[r]=this.buildThumbStyle(e[r],r);let r=[];for(let e=0;e<t;e+=1)r[e]=this.renderThumb(n[e],e);return r},n.renderTracks=function(e){let t=[],n=e.length-1;t.push(this.renderTrack(0,0,e[0]));for(let r=0;r<n;r+=1)t.push(this.renderTrack(r+1,e[r],e[r+1]));return t.push(this.renderTrack(n+1,e[n],this.state.upperBound)),t},n.renderMarks=function(){let{marks:e}=this.props,t=this.props.max-this.props.min+1;return"boolean"==typeof e?e=Array.from({length:t}).map((e,t)=>t):"number"==typeof e&&(e=Array.from({length:t}).map((e,t)=>t).filter(t=>t%e==0)),e.map(parseFloat).sort((e,t)=>e-t).map(e=>{let t=this.calcOffset(e),n={key:e,className:this.props.markClassName,style:this.buildMarkStyle(t)};return this.props.renderMark(n)})},n.render=function(){let e=[],{value:t}=this.state,n=t.length;for(let r=0;r<n;r+=1)e[r]=this.calcOffset(t[r],r);let r=this.props.withTracks?this.renderTracks(e):null,o=this.renderThumbs(e),a=this.props.marks?this.renderMarks():null;return i.createElement("div",{ref:e=>{this.slider=e,this.resizeElementRef.current=e},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},r,o,a)},t}(i.Component);f.displayName="ReactSlider",f.defaultProps={min:0,max:100,step:1,pageFn:e=>10*e,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>i.createElement("div",e),renderTrack:e=>i.createElement("div",e),renderMark:e=>i.createElement("span",e)};var d=f}}]);